(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[947],{1817:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return ct}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_lumaView"},[t.shared_folder_path?[a("div",{staticClass:"_panes"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show_chutier,expression:"show_chutier"}],key:"myContent",staticClass:"_myContent"},[t.show_authors_modal?a("AuthorList",{on:{close:function(e){t.show_authors_modal=!1}}}):t._e(),t.connected_as?a("MyChutier",{attrs:{shared_space_path:t.shared_folder_path},on:{showAuthorModal:t.showAuthorModal,close:function(e){t.show_chutier=!1}}}):t._e()],1),t.show_chutier?t._e():a("button",{staticClass:"_openChutier",attrs:{type:"button"},on:{click:function(e){t.show_chutier=!0}}},[t._v(" "+t._s(t.$t("open_chutier"))+" ")]),a("div",{key:"sharedContent",staticClass:"_sharedContent"},[a("SharedFolder",{attrs:{shared_folder_path:t.shared_folder_path}})],1)])]:a("LoaderSpinner")],2)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseModal2",{attrs:{title:t.$t("contributors")},on:{close:function(e){return t.$emit("close")}}},[a("div",[t.connected_as?t.connected_as?a("fieldset",[a("legend",{staticClass:"u-label"},[t._v(t._s(t.$t("your_account")))]),a("AuthorCard",{key:t.connected_as.$path,attrs:{author:t.connected_as}})],1):t._e():[a("RadioSwitch",{attrs:{content:t.current_mode,options:[{label:t.$t("login"),value:"login"},{label:t.$t("create_account"),value:"create"}]},on:{"update:content":function(e){t.current_mode=e}}}),a("br"),"login"===t.current_mode?a("LoginAs",{attrs:{authors:t.authors},on:{close:function(e){return t.$emit("close")}}}):"create"===t.current_mode?a("CreateAuthor",{on:{close:function(e){return t.$emit("close")}}}):t._e(),a("br")],a("br"),t.connected_as?[a("button",{staticClass:"u-button u-button_red",attrs:{type:"button"},on:{click:t.logout}},[t._v(" "+t._s(t.$t("logout"))+" ")]),a("br"),a("br")]:t._e(),a("DLabel",{attrs:{str:t.$t("list_of_contributors")}}),0===t.authors.length?a("small",[t._v(" "+t._s(t.$t("no_accounts_yet"))+" ")]):a("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:function(e){t.show_authors_list=!t.show_authors_list}}},[t._v(" "+t._s(t.$t("show_list"))+" ("+t._s(t.authors_except_self.length)+") ")]),t.show_authors_list?a("div",{staticClass:"_listOfAuthors"},t._l(t.authors_except_self,(function(t){return a("AuthorCard",{key:t.$path,attrs:{author:t}})})),1):t._e()],2)])},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_createAuthor"},[a("form",{staticClass:"input-validation-required",on:{submit:function(e){return e.preventDefault(),t.createAuthor.apply(null,arguments)}}},[a("fieldset",[a("legend",{staticClass:"u-label"},[t._v(t._s(t.$t("new_account")))]),a("TextInput",{attrs:{content:t.new_author_name,label_str:"name_or_pseudonym",required:!0,maxlength:40,autocomplete:"username"},on:{"update:content":function(e){t.new_author_name=e},toggleValidity:function(e){return t.allow_save=e}}}),a("br"),a("TextInput",{attrs:{content:t.new_author_email,label_str:"email",required:!1,input_type:"email",autocomplete:"email"},on:{"update:content":function(e){t.new_author_email=e},toggleValidity:function(e){return t.allow_save=e}}}),a("br"),a("TextInput",{attrs:{content:t.new_author_password,label_str:t.$t("password"),minlength:3,maxlength:20,required:!0,input_type:"password",autocomplete:"new-password"},on:{"update:content":function(e){t.new_author_password=e},toggleValidity:function(e){return t.allow_save=e}}}),a("br"),a("DLabel",{attrs:{str:t.$t("role")}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.new_author_role,expression:"new_author_role"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.new_author_role=e.target.multiple?a:a[0]}}},t._l(t.author_roles,(function(e){return a("option",{key:e,domProps:{value:e,textContent:t._s(t.$t(e))}})})),0),a("br"),a("button",{staticClass:"u-button u-button_bleuvert",attrs:{slot:"footer",loading:t.is_creating_author,type:"submit"},slot:"footer"},[t._v(" "+t._s(t.$t("create"))+" ")])],1),t.error_msg?[a("div",{staticClass:"u-errorMsg",domProps:{textContent:t._s(t.error_msg)}})]:t._e()],2)])},l=[],c={props:{},components:{},data(){return{new_author_email:"",new_author_name:"",new_author_password:"",new_author_role:"contributor",author_roles:["contributor","admin"],is_creating_author:!1,error_msg:""}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async createAuthor(){this.is_creating_author=!0;try{const t=await this.$api.createFolder({path:"/authors",additional_meta:{email:this.new_author_email,name:this.new_author_name,requested_slug:this.new_author_name,role:this.new_author_role,$status:"public",$password:this.new_author_password}});this.new_author_name="",await this.$api.loginToFolder({path:"authors/"+t,auth_infos:{$password:this.new_author_password}}),this.$emit("close")}catch(t){this.error_msg="Error: "+t.message,setTimeout((()=>{this.error_msg=""}),5e3)}this.is_creating_author=!1}}},d=c,u=(a(7880),a(1001)),_=(0,u.Z)(d,n,l,!1,null,"3d4180e5",null),h=_.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_authorCard"},[a("TitleField",{attrs:{field_name:"name",label:t.$t("name"),content:t.author.name,path:t.author.$path,required:!0,minlength:3,maxlength:40,tag:"h2",can_edit:t.is_self}}),a("small",[t._v(" "+t._s(t.author.$path)+" ")]),a("br"),a("SelectField",{attrs:{field_name:"role",content:t.author.role,path:t.author.$path,can_edit:t.is_self,options:[{key:"contributor",text:t.$t("contributor"),instruction:t.$t("contributor_instructions")},{key:"admin",text:t.$t("admin"),instruction:t.$t("admin_instructions")}]}}),a("br"),t.is_self||t.is_admin?a("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:t.removeAuthor}}):t._e()],1)},f=[],m={props:{author:Object},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{is_self(){return!!this.connected_as&&this.connected_as.$path===this.author.$path}},methods:{async removeAuthor(){await this.$api.deleteItem({path:this.author.$path}),this.is_self&&await this.$api.logoutFromFolder()}}},v=m,g=(a(2744),(0,u.Z)(v,p,f,!1,null,"8c54b0c8",null)),b=g.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.connected_as?t._e():a("form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[a("fieldset",[a("legend",{staticClass:"u-label"},[t._v(t._s(t.$t("your_account")))]),a("TextInput",{ref:"nameField",attrs:{content:t.name_of_account,label_str:"name_or_pseudonym",required:!0,input_type:"text",autocomplete:"username"},on:{"update:content":function(e){t.name_of_account=e},toggleValidity:function(e){return t.allow_save=e}}}),a("br"),a("TextInput",{ref:"passwordField",attrs:{label_str:t.$t("password"),content:t.input_password,required:!0,input_type:"password",autocomplete:"current-password"},on:{"update:content":function(e){t.input_password=e},toggleValidity:function(e){return t.allow_save=e}}}),a("button",{staticClass:"u-buttonLink",attrs:{type:"button"}},[t._v(" "+t._s(t.$t("recover_password"))+" ")]),a("br"),a("br"),a("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("login"))+" ")])],1)])])},y=[],$={props:{authors:Array},components:{},data(){return{name_of_account:"",input_password:""}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async login(){const t=this.authors.find((t=>t.name===this.name_of_account));if(!t)return this.$refs.nameField.$el.querySelector("input").select(),void this.$alertify.delay(4e3).error(this.$t("account_doesnt_exist"));const e=t.$path;this.$api.loginToFolder({path:e,auth_infos:{$password:this.input_password}}).then((()=>{this.$alertify.delay(4e3).success(this.$t("logged_in")),this.$emit("close")})).catch((t=>{"submitted_password_is_wrong"===t&&(this.$refs.passwordField.$el.querySelector("input").select(),this.$alertify.delay(4e4).error(this.$t("submitted_password_is_wrong")))}))}}},x=$,C=(0,u.Z)(x,w,y,!1,null,"5d3cb9d8",null),k=C.exports,F={props:{},components:{CreateAuthor:h,AuthorCard:b,LoginAs:k},data(){return{current_mode:"login",show_authors_list:!1,authors:[]}},created(){},async mounted(){this.authors=await this.$api.getFolders({path:"authors"}),0===this.authors.length&&(this.current_mode="create")},beforeDestroy(){},watch:{},computed:{authors_except_self(){return this.connected_as?this.authors.filter((t=>t.$path!==this.connected_as.$path)):this.authors}},methods:{async logout(){try{this.reponse=await this.$api.logoutFromFolder()}catch(t){return this.response=t,this.$alertify.delay(4e3).error(t),!1}}}},M=F,j=(a(6093),(0,u.Z)(M,o,r,!1,null,"d03d2a68",null)),S=j.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.chutier?a("div",{staticClass:"_myChutier",on:{click:function(e){t.last_clicked=!1}}},[a("div",{staticClass:"_topContent"},[a("div",{staticClass:"_subscribeBtn"},[a("button",{staticClass:"u-button u-button_bleumarine _authorBtn",attrs:{type:"button"},on:{click:function(e){return t.$emit("showAuthorModal")}}},[t.connected_as?[t._v(" "+t._s(t.connected_as.name)+" ")]:[t._v(t._s(t.$t("login")))]],2)]),a("div",{staticClass:"_importBtn"},[a("input",{staticClass:"inputfile-2",attrs:{type:"file",multiple:"multiple",id:t.id+"-add_file",name:"file",accept:""},on:{change:function(e){return t.updateInputFiles(e)}}}),a("label",{attrs:{for:t.id+"-add_file"}},[t._v(" "+t._s(t.$t("import"))+" ")]),t.selected_files.length>0?a("UploadFiles",{attrs:{selected_files:t.selected_files,path:t.path},on:{close:function(e){t.selected_files=[]},importedMedias:t.importedMedias}}):t._e()],1),a("button",{attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(t._s(t.$t("fold")))])]),a("div",{staticClass:"_middleContent"},[a("label",{attrs:{for:""}},[t._v("Éléments à traiter : "+t._s(t.chutier_items.length)+" ")]),a("br"),t.chutier_items.length>0?a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.selectAll}},[t._v(" Sélectionner tout ")]):t._e()]),a("div",{staticClass:"_items"},t._l(t.chutier_items_grouped,(function(e){return a("div",{key:e.label,staticClass:"_item"},[a("div",{staticClass:"_item--label"},[a("DateField",{attrs:{date:e.label,show_detail_initially:!1}}),a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(a){t.selectRange(e.files.map((function(t){return t.$path})))}}},[t._v(" Sélectionner ")])],1),a("transition-group",{attrs:{tag:"div",name:"listComplete"}},t._l(e.files,(function(e){return a("div",{key:e.$path,staticClass:"_item--files",on:{click:function(a){a.stopPropagation(),t.last_clicked=e.$path}}},[a("ChutierItem",{attrs:{file:e,is_clicked:t.last_clicked===e.$path,is_selected:t.selected_items.includes(e.$path),shared_space_path:t.shared_space_path},on:{toggleSelect:function(a){return t.toggleSelect(e.$path)},focus:function(a){return t.focusItem(e.$path)}}})],1)})),0)],1)})),0),t.selected_items.length>0?a("div",{staticClass:"_selectionBar"},[a("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:t.setSelectionAsFocus}},[t._v(" "+t._s(t.$t("create_stack"))+" ")]),a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.removeItemsInSelection}},[t._v(" Supprimer la sélection ")]),a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.deselectAll}},[t._v(" Déselectionner tout ")])]):t._e(),t.focused_items.length>0?a("MediaFocus",{staticClass:"_mediaFocusInPane",attrs:{files:t.focused_items},on:{close:function(e){t.focused_items_slugs=[]}}}):t._e()],1):t._e()},A=[],B=(a(5827),a(7658),a(6699),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_chutierItem",class:{"is--clicked":t.is_clicked}},[a("div",{staticClass:"_rows"},[a("div",{staticClass:"u-sameRow"},[a("input",{staticClass:"_selectBox",attrs:{type:"checkbox"},domProps:{checked:t.is_selected},on:{change:function(e){return t.$emit("toggleSelect")}}}),a("div",{staticClass:"_openLarge",on:{click:function(e){t.show_large=!0}}},[a("MediaContent",{staticClass:"_chutierItem--preview",attrs:{file:t.file,context:"preview"}})],1),a("div",{},[a("div",[a("small",[a("DateField",{attrs:{date:t.file.$date_created,show_detail_initially:!0}})],1),t.edit_mode?[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text_title,expression:"text_title"}],attrs:{type:"text",required:"",placeholder:"Remplir pour partager"},domProps:{value:t.text_title},on:{click:t.setFocus,input:function(e){e.target.composing||(t.text_title=e.target.value)}}})]:a("span",[t._v(" "+t._s(t.text_title)+" ")])],2)]),t.edit_mode?t._e():a("EditBtn",{on:{click:function(e){t.edit_mode=!0}}})],1),a("transition",{attrs:{name:"scaleInFade",mode:"out-in"}},[a("sl-icon-button",{key:t.share_button_is_enabled,staticClass:"_shareBtn",class:{"is--disabled":!t.share_button_is_enabled},staticStyle:{"font-size":"1rem"},attrs:{name:"arrow-right-square",label:t.$t("share"),circle:""},on:{click:t.shareButtonClicked}})],1)],1),t.edit_mode||t.keywords?a("div",{staticClass:"_keywords"},[t.edit_mode?[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",required:"",placeholder:"Mot-clé, matériaux, lieux, etc."},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),0===t.keywords.length?a("span",{staticClass:"u-instructions"},[t._v(" Corrigez ou complétez le titre et les mots-clés pour partager ce document. ")]):a("div",{staticClass:"_suggestions"},t._l(t.panes[0].categories,(function(e){return a("button",{key:e,staticClass:"u-button u-button_orange",attrs:{type:"button"}},[t._v(" "+t._s(e)+" ")])})),0)]:a("div",[a("span",{staticClass:"u-button u-button_orange"},[t._v(" "+t._s(t.keywords)+" ")])])],2):t._e(),t.show_large?a("div",{staticClass:"_largePreview",on:{click:function(e){t.show_large=!1}}},[a("MediaContent",{attrs:{file:t.file,context:"full",resolution:1600}}),a("sl-button",{staticClass:"_closeBtn",attrs:{variant:"default",size:"medium",circle:""},on:{click:function(e){t.show_large=!1}}},[a("sl-icon",{attrs:{name:"x-lg",label:t.$t("close")}})],1)],1):t._e()])}),D=[],L={props:{file:Object,is_selected:Boolean,is_clicked:Boolean,shared_space_path:String},components:{},data(){return{is_focused:!1,opened_pane:void 0,show_large:!1,edit_mode:!1,panes:[{key:"materials",label:this.$t("materials"),categories:["abjection","abjections","abjectly","abjectness","abjectnesses","abjects","abjoint","abjointed","abjointing","abjoints","abjunction","abjunctions","abjuration","abjurations","abjure","abjured","abjurer","abjurers","abjures","abjuring"]},{key:"techniques",label:this.$t("techniques")},{key:"implementations",label:this.$t("implementations")}],text_title:this.file.title||this.file.$media_filename||"",keywords:this.file.keywords||""}},created(){},mounted(){},beforeDestroy(){},watch:{is_clicked(){!this.is_clicked&&this.edit_mode&&(this.saveFields(),this.edit_mode=!1)}},computed:{share_button_is_enabled(){return!(0===this.text_title.length||this.text_title===this.file.$media_filename&&!this.file.title||0===this.keywords.length)}},methods:{async moveToSharedSpace(){const t=this.shared_space_path;await this.$api.copyFile({path:this.file.$path,destination_path_to_folder:t}),await this.remove()},async remove(){this.$api.deleteItem({path:this.file.$path})},async shareButtonClicked(){if(this.share_button_is_enabled){if(this.edit_mode)return await this.saveFields(),void await this.moveToSharedSpace();await this.moveToSharedSpace()}else this.edit_mode=!0},setFocus(){this.is_focused=!0},openLarge(){this.$emit("")},async saveFields(){await this.$api.updateMeta({path:this.file.$path,new_meta:{title:this.text_title,keywords:this.keywords}}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},save(){},cancel(){this.edit_mode=!1}}},T=L,Z=(a(3448),(0,u.Z)(T,B,D,!1,null,"2ed5580d",null)),P=Z.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_mediaFocus"},[t._v(" Document à compléter "),t.files.length>1?[t._v(" "+t._s(t.files.length)+" documents à compléter dans cette pile ")]:t._e(),a("sl-button",{staticClass:"_closeBtn",attrs:{variant:"default",size:"medium",circle:""},on:{click:function(e){return t.$emit("close")}}},[a("sl-icon",{attrs:{name:"x-lg",label:t.$t("close")}})],1),a("div",{staticClass:"_itemsList"},t._l(t.files,(function(t){return a("div",{key:t.$path},[a("MediaContent",{attrs:{file:t,context:"preview"}}),a("input",{attrs:{type:"text"}})],1)})),0),a("TitleField",{staticClass:"_title",attrs:{field_name:"title",content:t.files[0].$media_filename,required:!0,maxlength:40,can_edit:!0}})],2)},O=[],E={props:{files:Array},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},z=E,N=(a(435),(0,u.Z)(z,q,O,!1,null,"4305bc7c",null)),V=N.exports,J={props:{shared_space_path:String},components:{ChutierItem:P,MediaFocus:V},data(){return{chutier:void 0,selected_files:[],id:`image_select_${(Math.random().toString(36)+"00000000000000000").slice(2,5)}`,last_clicked:void 0,selected_items:[],focused_items_slugs:[]}},created(){},mounted(){this.listChutier(),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{chutier_items(){this.selected_items=this.selected_items.filter((t=>this.chutier_items.find((e=>e.$path===t))))}},computed:{path(){return this.connected_as.$path},focused_items(){return this.focused_items_slugs.map((t=>this.chutier_items.find((e=>e.$path===t))))},chutier_items(){if(!this.chutier||!this.chutier.$files)return[];const t=JSON.parse(JSON.stringify(this.chutier.$files));return t.sort(((t,e)=>+new Date(e.$date_uploaded)-+new Date(t.$date_uploaded))),t},chutier_items_grouped(){const t=this.chutier_items.reduce(((t,e)=>{var a=new Date(e.$date_created),s=a.getUTCMonth()+1,i=a.getUTCDate(),o=a.getUTCFullYear();const r=o+"/"+s+"/"+i;return Object.prototype.hasOwnProperty.call(t,r)||(t[r]=[]),t[r].push(e),t}),{});let e=[];for(const a in t)Object.prototype.hasOwnProperty.call(e,a)||e.push(a);return e.sort(),e.reverse(),e.map((e=>({label:e,files:t[e]})))}},methods:{async listChutier(){this.chutier=await this.$api.getFolder({path:this.path}).catch((t=>{this.fetch_project_error=t.response,this.is_loading=!1}))},toggleSelect(t){this.selected_items.includes(t)?this.selected_items=this.selected_items.filter((e=>e!==t)):this.selected_items.push(t)},focusItem(t){this.focused_items_slugs=[t]},setSelectionAsFocus(){this.focused_items_slugs=JSON.parse(JSON.stringify(this.selected_items))},updateInputFiles(t){this.selected_files=Array.from(t.target.files),t.target.value=""},async importedMedias(t){this.selected_items=t.map((t=>this.connected_as.$path+"/"+t))},selectAll(){this.selected_items=this.chutier_items.map((t=>t.$path))},deselectAll(){this.selected_items=[]},selectRange(t){this.selected_items=t},async removeItemsInSelection(){for(const t of this.selected_items)await this.$api.deleteItem({path:t})}}},R=J,U=(a(8531),(0,u.Z)(R,I,A,!1,null,"1fa893e2",null)),K=U.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.shared_folder?a("div",[t._m(0),a("div",{staticClass:"_grid"},t._l(t.shared_items,(function(t){return a("SharedFolderItem",{key:t.$path,staticClass:"_item",attrs:{file:t}})})),1)]):t._e()},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_floatingTopBtn"},[a("div",{},[t._v("Espace partagé")])])}],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_sharedFolderItem"},[a("MediaContent",{staticClass:"_sharedFolderItem--preview",attrs:{file:t.file,context:"preview"}}),a("span",{staticClass:"_titleKeywords"},[t._v(" "+t._s(t.file.title)+" "+t._s(t.file.keywords)+" ")]),a("button",{staticClass:"u-button u-button_transparent _removeBtn",attrs:{type:"button"},on:{click:function(e){return t.removeMedia(t.file.$path)}}},[a("sl-icon",{attrs:{name:"trash3"}})],1)],1)},Q=[],W={props:{file:Object},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{removeMedia(t){this.$api.deleteItem({path:t})}}},X=W,tt=(a(333),(0,u.Z)(X,H,Q,!1,null,"25d6b5b3",null)),et=tt.exports,at={props:{shared_folder_path:String},components:{SharedFolderItem:et},data(){return{shared_folder:void 0}},created(){},async mounted(){this.shared_folder=await this.$api.getFolder({path:this.shared_folder_path}),this.$api.join({room:this.shared_folder_path})},beforeDestroy(){},watch:{},computed:{shared_items(){var t;if(null===(t=this.shared_folder)||void 0===t||!t.$files)return[];const e=JSON.parse(JSON.stringify(this.shared_folder.$files));return e.sort(((t,e)=>+new Date(e.$date_uploaded)-+new Date(t.$date_uploaded))),e}},methods:{}},st=at,it=(a(8362),(0,u.Z)(st,Y,G,!1,null,"416ef2e6",null)),ot=it.exports,rt={props:{},components:{AuthorList:S,MyChutier:K,SharedFolder:ot},data(){return{path:"folders",folders:void 0,shared_folder_path:void 0,show_authors_modal:!1,show_chutier:!0}},created(){},async mounted(){this.$i18n.locale="fr",await this.loadFolder(),this.connected_as||this.showAuthorModal()},beforeDestroy(){},watch:{connected_as(){}},computed:{},methods:{async loadFolder(){this.folders=await this.$api.getFolders({path:this.path}).catch((t=>{this.fetch_spaces_error=t.response})),0===this.folders.length?(await this.createFolder(),window.location.reload()):this.shared_folder_path=this.folders[0].$path},async createFolder(){try{const t=await this.$api.createFolder({path:this.path});return t}catch(t){}},showAuthorModal(){this.show_authors_modal=!0}}},nt=rt,lt=(a(2609),(0,u.Z)(nt,s,i,!1,null,"55d58fd4",null)),ct=lt.exports},9376:function(t,e,a){"use strict";a.r(e);var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o),n=r()(i());n.push([t.id,"._authorCard[data-v-8c54b0c8]{padding:calc(var(--spacing)/2)}",""]),e["default"]=n},2673:function(t,e,a){"use strict";a.r(e);var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o),n=r()(i());n.push([t.id,"._listOfAuthors[data-v-d03d2a68]{display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/4);margin:calc(var(--spacing)/4) 0}",""]),e["default"]=n},2748:function(t,e,a){"use strict";a.r(e);var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o),n=r()(i());n.push([t.id,"",""]),e["default"]=n},3702:function(t,e,a){"use strict";a.r(e);var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o),n=r()(i());n.push([t.id,"._chutierItem[data-v-2ed5580d]{width:100%;padding:2px;margin:2px;background:hsla(0,0%,100%,.1);box-shadow:0 0 5px hsla(0,0%,100%,.06);border-radius:5px}._chutierItem.is--clicked[data-v-2ed5580d]{border-color:#333}._rows[data-v-2ed5580d]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;gap:calc(var(--spacing)/2)}._chutierItem--preview[data-v-2ed5580d]{position:relative;height:70px;border-radius:2px;width:70px;flex:0 0 auto;overflow:hidden}._chutierItem--preview[data-v-2ed5580d]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._catBtn[data-v-2ed5580d]{background:#ffbe32;border-radius:5px;margin:2px;padding:2px}._paneSelector[data-v-2ed5580d]{text-align:center}._paneSelector--btns[data-v-2ed5580d]{min-height:60px;display:flex;justify-content:center;align-items:center;gap:calc(var(--spacing)/4)}._openLarge[data-v-2ed5580d]{display:block;cursor:pointer}._openLarge[data-v-2ed5580d]:hover{opacity:.8}._largePreview[data-v-2ed5580d]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;background:#000}._largePreview[data-v-2ed5580d]  ._mediaContent{width:100%;height:100%}._largePreview[data-v-2ed5580d]  ._mediaContent .u-floatingFsButton{display:none}._largePreview[data-v-2ed5580d]  ._mediaContent ._mediaContent--image{width:100%;height:100%;-o-object-fit:contain;object-fit:contain;-o-object-position:center;object-position:center}._largePreview ._closeBtn[data-v-2ed5580d]{position:absolute;top:0;right:0;margin:calc(var(--spacing)/2)}._keywords[data-v-2ed5580d]{display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/2);padding:calc(var(--spacing)/2);justify-content:center}._shareBtn.is--disabled[data-v-2ed5580d]{opacity:.3}._shareBtn[data-v-2ed5580d]::part(base){color:#fff}._shareBtn[data-v-2ed5580d]::part(base):focus,._shareBtn[data-v-2ed5580d]::part(base):hover{color:var(--c-bleuvert)}._shareBtn[data-v-2ed5580d]::part(base):active{color:#ccc}",""]),e["default"]=n},5316:function(t,e,a){"use strict";a.r(e);var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o),n=r()(i());n.push([t.id,"._mediaFocus[data-v-4305bc7c]{margin:2px;background:#fff;box-shadow:0 0 5px rgba(0,0,0,.06);border:2px solid #fff;border-radius:5px}._itemsList[data-v-4305bc7c],._mediaFocus[data-v-4305bc7c]{padding:calc(var(--spacing)/2)}._itemsList[data-v-4305bc7c]{background:#eee}._closeBtn[data-v-4305bc7c]{position:absolute;top:0;right:0}",""]),e["default"]=n},9785:function(t,e,a){"use strict";a.r(e);var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o),n=r()(i());n.push([t.id,"._myChutier[data-v-1fa893e2]{--chutier-bg:#212427;height:100%;overflow:auto;background:#f9f9f9;background:var(--chutier-bg);color:#fff}._topContent[data-v-1fa893e2]{position:sticky;z-index:1;display:flex;gap:calc(var(--spacing)/2);top:0;padding:calc(var(--spacing)/1);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);-webkit-mask:linear-gradient(#000 75%,transparent);mask:linear-gradient(#000 75%,transparent)}._middleContent[data-v-1fa893e2]{padding:0 calc(var(--spacing)/1)}._items[data-v-1fa893e2]{padding:calc(var(--spacing)/1)}._item[data-v-1fa893e2]{margin-bottom:calc(var(--spacing)/1)}._item--files.is--lastClicked[data-v-1fa893e2]{border:2px solid red}._item--label[data-v-1fa893e2]{font-weight:500;display:flex;gap:calc(var(--spacing)/4)}._selectionBar[data-v-1fa893e2]{position:sticky;bottom:0;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center;gap:calc(var(--spacing)/2);padding:calc(var(--spacing)/1)}._mediaFocusInPane[data-v-1fa893e2],._selectionBar[data-v-1fa893e2]{width:100%;background:var(--chutier-bg)}._mediaFocusInPane[data-v-1fa893e2]{position:absolute;z-index:10;top:0;height:100%}",""]),e["default"]=n},5101:function(t,e,a){"use strict";a.r(e);var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o),n=r()(i());n.push([t.id,"._grid[data-v-416ef2e6]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:2px;margin:2px}._removeBtn[data-v-416ef2e6]{position:absolute;top:0;right:0;z-index:1}._floatingTopBtn[data-v-416ef2e6]{position:sticky;top:0;z-index:1;width:100%;display:flex;justify-content:center;padding:calc(var(--spacing)/1);pointer-events:none}._floatingTopBtn>*[data-v-416ef2e6]{border-radius:25px;padding:calc(var(--spacing)/1) calc(var(--spacing)*2);background:#000;color:#fff;pointer-events:auto}",""]),e["default"]=n},6722:function(t,e,a){"use strict";a.r(e);var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o),n=r()(i());n.push([t.id,"._sharedFolderItem[data-v-25d6b5b3]{position:relative;aspect-ratio:1/1;border-radius:4px;flex:0 0 auto;overflow:hidden}._sharedFolderItem ._sharedFolderItem--preview[data-v-25d6b5b3]{width:100%;height:100%}._sharedFolderItem[data-v-25d6b5b3]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._titleKeywords[data-v-25d6b5b3]{position:absolute;bottom:0;left:0;width:100%}",""]),e["default"]=n},5287:function(t,e,a){"use strict";a.r(e);var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o),n=r()(i());n.push([t.id,"._lumaView[data-v-55d58fd4],._panes[data-v-55d58fd4]{height:100%}._panes[data-v-55d58fd4]{display:flex;flex-flow:row nowrap}._myContent[data-v-55d58fd4]{position:relative;z-index:1;flex:0 0 420px;height:100%;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.52)}._sharedContent[data-v-55d58fd4]{height:100%;flex:1 1 auto}._openChutier[data-v-55d58fd4]{position:absolute;top:0;left:0}",""]),e["default"]=n},2744:function(t,e,a){var s=a(9376);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var i=a(1982).Z;i("9487f366",s,!0,{sourceMap:!1,shadowMode:!1})},6093:function(t,e,a){var s=a(2673);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var i=a(1982).Z;i("4f10f38e",s,!0,{sourceMap:!1,shadowMode:!1})},7880:function(t,e,a){var s=a(2748);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var i=a(1982).Z;i("121c10f6",s,!0,{sourceMap:!1,shadowMode:!1})},3448:function(t,e,a){var s=a(3702);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var i=a(1982).Z;i("0fb06605",s,!0,{sourceMap:!1,shadowMode:!1})},435:function(t,e,a){var s=a(5316);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var i=a(1982).Z;i("9966e22e",s,!0,{sourceMap:!1,shadowMode:!1})},8531:function(t,e,a){var s=a(9785);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var i=a(1982).Z;i("472c471d",s,!0,{sourceMap:!1,shadowMode:!1})},8362:function(t,e,a){var s=a(5101);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var i=a(1982).Z;i("b223f4e2",s,!0,{sourceMap:!1,shadowMode:!1})},333:function(t,e,a){var s=a(6722);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var i=a(1982).Z;i("4a22fce5",s,!0,{sourceMap:!1,shadowMode:!1})},2609:function(t,e,a){var s=a(5287);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var i=a(1982).Z;i("3823d027",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=LumaView.js.map