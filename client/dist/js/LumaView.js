(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[947],{4805:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ue}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"_lumaView",class:{"is--mobile_view":e.$root.is_mobile_view}},[e.shared_folder_path?[i("div",{staticClass:"_panes"},[i("div",{key:"myContent",staticClass:"_myContent",class:{"is--shown":e.show_chutier}},[i("MyChutier",{directives:[{name:"show",rawName:"v-show",value:e.show_chutier,expression:"show_chutier"}],attrs:{shared_space_path:e.shared_folder_path},on:{close:function(t){e.show_chutier=!1}}}),i("div",{staticClass:"_chutierBtn",class:{"is--showingChutier":e.show_chutier}},[i("button",{attrs:{type:"button"},on:{click:function(t){e.show_chutier=!e.show_chutier}}},[i("svg",{attrs:{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M0.999812 4.546V4.726C1.87581 5.098 2.67381 5.602 3.39381 6.238C4.11381 6.874 4.77381 7.546 5.37381 8.254L5.75181 7.894C5.53581 7.594 5.30181 7.3 5.04981 7.012C4.78581 6.712 4.51581 6.418 4.23981 6.13C4.07181 5.962 3.98781 5.788 3.98781 5.608C3.98781 5.512 4.02381 5.428 4.09581 5.356C4.16781 5.284 4.28781 5.248 4.45581 5.248H14.5718V8.254H15.5078V1H14.5718V4.024H4.43781C4.26981 4.024 4.14981 3.982 4.07781 3.898C4.00581 3.802 3.96981 3.712 3.96981 3.628C3.96981 3.484 4.05381 3.328 4.22181 3.16C4.48581 2.908 4.75581 2.62 5.03181 2.296C5.29581 1.972 5.52981 1.66 5.73381 1.36L5.35581 1C4.75581 1.696 4.10181 2.368 3.39381 3.016C2.67381 3.664 1.87581 4.174 0.999812 4.546Z",fill:"currentColor",stroke:"currentColor"}})])])])],1),i("div",{key:"sharedContent",staticClass:"_sharedContent",class:{"has--chutier":e.show_chutier}},[i("SharedFolder",{attrs:{shared_folder_path:e.shared_folder_path}})],1)])]:i("LoaderSpinner")],2)},s=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.chutier?i("div",{staticClass:"_myChutier",on:{click:function(t){e.last_clicked=!1}}},[i("div",{staticClass:"_itemsList"},[i("div",{staticClass:"_topContent"},[i("div",{staticClass:"_subscribeBtn"},[i("button",{staticClass:"u-button u-button_bleumarine _authorBtn",attrs:{type:"button"},on:{click:function(t){return e.$eventHub.$emit("showAuthorModal")}}},[e.connected_as?[e._v(" "+e._s(e.connected_as.name)+" ")]:[e._v(e._s(e.$t("login")))]],2)]),i("div",{staticClass:"_importBtn"},[i("input",{staticClass:"inputfile-2",attrs:{type:"file",multiple:"multiple",id:e.id+"-add_file",name:"file",accept:""},on:{change:function(t){return e.updateInputFiles(t)}}}),i("label",{attrs:{for:e.id+"-add_file"}},[e._v(" "+e._s(e.$t("import"))+" ")])]),i("div",{},[i("button",{staticClass:"u-button u-button_white _qrBtn",attrs:{type:"button"},on:{click:e.createNote}},[i("sl-icon",{attrs:{name:"file-text"}}),e._v(" note ")],1)]),i("div",{},[i("button",{staticClass:"u-button u-button_white _qrBtn",attrs:{type:"button"},on:{click:function(t){e.show_link_picker=!0}}},[i("sl-icon",{attrs:{name:"link-45deg"}}),e._v(" url ")],1),e.show_link_picker?i("LinkPicker",{on:{embed:e.createEmbed,close:function(t){e.show_link_picker=!1}}}):e._e()],1),i("div",{staticClass:"_qrOpt"},[i("button",{staticClass:"u-button u-button_transparent _qrBtn",attrs:{type:"button"},on:{click:function(t){e.show_qr_code_modal=!0}}},[i("sl-icon",{attrs:{name:"qr-code"}})],1),e.show_qr_code_modal?i("QRModal",{attrs:{url_to_access:e.url_to_page},on:{close:function(t){e.show_qr_code_modal=!1}}}):e._e()],1)]),e.selected_files.length>0?i("UploadFiles",{staticClass:"_uploadFilesList",attrs:{files_to_import:e.selected_files,path:e.path},on:{close:function(t){e.selected_files=[]},importedMedias:e.importedMedias}}):e._e(),i("div",{staticClass:"_middleContent"},[i("label",{attrs:{for:""},on:{click:function(t){e.all_items_selected?e.deselectAll():e.selectAll()}}},[e.chutier_items.length>0?i("button",{staticClass:"u-buttonLink u-selectBtn",attrs:{type:"button"}},[i("sl-icon",{attrs:{name:e.all_items_selected?"dash-square-dotted":"plus-square-dotted"}})],1):e._e(),e._v(" Éléments à traiter : "+e._s(e.chutier_items.length)+" ")]),i("br")]),i("div",{staticClass:"_items"},e._l(e.chutier_items_grouped,(function(t){return i("div",{key:t.label,staticClass:"_item"},[i("div",{staticClass:"_item--label",on:{click:function(i){e.rangeIsSelected(t.files.map((function(e){return e.$path})))?e.deselectRange(t.files.map((function(e){return e.$path}))):e.selectRange(t.files.map((function(e){return e.$path})))}}},[e.rangeIsSelected(t.files.map((function(e){return e.$path})))?i("button",{staticClass:"u-buttonLink u-selectBtn",attrs:{type:"button"}},[i("sl-icon",{attrs:{name:"dash-square-dotted"}})],1):i("button",{staticClass:"u-buttonLink u-selectBtn",attrs:{type:"button"}},[i("sl-icon",{attrs:{name:"plus-square-dotted"}})],1),e._v(" "+e._s(e.formatDateToHuman(t.label))+" ")]),i("transition-group",{attrs:{tag:"div",name:"listComplete"}},e._l(t.files,(function(t){return i("div",{key:t.$path,on:{click:function(i){i.stopPropagation(),e.last_clicked=t.$path}}},[i("ChutierItem",{attrs:{file:t,is_clicked:e.last_clicked===t.$path,is_selected:e.selected_items_slugs.includes(t.$path),shared_space_path:e.shared_space_path},on:{toggleSelect:function(i){return e.toggleSelect(t.$path)},unclicked:function(t){e.last_clicked=!1}}})],1)})),0)],1)})),0)],1),i("transition",{attrs:{name:"slideup",mode:"out-in"}},[e.selected_items.length>0?i("div",{key:"selection",staticClass:"_selectionBar"},[i("div",{staticClass:"_selectionBar--previews"},[e._l(e.selected_items,(function(t){return[t.$path?i("MediaContent",{key:t.$path,staticClass:"_selectionBar--previews--preview",attrs:{file:t,context:"preview"}}):e._e()]}))],2),i("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(t){e.show_mediastack_modal=!0}}},[e._v(" "+e._s(e.$t("create_stack"))+" ("+e._s(e.selected_items.length)+") ")]),i("div",{staticClass:"u-sameRow"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:e.deselectAll}},[i("sl-icon",{attrs:{name:"dash-square-dotted"}}),e._v(" Déselectionner tout ")],1),i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(t){e.show_confirm_remove_menu=!0}}},[i("sl-icon",{attrs:{name:"trash3"}}),e._v(" Supprimer les éléments ")],1)])]):e._e()]),i("transition",{attrs:{name:"slideup",mode:"out-in"}},[e.show_confirm_remove_menu?i("div",{key:"remove",staticClass:"_removeMenu"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(t){e.show_confirm_remove_menu=!1}}},[e._v(" "+e._s(e.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_red",attrs:{type:"button",autofocus:""},on:{click:e.removeItemsInSelection}},[e._v(" "+e._s(e.$t("confirm_removal"))+" ")])]):e._e()]),i("transition",{attrs:{name:"slideup"}},[e.show_mediastack_modal?i("MediaStack",{staticClass:"_mediaStack",attrs:{files:e.selected_items,shared_space_path:e.shared_space_path},on:{updateFocusedMedia:function(t){e.selected_items_slugs=t},stackCreated:function(t){e.selected_items_slugs=[],e.show_mediastack_modal=!1},close:function(t){e.show_mediastack_modal=!1}}}):e._e()],1)],1):e._e()},r=[],n=(i(6699),i(7658),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModal2",{on:{close:function(t){return e.$emit("close")}}},[i("div",{staticClass:"_linkPicker"},[i("div",{staticClass:"_urlBox"},[i("DLabel",{attrs:{str:e.$t("input_url"),instructions:e.$t("input_url_instr")}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.full_url,expression:"full_url"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.full_url},on:{input:function(t){t.target.composing||(e.full_url=t.target.value)}}})],1),i("div",{staticClass:"u-instructions"},[e._v(" PeerTube, YouTube, Vimeo, etc. "+e._s(e.$t("for_example"))+"  "),e._l(["https://peertube.fr/w/wB6M6CHdfpWXpozVnqjbde","https://www.youtube.com/watch?v=Bn6zdyCAwJs","https://vimeo.com/447785086","https://observablehq.com/embed/@fil/bertin1953-glsl?cells=canvas"],(function(t,a){return i("button",{key:a,staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{innerHTML:e._s(t)},on:{click:function(i){e.full_url=t}}})}))],2),i("br"),i("div",{key:e.full_url},["any"===e.url_to_site.type?[i("iframe",{staticClass:"_siteIframe",attrs:{src:e.url_to_site.src,frameborder:"0"}})]:i("vue-plyr",[i("div",{staticClass:"plyr__video-embed"},[i("iframe",{attrs:{src:e.url_to_site.src,allowfullscreen:"",allowtransparency:"",allow:"autoplay; fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups",frameborder:"0"}})])])],2),i("br"),e.full_url?i("div",{staticClass:"_selectBtn"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}},[e._v(" "+e._s(e.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(t){return e.$emit("embed",e.full_url)}}},[e._v(" "+e._s(e.$t("embed"))+" ")])]):e._e()])])}),c=[],l={props:{publication_path:String},components:{},data(){return{full_url:"https://"}},async created(){},beforeDestroy(){},watch:{},computed:{url_to_site(){return!!this.full_url&&this.transformURL({url:this.full_url,autoplay:!1})}},methods:{}},d=l,u=(i(2967),i(1001)),p=(0,u.Z)(d,n,c,!1,null,"13a899e2",null),_=p.exports,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"_chutierRow",class:{"is--clicked":e.is_clicked,"is--selected":e.is_selected,"is--edited":e.edit_mode,"is--mousedown":e.is_mousedown},on:{click:function(t){!e.edit_mode&&e.$emit("toggleSelect")},mousedown:function(t){e.is_mousedown=!0},mouseup:function(t){e.is_mousedown=!1}}},[i("div",{staticClass:"_chutierRow--rows"},[i("div",{staticClass:"_infos"},[!e.edit_mode&&e.$listeners&&e.$listeners.toggleSelect?i("label",{staticClass:"_selectBox",attrs:{for:e.id},on:{click:function(e){e.stopPropagation()}}},[i("input",{attrs:{type:"checkbox",name:e.id,id:e.id},domProps:{checked:e.is_selected},on:{change:function(t){return e.$emit("toggleSelect")}}})]):e._e(),"text"===e.file.$type&&e.edit_mode?e._e():i("div",{staticClass:"_chutierRow--openLarge",on:{click:function(t){t.stopPropagation(),e.show_large=!0}}},[i("MediaContent",{staticClass:"_chutierRow--preview",attrs:{file:e.file,context:"preview"}})],1),i("div",{staticClass:"_titleDateField"},[i("div",[i("div",{},[i("small",[e.edit_mode?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.date_created_corrected,expression:"date_created_corrected"}],staticClass:"is--dark",attrs:{type:"datetime-local",step:"1"},domProps:{value:e.date_created_corrected},on:{input:function(t){t.target.composing||(e.date_created_corrected=t.target.value)}}})]:[e._v(" "+e._s(e.formatTime(e.date_created_corrected,{hour:"2-digit",minute:"2-digit"}))+" ")]],2)]),e.edit_mode?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.text_title,expression:"text_title"}],staticClass:"is--dark",attrs:{type:"text",autofocus:"",required:"",placeholder:"Titre"},domProps:{value:e.text_title},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),"stack"===e.context&&e.$emit("unclicked")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.cancelEdit.apply(null,arguments))}],input:function(t){t.target.composing||(e.text_title=t.target.value)}}})]:i("div",[e._v(" "+e._s(e.text_title)+" ")])],2)]),e.edit_mode?e._e():i("EditBtn",{on:{click:function(t){e.edit_mode=!0}}})],1)]),"stack"!==e.context&&(e.edit_mode||e.keywords.length>0||e.description.length>0)?i("div",{staticClass:"_fields"},[e.edit_mode?i("div",[i("span",{staticClass:"u-instructions"},[e._v(" Corrigez ou complétez le titre et les mots-clés pour partager cette pile. ")])]):e._e(),"url"===e.file.$type?i("div",{},[i("div",[i("input",{staticClass:"is--dark",attrs:{type:"url",autofocus:"",disabled:""},domProps:{value:e.file.$content}})])]):e._e(),e.description||e.edit_mode?i("div",{},[e.edit_mode?["text"!==e.file.$type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"is--dark _descriptionField",attrs:{placeholder:"Description"},domProps:{value:e.description},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.cancelEdit.apply(null,arguments))},input:function(t){t.target.composing||(e.description=t.target.value)}}}):i("CollaborativeEditor2",{staticClass:"_content",attrs:{path:e.file.$path,content:e.file.$content,edit_on_mounted:!0,can_edit:!0,custom_formats:["bold","italic","underline","link"]}})]:i("div",[e._v(" "+e._s(e.description)+" ")])],2):e._e(),e.keywords&&e.keywords.length>0||e.edit_mode?i("div",{},[i("KeywordsField",{attrs:{edit_mode:e.edit_mode,keywords:e.keywords},on:{"update:keywords":function(t){e.keywords=t},cancelEdit:e.cancelEdit}})],1):e._e(),i("div",{staticClass:"_publierBtn"},[i("button",{key:e.share_button_is_enabled,staticClass:"u-buttonLink",attrs:{type:"button",disabled:!e.share_button_is_enabled},on:{click:e.shareButtonClicked}},[e._v(" Publier  "),i("sl-icon",{staticStyle:{"font-size":"1rem"},attrs:{name:"arrow-right-square",circle:""}})],1)])]):e._e(),e.show_large?i("div",{staticClass:"_chutierRow--largePreview",attrs:{"data-type":e.file.$type},on:{click:function(t){if(t.target!==t.currentTarget)return null;e.show_large=!1}}},[i("MediaContent",{attrs:{file:e.file,context:"full",resolution:1600}}),i("button",{staticClass:"u-button u-button_round u-button_black _closeBtn",attrs:{type:"button"},on:{click:function(t){e.show_large=!1}}},[i("sl-icon",{attrs:{name:"x-lg",label:e.$t("close")}})],1)],1):e._e()])},f=[],m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.keywords.length>0?i("div",{staticClass:"_keywords"},e._l(e.keywords,(function(t){return i("div",{key:t,staticClass:"_keyword",on:{click:function(i){e.edit_mode&&e.removeKeyword(t)}}},[e._v(" "+e._s(t)+"  "),e.edit_mode?i("sl-icon-button",{staticClass:"_white",attrs:{name:"dash-circle"}}):e._e()],1)})),0):e._e(),e.edit_mode?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.suggestion,expression:"suggestion"}],staticClass:"is--dark",attrs:{type:"text",required:"",placeholder:"Mot-clé, matériaux, lieux, etc."},domProps:{value:e.suggestion},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.$emit("cancelEdit"))},input:function(t){t.target.composing||(e.suggestion=t.target.value)}}}),e.suggestion.length>0&&e.suggested_keywords.length>0?i("div",{staticClass:"_suggestions"},[i("div",{staticClass:"_keywords"},e._l(e.suggested_keywords,(function(t){return i("div",{key:t,staticClass:"_keyword",on:{click:function(i){return e.addKeyword(t)}}},[e._v(" "+e._s(t)+" ")])})),0)]):e._e()]:e._e()],2)},v=[],g=(i(5827),JSON.parse('{"techniques":["cristallisation","frittage flash","thermocompression","haute pression","moulage","compression","compression à froid","thermoformage","déroulage","placage","ponçage","soudure","polissage","fraisage","usinage","cnc","découpe","découpe laser","découpe jet d\'eau","céramique","calibrage","tournage","coulage","émaillage","tournasage","érasage","croûtage","estampage","textile","filage","extrusion filage","filage mécanique","teinture","teinture pièce","teinture sur cône","impression digitale","peinture","sublimation","sérigraphie","dope dye","construction textile","tissage","cardage","tuftage","tricot","maille","tapisserie","tressage","cordage","apprêtage","apprêt","enduction","enduction fonctionnalisante","ennoblissement","finition d\'aspect","foulardage","foulonage","couture","feutrage","feutrage mécanique","biologie","extraction","stérilisation","repiquage","micronisation","ensemencement","encapsulation","acclimatation","isolement","plasturgie","extrusion","extrusion de film","extrusion soufflage","injection moulage","rotomoulage","transfert","compression transfert","test mécanique","spectrocolorimètre UV","martindale","outil","étuve","séchoir","presse","moule","thermoformeuse","imprimante","extrudeuse","fraiseuse numérique","kuka","tour","moule en plâtre","bras de calibrage","boudineuse","four","moulin","métier à tisser","pistolet à tuft","fileuse","cardeuse","rouet","robot feutreur","centrifugeuse","chambre froide","éprouvette"],"gisement":["animal","animaux","insectes","larves","lait","mouton","mouton mérinos d\'Arles","laine mérinos d\'Arles","blousse","végétal","végétaux","chanvre","guayule","lin","pois","lavande","romarin","blé","paille de blé","maïs","agrumes","tournesol","graine","tourteau","huile de tournesol","tige","broyat","ecorce","moëlle","capitules","betterave","pulpe de betterave","cossette","olive","huile d\'olive","tourteau olive","grignons d\'olive","grignon","tapenade","vigne","raisin","aignes","peau","pépins","huile de pépins de raisins","tourteau de pépins de raisins","pellicules","pulpe","pulpe de raisin","sarment","riz","paille de riz","plante tinctoriale","réséda","garance","indigo","agave","renouée du japon","bagasse","robinier","baccharis","herbe de la pampa","amorpha","canne de provence","ailanthe glanduleux","figuier de barbarie","halobacterium salinarum","cepralmar","anabaena","nostoc","phormidium","chroococcus","arthrospira platensis","Merismopedia","amphora","asterionellopsis","Nistzschia longissima","Cylindrotheca","Phaeodactylum","Navicula","Gyrosigma"],"lieu":["Mediterranée","Egypte","Grèce","Sardaigne","Emirats arabes unis","Sharjah","Fujairah","Italie","France","Camargue","pays d\'Arles","delta du rhône","Salins de giraud","Arles","Parc Naturel de Camargue","Cévennes","Parc naturel des Cévennes","Résèrve naturelle des coussouls de crau","plaine de crau","Crau","suisse","Lens","Champagne"],"domaine":["agriculture","monoculture","permaculture","sylviculture","aquaculture","agroforesterie","élevage","manufacture","filature","industrie","minage","carrière","artisanat","art","sciences sociales","sciences politiques","filière bois","menuiserie","ébénisterie","charpente","curation","géologie","physique","chimie","chimie agro industrielle","biochimie","ingéniérie","mécanique","écologie","écologie industrielle","plasturgie","R&D","investigation","étude de terrain","interview"]}')),b={props:{keywords:Array,edit_mode:Boolean},components:{},data(){return{suggestion:"",categories:g}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{list_of_suggestions(){return Object.entries(g).reduce(((e,[t,i])=>(e=e.concat(i.map((e=>t+"/"+e))),e)),[])},suggested_keywords(){return this.list_of_suggestions.filter((e=>e.includes(this.suggestion.toLowerCase())))}},methods:{removeKeyword(e){this.$emit("update:keywords",this.keywords.filter((t=>t!==e)))},addKeyword(e){let t=this.keywords.slice();t.push(e),this.$emit("update:keywords",t),this.suggestion=""}}},w=b,k=(i(5455),(0,u.Z)(w,m,v,!1,null,"0d8d1323",null)),y=k.exports;function x(e){const t=new Date(e);return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().slice(0,16)}var C={props:{file:Object,is_selected:Boolean,is_clicked:Boolean,shared_space_path:String,context:{type:String,default:"list"}},components:{KeywordsField:y},data(){return{opened_pane:void 0,show_large:!1,is_mousedown:!1,edit_mode:!1,id:`select_chutier_item_${(Math.random().toString(36)+"00000000000000000").slice(2,5)}`,text_title:this.file.title||this.cleanFilename(this.file.$media_filename)||"",date_created_corrected:x(this.file.date_created_corrected||this.file.$date_created||this.file.$date_uploaded||new Date),description:this.file.description||"",keywords:this.file.keywords||[]}},created(){},mounted(){this.$eventHub.$on("chutier.item.edit",this.setEdit)},beforeDestroy(){this.$eventHub.$off("chutier.item.edit",this.setEdit)},watch:{"file.title"(){this.text_title=this.file.title},is_clicked(){!this.is_clicked&&this.edit_mode&&(this.saveFields(),this.edit_mode=!1)},edit_mode(){this.edit_mode&&this.$nextTick((()=>{this.$el.querySelector("[autofocus]").select()}))}},computed:{share_button_is_enabled(){return this.text_title.length>0&&this.keywords.length>0}},methods:{setEdit(e){const t=this.getFilename(this.file.$path);e===t&&(this.edit_mode=!0)},async moveToSharedSpace(){const e=this.shared_space_path;await this.$api.copyFile({path:this.file.$path,path_to_destination_folder:e,new_meta:{$authors:[this.connected_as.$path]}}),await this.remove()},async remove(){this.$api.deleteItem({path:this.file.$path})},cleanFilename(){return this.file.$media_filename.substring(0,this.file.$media_filename.lastIndexOf("."))},cancelEdit(){this.text_title=this.file.title||this.cleanFilename(this.file.$media_filename)||"",this.date_created_corrected=this.file.date_created_corrected||this.file.$date_created||this.file.$date_uploaded||"",this.description=this.file.description||"",this.keywords=this.file.keywords||"",this.edit_mode=!1},async shareButtonClicked(){if(this.share_button_is_enabled){if(this.edit_mode)return await this.saveFields(),void await this.moveToSharedSpace();await this.moveToSharedSpace()}else this.edit_mode=!0},openLarge(){this.$emit("")},async saveFields(){""===this.date_created_corrected&&(this.date_created_corrected=this.file.date_created_corrected||this.file.$date_created||this.file.$date_uploaded);let e={title:this.text_title,date_created_corrected:this.date_created_corrected,description:this.description,keywords:this.keywords};await this.$api.updateMeta({path:this.file.$path,new_meta:e}).catch((e=>{throw this.$alertify.delay(4e3).error(e),e}))},save(){},cancel(){this.edit_mode=!1}}},$=C,F=(i(6521),(0,u.Z)($,h,f,!1,null,"e886ca52",null)),M=F.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ChutierPane",{on:{close:function(t){return e.$emit("close")}}},[i("div",{staticClass:"_mediaFocus",on:{click:function(t){e.last_clicked=!1}}},[i("div",{staticClass:"_fileStack"},[i("transition-group",{staticClass:"_itemsList",attrs:{tag:"div",name:"listComplete"}},e._l(e.files,(function(t,a){return i("div",{key:t.$path,staticClass:"u-sameRow",on:{click:function(i){i.stopPropagation(),e.last_clicked=t.$path}}},[i("div",{staticClass:"_removeFile"},[i("sl-icon-button",{attrs:{name:"dash-square-dotted"},on:{click:function(i){return e.removeFromSelection(t.$path)}}})],1),i("select",{staticClass:"is--dark _changeOrderSelect",domProps:{value:a+1},on:{change:function(t){return e.changeMediaOrder(a,+t.target.value-1)}}},e._l(new Array(e.files.length).fill(null),(function(t,a){return i("option",{key:a+1,domProps:{textContent:e._s(a+1)}})})),0),i("ChutierItem",{attrs:{file:t,is_clicked:e.last_clicked===t.$path,is_selected:!1,context:"stack"},on:{unclicked:function(t){e.last_clicked=!1}}})],1)})),0)],1),i("div",{staticClass:"_fields"},[i("span",{staticClass:"u-instructions"},[e._v(" Corrigez ou complétez le titre et les mots-clés pour partager cette pile. ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"is--dark",attrs:{type:"text",required:"",placeholder:"Titre"},domProps:{value:e.title},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.$emit("close"))},input:function(t){t.target.composing||(e.title=t.target.value)}}}),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"is--dark _descriptionField",attrs:{placeholder:"Description"},domProps:{value:e.description},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.$emit("close"))},input:function(t){t.target.composing||(e.description=t.target.value)}}}),e._v(" "),i("KeywordsField",{attrs:{edit_mode:!0,keywords:e.keywords},on:{"update:keywords":function(t){e.keywords=t},cancelEdit:function(t){return e.$emit("close")}}})],1),i("div",{staticClass:"_shareBtn"},[i("transition",{attrs:{name:"scaleInFade",mode:"out-in"}},[e.shared_space_path?i("button",{key:e.share_button_is_enabled,staticClass:"u-buttonLink",attrs:{type:"button",disabled:!e.share_button_is_enabled},on:{click:e.shareButtonClicked}},[e._v(" Publier  "),i("sl-icon",{staticStyle:{"font-size":"1rem"},attrs:{name:"arrow-right-square",circle:""}})],1):e._e()])],1)])])},S=[],z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"_chutierPane"},[i("sl-button",{staticClass:"_closeBtn",attrs:{variant:"neutral",size:"medium",circle:""},on:{click:function(t){return e.$emit("close")}}},[i("sl-icon",{attrs:{name:"x-lg",label:e.$t("close")}})],1),e._t("default")],2)},j=[],I={props:{},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},R=I,q=(i(4252),(0,u.Z)(R,z,j,!1,null,"1cb65e24",null)),P=q.exports,E={props:{files:Array,shared_space_path:String},components:{ChutierPane:P,KeywordsField:y,ChutierItem:M},data(){return{last_clicked:void 0,title:"",description:"",keywords:[]}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{share_button_is_enabled(){return this.title.length>0&&this.keywords.length>0}},methods:{changeMediaOrder(e,t){let i=this.files.map((e=>e.$path));function a(e,t,i){if(i>=e.length){var a=i-e.length+1;while(a--)e.push(void 0)}return e.splice(i,0,e.splice(t,1)[0]),e}a(i,e,t),this.$emit("updateFocusedMedia",i)},removeFromSelection(e){let t=this.files.map((e=>e.$path));t=t.filter((t=>t!==e)),this.$emit("updateFocusedMedia",t)},async shareButtonClicked(){const e=this.shared_space_path;this.title,this.description,this.keywords;const t={title:this.title,description:this.description,keywords:this.keywords,requested_slug:"stack",is_stack:!0,stack_files_metas:[]},i=await this.$api.uploadFile({path:e,additional_meta:t}).catch((e=>{throw this.$alertify.delay(4e3).error(e),e})),a=[];for(const s of this.files){const t=await this.$api.copyFile({path:s.$path,path_to_destination_folder:e,new_meta:{$authors:[this.connected_as.$path],belongs_to_stack:i}});a.push(t),await this.$api.deleteItem({path:s.$path})}await this.$api.updateMeta({path:e+"/"+i,new_meta:{stack_files_metas:a}}),this.$emit("stackCreated")}}},D=E,L=(i(4665),(0,u.Z)(D,B,S,!1,null,"dfbbf036",null)),O=L.exports,T={props:{shared_space_path:String},components:{LinkPicker:_,ChutierItem:M,MediaStack:O},data(){return{chutier:void 0,selected_files:[],id:`image_select_${(Math.random().toString(36)+"00000000000000000").slice(2,5)}`,last_clicked:void 0,selected_items_slugs:[],show_mediastack_modal:!1,max_items_selected:15,show_link_picker:!1,show_qr_code_modal:!1,show_confirm_remove_menu:!1}},created(){},mounted(){this.listChutier(),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{selected_items_slugs(){this.show_confirm_remove_menu&&(this.show_confirm_remove_menu=!1),this.selected_items_slugs.length>this.max_items_selected&&(this.selected_items_slugs=this.selected_items_slugs.slice(0,this.max_items_selected),this.$alertify.delay(4e3).error(this.$t("notifications.too_many_items_selected")),setTimeout((()=>{this.$alertify.delay(4e3).error(this.$t("notifications.max_items_is")+" "+this.max_items_selected)}),500))},chutier_items(){const e=this.selected_items_slugs.filter((e=>this.chutier_items.some((t=>t.$path===e))));JSON.stringify(this.selected_items_slugs)!==JSON.stringify(e)&&(this.selected_items_slugs=e)}},computed:{path(){return this.connected_as.$path},url_to_page(){return this.$route.path,window.location.href},selected_items(){return this.selected_items_slugs.map((e=>this.chutier_items.find((t=>t.$path===e))||!1))},all_items_selected(){return this.selected_items.length===this.chutier_items.length},chutier_items(){if(!this.chutier||!this.chutier.$files)return[];const e=JSON.parse(JSON.stringify(this.chutier.$files));return e.sort(((e,t)=>{const i=e=>new Date(e.date_created_corrected||e.$date_created||e.$date_uploaded);return+i(t)-+i(e)})),e},chutier_items_grouped(){return this.groupFilesByDay(this.chutier_items)}},methods:{async listChutier(){this.chutier=await this.$api.getFolder({path:this.path}).catch((e=>{this.fetch_project_error=e.response,this.is_loading=!1}))},toggleSelect(e){this.selected_items_slugs.includes(e)?this.selected_items_slugs=this.selected_items_slugs.filter((t=>t!==e)):this.selected_items_slugs.push(e)},updateInputFiles(e){this.selected_files=Array.from(e.target.files),e.target.value=""},async createNote(){const e=await this.$api.uploadText({path:this.path,filename:"note.txt",content:"",additional_meta:{title:"Sans titre"}});setTimeout((()=>{this.$eventHub.$emit("chutier.item.edit",e)}),100)},async createEmbed(e){const t=await this.$api.uploadText({path:this.path,filename:"url.txt",content:e,additional_meta:{title:"Titre du lien",$type:"url"}});this.show_link_picker=!1,setTimeout((()=>{this.$eventHub.$emit("chutier.item.edit",t)}),100)},async importedMedias(e){},selectAll(){this.selected_items_slugs=this.chutier_items.map((e=>e.$path))},deselectAll(){this.selected_items_slugs=[]},selectRange(e){this.selected_items_slugs=this.selected_items_slugs.concat(e),this.selected_items_slugs=[...new Set(this.selected_items_slugs)]},deselectRange(e){this.selected_items_slugs=this.selected_items_slugs.filter((t=>!e.includes(t)))},rangeIsSelected(e){return 0!==this.selected_items_slugs.length&&!e.find((e=>!1===this.selected_items_slugs.includes(e)))},async removeItemsInSelection(){for(const e of this.selected_items_slugs)await this.$api.deleteItem({path:e});this.show_confirm_remove_menu=!1}}},A=T,Z=(i(3993),(0,u.Z)(A,o,r,!1,null,"5c07cc47",null)),N=Z.exports,H=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.shared_folder?i("div",{staticClass:"_sharedFolder"},[e._m(0),e.opened_files?i("ItemModal",{attrs:{file:e.opened_files},on:{close:e.closeFile}}):e._e(),e._l(e.grouped_files,(function(t){var a=t.label,s=t.files;return i("div",{key:a,staticClass:"_dayFileSection"},[i("div",{staticClass:"_label"},[e._v(" "+e._s(e.formatDateToHuman(a))+" ")]),i("div",{staticClass:"_grid"},e._l(s,(function(t){return i("SharedFolderItem",{key:t.$path,staticClass:"_file",attrs:{file:t,is_opened:e.opened_files&&e.opened_files.$path===t.$path},on:{open:function(i){return e.openFile(t.$path)}}})})),1)])})),i("footer",{staticClass:"_footer"},[i("small",[i("a",{attrs:{href:"mailto:ckernreuter@luma-arles.org",target:"_blank"}},[e._v("aide/contact")]),i("br"),e._v(" version "+e._s(e.$root.app_infos.version)+" ")])])],2):e._e()},K=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"_topbar"},[i("div",{staticClass:"_topbar--content"},[i("div",{staticClass:"_title"},[e._v("ESPACE PARTAGÉ / ARCHIVE")]),i("div",{},[e._v("jour | mois | année | date")]),i("div",{})])])}],V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"_sharedFolderItem",class:{"is--opened":e.is_opened},on:{click:function(t){return e.$emit("open")}}},[i("div",{staticClass:"_title"},[e._v(" "+e._s(e.file.title)+" ")]),i("MediaContent",{staticClass:"_sharedFolderItem--preview",attrs:{file:e.file.is_stack?e.file._stack_files[0]:e.file,context:"preview"}}),e.file.is_stack?[e.file._stack_files.length>1?i("MediaContent",{staticClass:"_sharedFolderItem--preview _sharedFolderItem--preview_stacked",attrs:{file:e.file._stack_files[1],context:"preview"}}):e._e(),e.file._stack_files.length>2?i("MediaContent",{staticClass:"_sharedFolderItem--preview _sharedFolderItem--preview_stacked",attrs:{file:e.file._stack_files[2],context:"preview"}}):e._e()]:e._e()],2)},J=[],G={props:{file:Object,is_opened:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},U=G,Y=(i(2565),(0,u.Z)(U,V,J,!1,null,"23414180",null)),W=Y.exports,Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModal2",{attrs:{size:"full"},on:{close:function(t){return e.$emit("close")}}},[i("div",{staticClass:"_modalContent"},[i("div",{staticClass:"_topContent"},[i("div",{staticClass:"_openedFile"},[i("transition",{attrs:{name:"scaleInFade_fast",mode:"out-in"}},[e.current_file_shown?i("div",{key:e.current_file_shown.$path,staticClass:"_openedFile--container"},[i("div",{staticClass:"_openedFile--media"},[i("MediaContent",{attrs:{file:e.current_file_shown,context:"full",resolution:1600}})],1),e.file._stack_files?i("div",{staticClass:"_openedFile--title"},[i("div",{staticClass:"_date"},[e.file.date_created_corrected?i("DateDisplay",{attrs:{date:e.file.date_created_corrected}}):i("span",{domProps:{innerHTML:e._s("–")}})],1),i("div",{staticClass:"_title",domProps:{textContent:e._s(e.current_file_shown.title||"–")}})]):e._e()]):e._e()])],1),i("div",{staticClass:"_otherFromStacks"},[e.file._stack_files?e._l(e.file._stack_files,(function(t,a){return i("div",{key:t.$path,class:{"is--shown":e.current_file_index_shown===a},on:{click:function(t){e.current_file_index_shown=a}}},[i("MediaContent",{attrs:{file:t,context:"full",resolution:1600}})],1)})):e._e(),i("sl-icon-button",{staticClass:"_appendMedia",attrs:{name:"plus-circle",circle:"",disabled:""}})],2)]),i("div",{staticClass:"_bottomContent"},[e.file._stack_files?e._e():i("div",[e.file.date_created_corrected?i("DateDisplay",{attrs:{date:e.file.date_created_corrected}}):e._e()],1),i("h1",[e._v(" "+e._s(e.file.title)+" ")]),i("hr"),i("p",[e._v(" "+e._s(e.file.description||"–")+" ")]),i("hr"),e.file.keywords&&Array.isArray(e.file.keywords)&&e.file.keywords.length>0||e.edit_mode?i("div",{},[i("KeywordsField",{attrs:{edit_mode:e.edit_mode,keywords:e.file.keywords},on:{cancelEdit:function(e){}}})],1):e._e(),i("sl-icon-button",{staticClass:"_removeBtn",attrs:{name:"trash3",circle:""},on:{click:function(t){return e.removeMedia(e.file.$path)}}})],1)])])},X=[],ee={props:{file:Object},components:{KeywordsField:y},data(){return{current_file_index_shown:0,edit_mode:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{current_file_shown(){return this.file._stack_files?this.file._stack_files[this.current_file_index_shown]:this.file}},methods:{removeMedia(e){this.$api.deleteItem({path:e})}}},te=ee,ie=(i(8061),(0,u.Z)(te,Q,X,!1,null,"c6ce1e7e",null)),ae=ie.exports,se={props:{shared_folder_path:String},components:{SharedFolderItem:W,ItemModal:ae},data(){return{shared_folder:void 0}},created(){},async mounted(){this.shared_folder=await this.$api.getFolder({path:this.shared_folder_path}),this.$api.join({room:this.shared_folder_path})},beforeDestroy(){},watch:{},computed:{opened_files(){var e;return!(null===(e=this.$route.query)||void 0===e||!e.file)&&this.shared_files.find((e=>this.getFilename(e.$path)===this.$route.query.file))},shared_files(){var e;if(null===(e=this.shared_folder)||void 0===e||!e.$files)return[];const t=JSON.parse(JSON.stringify(this.shared_folder.$files)),i=t.filter((e=>e.belongs_to_stack)),a=t.reduce(((e,t)=>(t.belongs_to_stack||(t.is_stack&&t.stack_files_metas&&(t._stack_files=t.stack_files_metas.map((e=>i.find((t=>t.$path.endsWith("/"+e)))))),e.push(t)),e)),[]);return a.sort(((e,t)=>+new Date(t.$date_uploaded)-+new Date(e.$date_uploaded))),a},grouped_files(){return this.groupFilesByDay(this.shared_files)}},methods:{openFile(e){let t=Object.assign({},this.$route.query)||{};const i=this.getFilename(e);t.file=i,this.$router.push({query:t})},closeFile(){let e=Object.assign({},this.$route.query)||{};delete e.file,this.$router.push({query:e})}}},oe=se,re=(i(5646),(0,u.Z)(oe,H,K,!1,null,"51c15cd6",null)),ne=re.exports,ce={props:{},components:{MyChutier:N,SharedFolder:ne},data(){return{path:"folders",folders:void 0,shared_folder_path:void 0,show_chutier:!0}},created(){},async mounted(){this.$i18n.locale="fr",await this.loadFolder()},beforeDestroy(){},watch:{connected_as(){}},computed:{},methods:{async loadFolder(){this.folders=await this.$api.getFolders({path:this.path}).catch((e=>{this.fetch_spaces_error=e.response})),0===this.folders.length?(await this.createFolder(),window.location.reload()):this.shared_folder_path=this.folders[0].$path},async createFolder(){try{const e=await this.$api.createFolder({path:this.path});return e}catch(e){}}}},le=ce,de=(i(8104),(0,u.Z)(le,a,s,!1,null,"10a38f5d",null)),ue=de.exports},5883:function(e,t,i){"use strict";i.r(t);var a=i(8081),s=i.n(a),o=i(3645),r=i.n(o),n=r()(s());n.push([e.id,"._linkPicker[data-v-13a899e2]{width:100%;margin:0 auto}._addMediaBtn[data-v-13a899e2]{text-align:center;padding:calc(var(--spacing)*1)}._selectBtn[data-v-13a899e2]{display:flex;place-items:center;justify-content:center;width:100%;gap:calc(var(--spacing)/1);background:#fff}iframe[data-v-13a899e2]{width:100%;aspect-ratio:4/3}",""]),t["default"]=n},1458:function(e,t,i){"use strict";i.r(t);var a=i(8081),s=i.n(a),o=i(3645),r=i.n(o),n=r()(s());n.push([e.id,"._catBtn[data-v-e886ca52]{background:#ffbe32;border-radius:5px;margin:2px;padding:2px}._fields[data-v-e886ca52]{display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/1);justify-content:center;padding:calc(var(--spacing)/2)}._selectBox[data-v-e886ca52]{width:20px;display:flex;place-content:center;cursor:pointer;color:var(--c-gris)}._selectBox input[data-v-e886ca52]{cursor:inherit;--form-background:transparent!important;--form-control-color:var(--c-jaune);border-color:#555}._selectBox:hover input[data-v-e886ca52]{border:2px solid var(--c-orange)}._infos[data-v-e886ca52]{display:flex;justify-content:stretch;align-items:center;gap:calc(var(--spacing)/2);margin:0 calc(var(--spacing)/2)}._infos[data-v-e886ca52],._infos ._titleDateField[data-v-e886ca52]{flex:1 1 auto}._chutierRow[data-v-e886ca52]{width:100%;padding:calc(var(--spacing)/4) 0;margin-bottom:2px;border-radius:4px;transition:all .1s cubic-bezier(.19,1,.22,1)}._chutierRow[data-v-e886ca52]:not(.is--selected):hover{background:hsla(0,0%,100%,.05)}._chutierRow.is--mousedown[data-v-e886ca52]:not(.is--selected){background:rgba(0,0,0,.2)}._chutierRow.is--selected[data-v-e886ca52]{background:hsla(0,0%,94%,.1)}._chutierRow.is--selected[data-v-e886ca52]:hover{background:hsla(0,0%,100%,.15)}._chutierRow ._chutierRow--openLarge[data-v-e886ca52]{display:block;cursor:pointer}._chutierRow ._chutierRow--openLarge[data-v-e886ca52]:hover{opacity:.8}._chutierRow ._chutierRow--rows[data-v-e886ca52]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center}._chutierRow[data-v-e886ca52]:not(.is--edited){cursor:pointer}._chutierRow ._chutierRow--preview[data-v-e886ca52]{position:relative;height:60px;border-radius:2px;width:60px;flex:0 0 auto;overflow:hidden;color:#fff;background:#000;font-size:70%}._chutierRow ._chutierRow--preview[data-v-e886ca52]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._chutierRow ._chutierRow--preview[data-v-e886ca52]  .ql-container{font-size:50%}._chutierRow ._chutierRow--largePreview[data-v-e886ca52]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;overflow:auto;background:#000}._chutierRow ._chutierRow--largePreview[data-type=text][data-v-e886ca52]{padding:calc(var(--spacing))}._chutierRow ._chutierRow--largePreview[data-v-e886ca52]  ._mediaContent{width:100%;height:100%;pointer-events:none}._chutierRow ._chutierRow--largePreview[data-v-e886ca52]  ._mediaContent .u-floatingFsButton{display:none}._chutierRow ._chutierRow--largePreview[data-v-e886ca52]  ._mediaContent ._mediaContent--pdfIframe,._chutierRow ._chutierRow--largePreview[data-v-e886ca52]  ._mediaContent .plyr__control{pointer-events:auto}._chutierRow ._chutierRow--largePreview[data-v-e886ca52]  ._mediaContent ._mediaContent--image{width:100%;height:100%;-o-object-fit:contain;object-fit:contain;-o-object-position:center;object-position:center}._chutierRow ._chutierRow--largePreview[data-v-e886ca52]  ._mediaContent .plyr__video-wrapper{pointer-events:none}._chutierRow ._chutierRow--largePreview ._closeBtn[data-v-e886ca52]{position:absolute;top:0;right:0;margin:calc(var(--spacing)/2)}._descriptionField[data-v-e886ca52]{resize:vertical}._publierBtn[data-v-e886ca52]{text-align:center;margin:calc(var(--spacing)/4) auto}._content[data-v-e886ca52]  .ql-editor{background-color:#363636;border-color:#fff;color:#fff;padding:calc(var(--spacing)*.5)}._content[data-v-e886ca52]  ._editBtn{display:none}._content[data-v-e886ca52]  .ql-toolbar.ql-toolbar{top:50px;border-radius:8px}",""]),t["default"]=n},9774:function(e,t,i){"use strict";i.r(t);var a=i(8081),s=i.n(a),o=i(3645),r=i.n(o),n=r()(s());n.push([e.id,"._modalContent[data-v-c6ce1e7e]{background:#efefef;padding:0;min-height:100%}._topContent[data-v-c6ce1e7e]{background:#d9d9d9;height:50vh;display:flex;flex-flow:row wrap}._topContent>*[data-v-c6ce1e7e]{flex:4 1 320px;position:relative}._topContent>._otherFromStacks[data-v-c6ce1e7e]{flex:1 1 100px}._openedFile[data-v-c6ce1e7e]{position:relative;width:100%;height:100%;overflow:hidden}._openedFile--container[data-v-c6ce1e7e]{position:absolute;top:0;left:0;bottom:0;right:0;margin:calc(var(--spacing)/2) calc(var(--spacing)*2);display:flex;flex-flow:column nowrap;justify-content:stretch}._openedFile--media[data-v-c6ce1e7e]{flex:1 1 auto;overflow:hidden;position:relative;margin:calc(var(--spacing)*2)}._openedFile--media[data-v-c6ce1e7e]  ._mediaContent{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}._openedFile--media[data-v-c6ce1e7e]  ._mediaContent ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:contain;object-fit:contain;max-width:none}._openedFile--title[data-v-c6ce1e7e]{flex:0 0 auto;background:#efefef;padding:calc(var(--spacing)*1) calc(var(--spacing)*1);margin:calc(var(--spacing)*1);margin-top:0}._date[data-v-c6ce1e7e]{margin-bottom:calc(var(--spacing)*1)}._otherFromStacks[data-v-c6ce1e7e]{flex:1 1 100px;display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)*2);padding:calc(var(--spacing)*2);overflow:auto;height:100%}._otherFromStacks>*[data-v-c6ce1e7e]{cursor:pointer}._otherFromStacks>.is--shown[data-v-c6ce1e7e]{opacity:.5}._appendMedia[data-v-c6ce1e7e]{display:flex;align-content:center;justify-content:center;font-size:175%}._bottomContent[data-v-c6ce1e7e]{padding:calc(var(--spacing)*2) calc(var(--spacing)*3)}._bottomContent h1[data-v-c6ce1e7e]{font-weight:300;font-size:var(--sl-font-size-x-large)}._bottomContent hr[data-v-c6ce1e7e]{border-color:#ccc;max-width:50px;margin:calc(var(--spacing)*2) 0}",""]),t["default"]=n},7352:function(e,t,i){"use strict";i.r(t);var a=i(8081),s=i.n(a),o=i(3645),r=i.n(o),n=r()(s());n.push([e.id,"._white[data-v-0d8d1323]::part(base){color:#fff}._keywords[data-v-0d8d1323]{display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);font-size:var(--input-font-size-small)}._keywords+input[data-v-0d8d1323]{margin-top:calc(var(--spacing)/2)}._keyword[data-v-0d8d1323]{display:flex;align-items:center;background-color:hsla(0,0%,100%,.2);padding:calc(var(--spacing)/4) calc(var(--spacing)/2);border-radius:4px}._keyword sl-icon-button[data-v-0d8d1323]::part(base){padding:0}._suggestions[data-v-0d8d1323]{margin-top:calc(var(--spacing)/2)}._suggestions ._keyword[data-v-0d8d1323]{cursor:pointer}",""]),t["default"]=n},6890:function(e,t,i){"use strict";i.r(t);var a=i(8081),s=i.n(a),o=i(3645),r=i.n(o),n=r()(s());n.push([e.id,"._mediaFocus[data-v-dfbbf036]{background:var(--chutier-bg)}._itemsList[data-v-dfbbf036],._mediaFocus[data-v-dfbbf036]{padding:calc(var(--spacing)/2)}._itemsList[data-v-dfbbf036]{border:2px solid #999}._openLarge[data-v-dfbbf036]{display:block;cursor:pointer}._openLarge[data-v-dfbbf036]:hover{opacity:.8}._docPreview[data-v-dfbbf036]{position:relative;height:70px;border-radius:2px;width:70px;flex:0 0 auto;overflow:hidden}._docPreview[data-v-dfbbf036]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._changeOrderSelect[data-v-dfbbf036]{flex:0 0 50px}._fields[data-v-dfbbf036]{padding:calc(var(--spacing)*1);display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/1)}sl-icon-button[data-v-dfbbf036]::part(base){color:#fff}._shareBtn[data-v-dfbbf036]{display:flex;justify-content:center}._descriptionField[data-v-dfbbf036]{resize:vertical}",""]),t["default"]=n},759:function(e,t,i){"use strict";i.r(t);var a=i(8081),s=i.n(a),o=i(3645),r=i.n(o),n=r()(s());n.push([e.id,"._myChutier[data-v-5c07cc47]{overflow:hidden;background:#f9f9f9;background:var(--chutier-bg);color:#fff}._itemsList[data-v-5c07cc47],._myChutier[data-v-5c07cc47]{position:relative;top:0;height:100%}._itemsList[data-v-5c07cc47]{overflow:auto;padding-bottom:100px}._topContent[data-v-5c07cc47]{position:sticky;z-index:1;display:flex;gap:calc(var(--spacing)/2);top:0;padding:calc(var(--spacing)/1);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);-webkit-mask:linear-gradient(#000 75%,transparent);mask:linear-gradient(#000 75%,transparent)}._qrBtn sl-icon[data-v-5c07cc47]{font-size:130%}._middleContent[data-v-5c07cc47]{padding:0 calc(var(--spacing)/1)}._items[data-v-5c07cc47]{flex:1 1 auto;padding:calc(var(--spacing)*2) calc(var(--spacing)/1)}._item[data-v-5c07cc47]{margin-bottom:calc(var(--spacing)*2)}._item--label[data-v-5c07cc47]{display:inline-block;cursor:pointer;font-weight:500;margin-bottom:4px}._item--label[data-v-5c07cc47]:hover{opacity:.9}._removeMenu[data-v-5c07cc47],._selectionBar[data-v-5c07cc47]{position:sticky;bottom:0;width:100%;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center;gap:calc(var(--spacing)/2);background:var(--chutier-bg);border-top:2px solid #000;padding:calc(var(--spacing)/4);padding-bottom:calc(var(--spacing)*2)}._removeMenu[data-v-5c07cc47]{position:absolute;padding-top:calc(var(--spacing)*2);min-height:130px}._selectionBar--previews[data-v-5c07cc47]{width:100%;display:flex;flex-flow:row nowrap;justify-content:center;padding:calc(var(--spacing)/2);gap:calc(var(--spacing)/4)}._selectionBar--previews[data-v-5c07cc47]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._selectionBar--previews--preview[data-v-5c07cc47]{flex:0 1 20px;aspect-ratio:1/1;overflow:hidden}._uploadFilesList[data-v-5c07cc47]{position:absolute;bottom:0;left:0;right:0;background:var(--chutier-bg);z-index:1}",""]),t["default"]=n},6809:function(e,t,i){"use strict";i.r(t);var a=i(8081),s=i.n(a),o=i(3645),r=i.n(o),n=r()(s());n.push([e.id,"._sharedFolder[data-v-51c15cd6]{padding-bottom:calc(var(--spacing)*4);border-radius:4px}._topbar[data-v-51c15cd6]{position:sticky;top:0;z-index:10;border-bottom:2px solid #fff;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);-webkit-mask:linear-gradient(#000 55%,transparent);mask:linear-gradient(#000 55%,transparent)}._topbar[data-v-51c15cd6],._topbar--content[data-v-51c15cd6]{padding:calc(var(--spacing)*1)}._topbar--content[data-v-51c15cd6]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:flex-end}._title[data-v-51c15cd6]{font-size:1.5em;font-weight:600}._dayFileSection[data-v-51c15cd6]{padding:calc(var(--spacing)*2)}._label[data-v-51c15cd6]{z-index:2;padding-bottom:calc(var(--spacing)*2);font-weight:600;font-size:var(--sl-font-size-normal)}._grid[data-v-51c15cd6],._label[data-v-51c15cd6]{position:relative}._grid[data-v-51c15cd6]{z-index:1;display:flex;flex-flow:row wrap;justify-content:flex-start;align-items:flex-end;gap:calc(var(--spacing)*4) calc(var(--spacing)*2)}._file[data-v-51c15cd6]{width:150px}._removeBtn[data-v-51c15cd6]{position:absolute;top:0;right:0;z-index:1}._floatingTopBtn[data-v-51c15cd6]{position:sticky;top:0;z-index:1;width:100%;display:flex;justify-content:center;padding:calc(var(--spacing)/1);pointer-events:none}._floatingTopBtn>*[data-v-51c15cd6]{border-radius:25px;padding:calc(var(--spacing)/1) calc(var(--spacing)*2);background:#000;color:#fff;pointer-events:auto}._footer[data-v-51c15cd6]{margin-top:calc(var(--spacing)*6);text-align:center}._footer a[data-v-51c15cd6]{color:inherit}",""]),t["default"]=n},8943:function(e,t,i){"use strict";i.r(t);var a=i(8081),s=i.n(a),o=i(3645),r=i.n(o),n=r()(s());n.push([e.id,"._sharedFolderItem[data-v-23414180]{--stack-step:10px;position:relative;cursor:pointer;border-radius:4px;box-shadow:0 0 5px hsla(0,0%,100%,.06);transition:all .4s cubic-bezier(.19,1,.22,1)}._sharedFolderItem.is--opened[data-v-23414180],._sharedFolderItem[data-v-23414180]:focus,._sharedFolderItem[data-v-23414180]:hover{transform:translateY(-15px);transition:all .25s cubic-bezier(.19,1,.22,1)}._sharedFolderItem ._title[data-v-23414180]{position:absolute;width:100%;top:100%;word-break:break-word;background:#fff;padding:calc(var(--spacing)/2);font-size:var(--sl-font-size-small);transform:translateY(-100%);opacity:0;transition:all .4s cubic-bezier(.19,1,.22,1)}._sharedFolderItem.is--opened[data-v-23414180],._sharedFolderItem[data-v-23414180]:focus,._sharedFolderItem[data-v-23414180]:hover{z-index:20;--stack-step:30px}._sharedFolderItem.is--opened ._title[data-v-23414180],._sharedFolderItem:focus ._title[data-v-23414180],._sharedFolderItem:hover ._title[data-v-23414180]{transform:translate(0);opacity:1}._sharedFolderItem--preview[data-v-23414180]{background:#fff;z-index:10;border-radius:4px 4px 0 0;border:2px solid #fff;min-height:50px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}._sharedFolderItem--preview[data-v-23414180]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._sharedFolderItem--preview[data-v-23414180]  .ql-container{font-size:50%}._sharedFolderItem--preview_stacked[data-v-23414180]{position:absolute;top:0;left:0;height:50px;--back-position:1;transform:translate(calc(var(--stack-step)*var(--back-position)/2),calc(var(--stack-step)*-1*var(--back-position)));width:calc(100% - var(--stack-step)*var(--back-position));transition:all .25s cubic-bezier(.19,1,.22,1);z-index:2}._sharedFolderItem--preview_stacked+._sharedFolderItem--preview_stacked[data-v-23414180]{z-index:1;--back-position:2}._sharedFolderItem--preview_stacked[data-v-23414180]  ._mediaContent--image{-o-object-position:top left;object-position:top left}._titleKeywords[data-v-23414180]{position:absolute;bottom:0;left:0;width:100%}._removeBtn[data-v-23414180]{position:absolute;bottom:0;right:0}",""]),t["default"]=n},3720:function(e,t,i){"use strict";i.r(t);var a=i(8081),s=i.n(a),o=i(3645),r=i.n(o),n=r()(s());n.push([e.id,"._chutierPane[data-v-1cb65e24]{position:absolute;z-index:10;top:-2px;width:100%;height:100%;overflow:auto;background:var(--chutier-bg);padding:calc(var(--spacing)/2);border-top:2px solid #000}._closeBtn[data-v-1cb65e24]{position:absolute;top:0;right:0;padding:4px}",""]),t["default"]=n},2798:function(e,t,i){"use strict";i.r(t);var a=i(8081),s=i.n(a),o=i(3645),r=i.n(o),n=r()(s());n.push([e.id,"._lumaView[data-v-10a38f5d]{height:100%;--chutier-bar-width:40px;--chutier-width:420px}._lumaView.is--mobile_view[data-v-10a38f5d]{--chutier-width:100%}._panes[data-v-10a38f5d]{height:100%}._myContent[data-v-10a38f5d]{position:absolute;z-index:2;width:var(--chutier-width);height:100%;background:var(--chutier-bg);box-shadow:0 0 10px rgba(0,0,0,.52);overflow:hidden;transform:translate(calc((var(--chutier-width) - var(--chutier-bar-width))*-1));transition:transform .75s cubic-bezier(.19,1,.22,1)}._myContent.is--shown[data-v-10a38f5d]{transform:translate(0)}._sharedContent[data-v-10a38f5d]{position:relative;z-index:1;height:100%;flex:1 1 auto;overflow:auto;margin-left:var(--chutier-bar-width);width:calc(100% - var(--chutier-bar-width));transition:margin-left .5s cubic-bezier(.19,1,.22,1)}._sharedContent.has--chutier[data-v-10a38f5d]{width:calc(100% - var(--chutier-width));margin-left:var(--chutier-width)}._chutierBtn[data-v-10a38f5d]{top:0;right:0;width:var(--chutier-bar-width);height:var(--chutier-bar-width);z-index:1;transition:transform .25s cubic-bezier(.19,1,.22,1)}._chutierBtn[data-v-10a38f5d],._chutierBtn>button[data-v-10a38f5d]{position:absolute;background:transparent}._chutierBtn>button[data-v-10a38f5d]{width:100%;height:100%;color:#fff;border-radius:50%;left:0;font-size:1.5rem;padding:0;display:flex;justify-content:center;align-items:center;transform-origin:center;transition:transform .4s cubic-bezier(.19,1,.22,1)}._chutierBtn>button[data-v-10a38f5d]:focus-visible,._chutierBtn>button[data-v-10a38f5d]:hover{color:#ccc}._chutierBtn[data-v-10a38f5d]:not(.is--showingChutier){height:100%}._chutierBtn:not(.is--showingChutier)>button[data-v-10a38f5d]{transform:rotate(-180deg)}",""]),t["default"]=n},2967:function(e,t,i){var a=i(5883);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=i(1982).Z;s("10d97dcb",a,!0,{sourceMap:!1,shadowMode:!1})},6521:function(e,t,i){var a=i(1458);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=i(1982).Z;s("505697d4",a,!0,{sourceMap:!1,shadowMode:!1})},8061:function(e,t,i){var a=i(9774);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=i(1982).Z;s("274eef7e",a,!0,{sourceMap:!1,shadowMode:!1})},5455:function(e,t,i){var a=i(7352);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=i(1982).Z;s("d6a11be6",a,!0,{sourceMap:!1,shadowMode:!1})},4665:function(e,t,i){var a=i(6890);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=i(1982).Z;s("7cf329ab",a,!0,{sourceMap:!1,shadowMode:!1})},3993:function(e,t,i){var a=i(759);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=i(1982).Z;s("57aa3882",a,!0,{sourceMap:!1,shadowMode:!1})},5646:function(e,t,i){var a=i(6809);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=i(1982).Z;s("02f6f0ee",a,!0,{sourceMap:!1,shadowMode:!1})},2565:function(e,t,i){var a=i(8943);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=i(1982).Z;s("764d732b",a,!0,{sourceMap:!1,shadowMode:!1})},4252:function(e,t,i){var a=i(3720);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=i(1982).Z;s("d55a2b86",a,!0,{sourceMap:!1,shadowMode:!1})},8104:function(e,t,i){var a=i(2798);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=i(1982).Z;s("eae556f4",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=LumaView.js.map