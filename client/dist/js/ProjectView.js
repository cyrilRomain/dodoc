(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[666],{5521:function(t,e,i){"use strict";i.d(e,{Z:function(){return F}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_projectInfos",class:{"is--list":"list"===t.context,"is--tiny":"tiny"===t.context,"u-card":"list"===t.context,"is--linkToProject":"full"!==t.context,"is--mobileView":t.$root.is_mobile_view}},[i("div",{staticClass:"_projectInfos--cover"},[i("div",{staticClass:"_projectInfos--cover--content",class:{"is--empty":!t.cover_thumb}},[t.cover_thumb?[i("img",{attrs:{src:t.cover_thumb}}),"full"===t.context?[i("FullscreenBtn",{staticClass:"u-floatingFsButton",attrs:{icon:"fullscreen",label:t.$t("fullscreen")},on:{click:function(e){t.show_cover_fullscreen=!0}}}),t.show_cover_fullscreen?i("FullscreenView",{attrs:{image_src:t.cover_thumb},on:{close:function(e){t.show_cover_fullscreen=!1}}}):t._e()]:t._e()]:i("div",{staticClass:"_noImage"}),"full"===t.context&&t.can_edit_project?i("CoverField",{staticClass:"_coverPicker",attrs:{cover:t.project.$cover,path:t.project.$path}}):t._e()],2)]),i("div",{staticClass:"_projectInfos--infos"},["invisible"===t.project.$status?i("sl-badge",{attrs:{variant:"neutral"}},[t._v(" "+t._s(t.$t("invisible"))+" ")]):t._e(),"tiny"!==t.context&&"list"!==t.context?i("AuthorField",{attrs:{label:"full"===t.context?t.$t("contributors"):"",authors_paths:t.project.$authors,path:t.project.$path,can_edit:t.can_edit_project,instructions:t.$t("project_author_instructions")}}):t._e(),i("TitleField",{staticClass:"_title",attrs:{field_name:"title",label:"full"===t.context?t.$t("title"):"",content:t.project.title,path:t.project.$path,required:!0,maxlength:40,tag:"full"===t.context?"h1":"h3",can_edit:t.can_edit_project,instructions:t.$t("project_title_instructions")}}),"list"===t.context?[t.project.description?i("button",{staticClass:"u-buttonLink _showDescription",attrs:{type:"button"},domProps:{innerHTML:t._s(t.show_description?t.$t("hide_description"):t.$t("show_description"))},on:{click:function(e){t.show_description=!t.show_description}}}):i("small",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("no_description"))+" ")])]:t._e(),"tiny"!==t.context&&t.show_description?i("TitleField",{staticClass:"_description",attrs:{field_name:"description",label:"full"===t.context&&(t.project.description||t.can_edit_project)?t.$t("description"):"",content:t.project.description,path:t.project.$path,maxlength:280,can_edit:t.can_edit_project,instructions:t.$t("project_desc_instructions")}}):t._e()],2),i("transition",{attrs:{name:"fade"}},["full"===t.context?i("button",{directives:[{name:"show",rawName:"v-show",value:!t.$root.is_mobile_view,expression:"!$root.is_mobile_view"}],key:"show_meta-"+t.show_meta,staticClass:"u-buttonLink _showMeta",attrs:{type:"button"},on:{click:function(e){t.show_meta=!t.show_meta}}},[t.show_meta?[t._v(" "+t._s(t.$t("hide_meta"))+" ")]:[t._v(" "+t._s(t.$t("show_meta"))+" ")]],2):t._e()]),"full"===t.context?i("div",{staticClass:"_projectInfos--meta",class:{"is--hidden":!t.show_meta}},[i("CardMeta",{attrs:{project:t.project,can_edit:t.can_edit_project}}),i("CardStatus",{attrs:{project:t.project,can_edit_project:t.can_edit_project}}),i("CardKeywords",{attrs:{project:t.project,can_edit_project:t.can_edit_project}}),i("CardMachines",{attrs:{project:t.project,can_edit_project:t.can_edit_project}})],1):t._e(),"list"===t.context||"tiny"===t.context?i("div",{staticClass:"_projectInfos--open"},[i("router-link",{attrs:{to:{path:"/"+t.project.$path}}},[i("div",{staticClass:"_clickZone"})])],1):t._e()],1)},s=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ProjectCard",[i("div",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t("informations"))+" ")]),i("DateField",{attrs:{title:t.$t("date_created"),date:t.project.$date_created}}),i("br"),i("DateField",{attrs:{title:t.$t("date_modified"),date:t.project.$date_modified}}),i("br"),i("DLabel",{attrs:{str:t.$t("license"),instructions:t.can_edit?t.$t("licence_instructions"):""}}),i("div",{},[i("RadioField",{attrs:{field_name:"license",content:t.project.license,path:t.project.$path,can_edit:t.can_edit,options:t.license_options}})],1),i("br"),i("div",{},[t.can_edit?i("RemoveMenu",{attrs:{remove_text:t.$t("remove_project")},on:{remove:t.removeProject}}):t._e()],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("sl-card",{staticClass:"_projectCard u-card"},[t.$slots["header"]?i("header",{attrs:{slot:"header"},slot:"header"},[t._t("header")],2):t._e(),t._t("default")],2)},l=[],c={props:{},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},d=c,p=(i(2655),i(1001)),u=(0,p.Z)(d,r,l,!1,null,"38fce0f1",null),h=u.exports,m={props:{project:Object,can_edit:Boolean},components:{ProjectCard:h},data(){return{edit_mode:!1,license_options:[{key:"creativecommons_by_nc_sa",text:"creativecommons_by_nc_sa_explanations"},{key:"all_rights_reserved",text:"all_rights_reserved_explanations"},{key:"copyleft",text:"copyleft_explanations"},{key:"custom_license",text:"custom_license_explanations"}]}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{enableEditMode(){this.edit_mode=!0},async removeProject(){this.fetch_status="pending",this.fetch_error=null;try{const t=await this.$api.deleteItem({path:this.project.$path});this.response=t.data,this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}}}},f=m,_=(0,p.Z)(f,n,o,!1,null,"ac29e166",null),v=_.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ProjectCard",[i("div",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t("keywords"))+" ")]),i("div",{},[i("TagsField",{attrs:{field_name:"keywords",content:t.project.keywords,path:t.project.$path,can_edit:t.can_edit_project}})],1)])},b=[],x={props:{project:Object,can_edit_project:Boolean},components:{ProjectCard:h},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},y=x,w=(0,p.Z)(y,g,b,!1,null,"733fe7a8",null),k=w.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ProjectCard",[i("div",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t("machines_and_materials"))+" ")]),i("div",{},[i("TagsField",{attrs:{field_name:"materials",content:t.project.materials,path:t.project.$path,can_edit:t.can_edit_project}})],1)])},j=[],M={props:{project:Object,can_edit_project:Boolean},components:{ProjectCard:h},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},C=M,P=(0,p.Z)(C,$,j,!1,null,"15b186fb",null),z=P.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ProjectCard",[i("div",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t("visibility"))+" "),i("sl-icon",{attrs:{name:"globe"}})],1),i("div",[t._v(" "+t._s(t.$t("visibility_text"))+" ")]),i("br"),i("div",{},[i("DLabel",{attrs:{str:t.$t("status")}}),i("SelectField",{attrs:{field_name:"$status",content:t.project.$status,path:t.project.$path,can_edit:t.can_edit_project,options:t.status_options}})],1)])},I=[],O={props:{project:Object,can_edit_project:Boolean},components:{ProjectCard:h},data(){return{status_options:[{key:"draft",text:this.$t("draft"),instruction:this.$t("draft_status_explanations")},{key:"finished",text:this.$t("finished"),instruction:this.$t("finished_status_explanations")},{key:"invisible",text:this.$t("invisible"),instruction:this.$t("invisible_status_explanations_projects")}],visible_value:this.project.status}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},T=O,E=(0,p.Z)(T,S,I,!1,null,"5c02d098",null),L=E.exports,D={props:{project:Object,context:String,can_edit_project:Boolean},components:{CardMeta:v,CardKeywords:k,CardMachines:z,CardStatus:L},data(){return{new_title:this.project.title,fetch_status:null,fetch_error:null,response:null,show_meta:!0,show_description:!0,show_cover_fullscreen:!1}},created(){"list"===this.context&&(this.show_description=!1)},mounted(){},beforeDestroy(){},watch:{"$root.is_mobile_view"(){this.$root.is_mobile_view&&(this.show_meta=!0)}},computed:{cover_thumb(){return this.makeRelativeURLFromThumbs({$thumbs:this.project.$cover,$type:"image",$path:this.project.$path,resolution:"full"===this.context?2e3:640})}},methods:{async updateProject(){this.fetch_status="pending",this.fetch_error=null;try{this.response=await this.$api.updateMeta({path:this.project.$path,new_meta:{title:this.new_title}}),this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}}}},R=D,B=(i(1302),(0,p.Z)(R,a,s,!1,null,"1a6c4356",null)),F=B.exports},5390:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaPicker"},[i("PickMediaFromProjects",{attrs:{subfolder_path:t.publication_path},on:{selectMedia:function(e){return t.$emit("selectMedia",e)},close:function(e){return t.$emit("close")}}})],1)},s=[],n={props:{publication_path:String},components:{},data(){return{}},async created(){},beforeDestroy(){},watch:{},computed:{},methods:{}},o=n,r=(i(2936),i(1001)),l=(0,r.Z)(o,a,s,!1,null,"56e5056c",null),c=l.exports},1075:function(t,e,i){"use strict";i.d(e,{Z:function(){return d}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_moduleCreator"},[t.show_module_selector||!t.is_collapsed?i("div",{staticClass:"_typePicker"},[i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:t.createText}},[i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:"fonts",label:t.$t("add_text")}})],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{selectMedia:t.createMosaic,close:function(e){t.show_media_picker=!1}}}):i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:"image",label:t.$t("add_medias")}})],1),!0===t.show_shapes?t._l(t.shapes,(function(e){return i("button",{key:e.type,staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(i){return t.createModule({module_type:e.type,addtl_meta:e.addtl_meta})}}},[i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:e.icon,label:t.$t(e.type)}})],1)})):t._e()],2):t._e(),t.is_collapsed?i("button",{staticClass:"u-button _showModuleSelector _sideBtns",style:t.show_module_selector?"transform: rotate(45deg);":"",attrs:{type:"button"},on:{click:function(e){t.show_module_selector=!t.show_module_selector}}},[i("svg",{staticStyle:{fill:"currentColor"},attrs:{version:"1.1",viewBox:"0 0 670 670",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("path",{attrs:{d:"m350 528.89c137.33 0 248.89-111.56 248.89-248.89s-111.56-248.89-248.89-248.89-248.89 111.56-248.89 248.89 111.56 248.89 248.89 248.89zm-161.05-279h130.94v-130.94h60.215v130.94h130.94v60.211h-130.94v130.94h-60.215l0.003906-130.94h-130.94z"}})])]):t._e(),i("transition",{attrs:{name:"dropzone",duration:150}},[t.show_dropzone?i("DropZone",{on:{mediaDropped:t.createMosaic}}):t._e()],1)],1)},s=[],n=i(5390),o={props:{publication_path:String,addtl_meta:Object,context:String,show_shapes:Boolean,is_collapsed:{type:Boolean,default:!0}},components:{MediaPicker:n.Z},data(){return{show_module_selector:!1,show_media_picker:!1,show_dropzone:!1,shapes:[{type:"ellipsis",icon:"circle-fill",addtl_meta:{background_color:"#1d327f"}},{type:"rectangle",icon:"square-fill",addtl_meta:{background_color:"#ff9c33"}},{type:"line",icon:"dash-lg",addtl_meta:{outline_width:.1,outline_color:"#000000"}},{type:"arrow",icon:"arrow-right-square",addtl_meta:{outline_width:.1,outline_color:"#000000"}}],is_saving:!1}},created(){},mounted(){this.$eventHub.$on("mediadrag.start",this.showDropzone),this.$eventHub.$on("mediadrag.end",this.hideDropzone)},beforeDestroy(){this.$eventHub.$off("mediadrag.start",this.showDropzone),this.$eventHub.$off("mediadrag.end",this.hideDropzone)},watch:{},computed:{},methods:{async createMosaic({path_to_source_media:t}){let e="page_by_page"===this.context?[{path:t,objectFit:"contain"}]:[{path:t}],i={};if("page_by_page"===this.context){var a;const e=this.getSourceMedia({source_media_path:t});null!==(a=e.$infos)&&void 0!==a&&a.ratio&&(i.height=this.$root.default_new_module_width*e.$infos.ratio)}await this.createModule({module_type:"mosaic",source_medias:e,addtl_meta:i}),this.show_media_picker=!1},async createText(){const t=await this.$api.uploadText({path:this.publication_path,filename:"text.txt",content:"…",additional_meta:{caption:"plip",module_type:this.module_type}}),e=this.publication_path+"/"+t,i=[{path:e}];await this.createModule({module_type:"text",source_medias:i})},async createModule({module_type:t,source_medias:e=[],addtl_meta:i={}}){const a=await this.createMetaForModule({module_type:t,source_medias:e,addtl_meta:i});this.$emit("addModule",{meta_filename:a}),this.show_module_selector=!1},async createMetaForModule({module_type:t,source_medias:e,addtl_meta:i}){let a={module_type:t,source_medias:e,requested_slug:"module"};return this.addtl_meta&&Object.assign(a,this.addtl_meta,i),await this.$api.uploadFile({path:this.publication_path,additional_meta:a}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},showDropzone(){this.show_dropzone=!0},hideDropzone(){this.show_dropzone=!1}}},r=o,l=(i(9485),i(1001)),c=(0,l.Z)(r,a,s,!1,null,"390b0a22",null),d=c.exports},1425:function(t,e,i){"use strict";i.d(e,{Z:function(){return w}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationModule",class:{"is--shape":t.is_shape}},[t.can_edit&&"page_by_page"!==t.context?i("div",{staticClass:"_sideOptions"},[i("span",[t.$listeners.hasOwnProperty("moveUp")&&"first"!==t.module_position&&"alone"!==t.module_position?i("button",{staticClass:"_sideBtns _moveBefore",attrs:{type:"button"},on:{click:function(e){return t.$emit("moveUp")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M87.46,49.46,73.39,64.77a65.3,65.3,0,0,1-6.15,6.15A47.8,47.8,0,0,1,61,75.29H131.6V91.14H61A39.1,39.1,0,0,1,67,95.51q2.81,2.46,6.36,6.15L87.46,117,74.48,128,34.17,83.21,74.48,38.39Z"}})])]):t._e()]),i("div",{staticClass:"_options"},[i("button",{staticClass:"_sideBtns",class:{"is--active":t.show_advanced_menu},attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.show_advanced_menu=!t.show_advanced_menu}}},[i("svg",{staticStyle:{fill:"currentColor"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 48 48","xml:space":"preserve"}},[i("circle",{attrs:{cx:"12",cy:"24",r:"4"}}),i("circle",{attrs:{cx:"24",cy:"24",r:"4"}}),i("circle",{attrs:{cx:"36",cy:"24",r:"4"}})])]),t.show_advanced_menu?i("div",{staticClass:"_advanced_menu"},[i("sl-button",{attrs:{variant:"default",size:"small",pill:""}},[t._v(" "+t._s(t.$t("module.label."+t.publimodule.module_type))+" ")]),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button",disabled:!t.publimodule.size||100===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:100})}}},[t._v(" 100% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:66.6===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:66.6})}}},[t._v(" 66% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:50===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:50})}}},[t._v(" 50% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:33.3===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:33.3})}}},[t._v(" 33% ")])]),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button",disabled:!t.publimodule.align||"left"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"left"})}}},[i("sl-icon",{attrs:{name:"align-start"}})],1),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:"center"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"center"})}}},[i("sl-icon",{attrs:{name:"align-center"}})],1),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:"right"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"right"})}}},[i("sl-icon",{attrs:{name:"align-end"}})],1)]),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.duplicateModule}},[t._v(" "+t._s(t.$t("duplicate"))+" ")]),i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.removeModule}},[t._v(" "+t._s(t.$t("remove"))+" ")])])],1):t._e()]),i("span",[t.$listeners.hasOwnProperty("moveDown")&&"last"!==t.module_position&&"alone"!==t.module_position?i("button",{staticClass:"_sideBtns _moveAfter",attrs:{type:"button"},on:{click:function(e){return t.$emit("moveDown")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M78.31,117l14.07-15.31a65.3,65.3,0,0,1,6.15-6.15,47.52,47.52,0,0,1,6.29-4.37H34.17V75.29h70.65a39.1,39.1,0,0,1-6.08-4.37q-2.8-2.46-6.36-6.15L78.31,49.46l13-11.07L131.6,83.21,91.29,128Z"}})])]):t._e()])]):t._e(),i("div",{staticClass:"_content",style:t.media_styles},["mosaic"===t.publimodule.module_type?i("ModuleMosaic",{attrs:{publimodule:t.publimodule,can_edit:t.can_edit,context:t.context,number_of_max_medias:t.number_of_max_medias},on:{updateMeta:t.updateMeta,remove:t.removeModule}}):"carousel"===t.publimodule.module_type?i("ModuleCarousel",{attrs:{publimodule:t.publimodule,can_edit:t.can_edit}}):"text"===t.publimodule.module_type&&t.first_media?i("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.first_media.$path,content:t.first_media.$content,scrollingContainer:t.$el,line_selected:!1,can_edit:t.can_edit},on:{lineClicked:function(e){return t.$emit("lineClicked",e)},contentIsEdited:function(e){return t.$emit("contentIsEdited",e)},contentIsNotEdited:function(e){return t.$emit("contentIsNotEdited",e)}}}):t.is_shape?[i("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},["ellipsis"===t.publimodule.module_type?i("circle",{attrs:{cx:"50",cy:"50",r:"50","vector-effect":"non-scaling-stroke"}}):"rectangle"===t.publimodule.module_type?i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}):"line"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.$root.page_magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.$root.page_magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}})]):"arrow"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.$root.page_magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.$root.page_magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}}),i("g",{attrs:{transform:"\n              translate("+(100-(t.publimodule.outline_width*t.$root.page_magnification/4||0))+", 50)",preserveAspectRatio:""}},[i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"-10","vector-effect":"non-scaling-stroke"}}),i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"10","vector-effect":"non-scaling-stroke"}})])]):t._e()])]:"free_drawing"===t.publimodule.module_type?void 0:i("small",[t._v(t._s(t.$t("nothing_to_show")))])],2)])},s=[],n=(i(2262),i(4506),i(6699),i(7658),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[i("div",{key:t.is_multiple_medias?"multiple":"single",staticClass:"_moduleMosaic",class:{"is--multipleMedias":t.is_multiple_medias},style:"--number_of_medias: "+t.medias_with_linked.length},[i("div",{staticClass:"_mediaGrid"},[t._l(t.medias_with_linked,(function(e,a){return i("div",{key:e._linked_media.$path,staticClass:"_mediaGrid--item",style:t.itemStyle({media_with_linked:e})},[i("MediaContent",{attrs:{file:e._linked_media,resolution:1600,context:"full"}}),t.can_edit?i("div",{staticClass:"_btnRow"},[(t.is_multiple_medias||"page_by_page"===t.context&&!t.single_media_displayed_at_full_ratio)&&e.objectFit&&"cover"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.frameFit({index:a,opt:{objectFit:"cover"}})}}},[t._v(" "+t._s(t.$t("object_fit_cover"))+" ")]):t._e(),(t.is_multiple_medias||"page_by_page"===t.context&&!t.single_media_displayed_at_full_ratio)&&"contain"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.frameFit({index:a,opt:{objectFit:"contain"}})}}},[t._v(" "+t._s(t.$t("object_fit_contain"))+" ")]):t._e(),t.is_multiple_medias?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.removeMediaAtIndex(a)}}},[t._v(" "+t._s(t.$t("remove"))+" ")]):t._e()]):t._e()],1)})),t.can_edit&&(!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias)?i("div",{staticClass:"_mediaPickerTile"},[t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{selectMedia:t.selectMedia,close:function(e){t.show_media_picker=!1}}}):i("sl-icon-button",{staticClass:"u-colorBleuvert",attrs:{name:"plus-circle-fill",label:t.$t("add_media")},on:{click:function(e){t.show_media_picker=!0}}}),i("transition",{attrs:{name:"dropzone",duration:150}},[t.show_dropzone&&t.medias_with_linked.length<t.number_of_max_medias?i("div",{staticClass:"_dropzone"},[i("DropZone",{on:{mediaDropped:t.selectMedia}})],1):t._e()])],1):t._e()],2)])])}),o=[],r=i(5390),l={props:{publimodule:Object,can_edit:Boolean,context:String,number_of_max_medias:[Boolean,Number]},components:{MediaPicker:r.Z},data(){return{show_media_picker:!1,show_dropzone:!1}},created(){},mounted(){this.$eventHub.$on("mediadrag.start",this.showDropzone),this.$eventHub.$on("mediadrag.end",this.hideDropzone)},beforeDestroy(){this.$eventHub.$off("mediadrag.start",this.showDropzone),this.$eventHub.$off("mediadrag.end",this.hideDropzone)},watch:{},computed:{publication_path(){return this.publimodule.$path.substring(0,this.publimodule.$path.lastIndexOf("/"))},single_media_displayed_at_full_ratio(){var t;if(this.medias_with_linked.length>1)return!1;const e=null===(t=this.medias_with_linked[0]._linked_media.$infos)||void 0===t?void 0:t.ratio;return Math.round(10*e)===Math.round(this.publimodule.height/this.publimodule.width*10)},medias_with_linked(){return this.publimodule.source_medias?this.publimodule.source_medias.map((t=>{const e=this.getSourceMedia({source_media_path:t.path}),i=Object.assign({},t,{_linked_media:e});return i})):[]},is_multiple_medias(){return this.medias_with_linked.length>1}},methods:{selectMedia({path_to_source_media:t}){const e=this.publimodule.source_medias.slice();e.push({path:t}),this.$emit("updateMeta",{source_medias:e}),this.show_media_picker=!1},removeMediaAtIndex(t){const e=this.publimodule.source_medias.slice();e.splice(t,1),0===e.length?this.$emit("remove"):this.$emit("updateMeta",{source_medias:e})},frameFit({index:t,opt:e}){const i=this.publimodule.source_medias.slice();Object.assign(i[t],e),this.$emit("updateMeta",{source_medias:i})},itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},showDropzone(){this.show_dropzone=!0},hideDropzone(){this.show_dropzone=!1}}},c=l,d=(i(6893),i(1001)),p=(0,d.Z)(c,n,o,!1,null,"b1312cde",null),u=p.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v(" ModuleCarousel "),t._l(t.medias,(function(e){return i("div",{key:e.$path},[e?i("MediaContent",{attrs:{file:e,resolution:1600,context:"full"}}):t._e()],1)}))],2)},m=[],f={props:{publimodule:Object,medias:Array},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},_=f,v=(0,d.Z)(_,h,m,!1,null,"1491e03e",null),g=v.exports,b={props:{publimodule:Object,module_position:String,can_edit:Boolean,borderRadius:Number,context:String,number_of_max_medias:{type:[Boolean,Number],default:!1}},components:{ModuleMosaic:u,ModuleCarousel:g},data(){return{show_advanced_menu:!1}},created(){},mounted(){this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.enableEditForText),this.$eventHub.$on(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$on(`module.remove.${this.module_meta_filename}`,this.removeModule)},beforeDestroy(){this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.enableEditForText),this.$eventHub.$off(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$off(`module.remove.${this.module_meta_filename}`,this.removeModule)},watch:{},computed:{module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},is_shape(){return["ellipsis","rectangle","line","arrow"].includes(this.publimodule.module_type)},first_media(){if(!this.publimodule.source_medias||0===this.publimodule.source_medias.length)return!1;const{path:t}=this.publimodule.source_medias[0];return!!t&&this.getSourceMedia({source_media_path:t})},media_styles(){let t=0;return"center"===this.publimodule.align&&(66.6===this.publimodule.size?t=16.6:50===this.publimodule.size?t=25:33.3===this.publimodule.size&&(t=33.3)),"right"===this.publimodule.align&&(66.6===this.publimodule.size?t=33.3:50===this.publimodule.size?t=50:33.3===this.publimodule.size&&(t=66.6)),{"--module-width":this.publimodule.size||100,"--module-margin-left":t}}},methods:{async updateMeta(t){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},enableEditForText(){this.$nextTick((()=>{this.$refs.textBloc&&this.$refs.textBloc.enableEditor()}))},async duplicateModule(){let t={};const e=[];for(let{path:a,...s}of this.publimodule.source_medias){let t;if(a.includes("/publications/")){const e=await this.$api.duplicateFile({path:a});t=a.substring(0,a.lastIndexOf("/")+1)+e}else t=a;let i={};i=Object.assign({},s,{path:t}),e.push(i)}t.source_medias=e,"page_by_page"===this.context&&(t.x=(this.publimodule.x||0)+1,t.y=(this.publimodule.y||0)+1);const i=await this.$api.duplicateFile({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}));this.$emit("duplicate",i)},async removeModule(){await this.$api.deleteItem({path:this.publimodule.$path}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.$emit("remove")}}},x=b,y=(i(9280),(0,d.Z)(x,a,s,!1,null,"003e3905",null)),w=y.exports},9849:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return p}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_storyTemplate"},[i("div",{staticClass:"_mediasList"},[i("transition-group",{attrs:{tag:"div",name:"StoryModules",appear:"",duration:700}},[t._l(t.modules_list,(function(e,a){return[i("PublicationModule",{key:e,staticClass:"_mediaPublication",attrs:{publimodule:t.findModuleFromMetaFilename(e),module_position:1===t.modules_list.length?"alone":0===a?"first":a===t.modules_list.length-1?"last":"inbetween",can_edit:t.can_edit},on:{resize:function(i){return t.resize({meta_filename:e,new_size:i})},moveUp:function(i){return t.moveTo({meta_filename:e,dir:-1})},moveDown:function(i){return t.moveTo({meta_filename:e,dir:1})},duplicate:function(i){return t.duplicatePublicationMedia({source_meta_filename:e,copy_meta_filename:i})},remove:function(i){return t.removeModuleFromList(e)}}}),i("div",{key:"mc_"+a,staticClass:"_spacer"},[t.can_edit?i("ModuleCreator",{attrs:{publication_path:t.publication.$path},on:{addModule:function(e){var i=e.meta_filename;return t.insertModuleMetaFilenameToList({meta_filename:i,index:a+1})}}}):t._e()],1)]}))],2)],1),!t.can_edit||t.modules_list&&0!==t.modules_list.length?t._e():i("ModuleCreator",{attrs:{publication_path:t.publication.$path},on:{addModule:t.appendModuleMetaFilenameToList}})],1)},s=[],n=(i(5827),i(7658),i(1075)),o=i(1425),r={props:{publication:Object,can_edit:Boolean},components:{ModuleCreator:n.Z,PublicationModule:o.Z},data(){return{medias:[],fetch_publication_error:null}},created(){},async mounted(){},beforeDestroy(){},watch:{},computed:{modules_list(){if(this.publication.modules_list&&Array.isArray(this.publication.modules_list)){const t=this.publication.modules_list.reduce(((t,e)=>{const i=this.findModuleFromMetaFilename(e);return i&&t.push(e),t}),[]);return t}return[]}},methods:{async appendModuleMetaFilenameToList({meta_filename:t}){const e=this.modules_list.slice();e.push(t),await this.updateMeta({new_meta:{modules_list:e}}),this.toggleNewModuleEdit({meta_filename:t})},async insertModuleMetaFilenameToList({meta_filename:t,index:e}){const i=this.modules_list.slice();i.splice(e,0,t),await this.updateMeta({new_meta:{modules_list:i}}),this.toggleNewModuleEdit({meta_filename:t})},async updateMeta({new_meta:t}){this.fetch_status="pending",this.fetch_error=null;try{this.response=await this.$api.updateMeta({path:this.publication.$path,new_meta:t}),this.fetch_status="success"}catch(e){this.fetch_status="error",this.fetch_error=e.response.data}},findModuleFromMetaFilename(t){return this.publication.$files?this.publication.$files.find((e=>{const i=e.$path.substring(e.$path.lastIndexOf("/")+1);return i===t})):[]},async moveTo({meta_filename:t,dir:e}){let i=this.modules_list.slice();const a=i.findIndex((e=>e===t));return!(a+e<0)&&(!(a+e>i.length-1)&&(i.move(a,a+e),void(this.response=await this.updatePubliMeta({modules_list:i}))))},async duplicatePublicationMedia({source_meta_filename:t,copy_meta_filename:e}){let i=this.modules_list.slice();const a=i.findIndex((e=>e===t));i.splice(a+1,0,e),this.response=await this.updatePubliMeta({modules_list:i})},async removeModuleFromList(t){let e=this.modules_list.slice();e=e.filter((e=>e!==t)),this.response=await this.updatePubliMeta({modules_list:e})},async updatePubliMeta(t){return await this.$api.updateMeta({path:this.publication.$path,new_meta:t})},toggleNewModuleEdit({meta_filename:t}){setTimeout((()=>{console.log(`emit module.enable_edit.${t}`),this.$eventHub.$emit(`module.enable_edit.${t}`)}),50)}}},l=r,c=(i(9348),i(1001)),d=(0,c.Z)(l,a,s,!1,null,"b32070e6",null),p=d.exports},8824:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return ie}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_projectView"},[i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.project?t.fetch_project_error?i("div",{key:"err"},[t._v(" "+t._s(t.fetch_project_error)+" ")]):i("div",{key:"project"},[i("div",{staticClass:"_topContent"},[t.can_edit_project?i("div",{staticClass:"_displayAsPublic"},[i("div",{staticClass:"_sticky"},[i("div",{staticClass:"_content"},[i("ToggleInput",{staticClass:"u-button",attrs:{content:t.display_as_public,label:t.$t("display_as_public")},on:{"update:content":function(e){t.display_as_public=e}}})],1)])]):t._e(),i("ProjectPresentation",{attrs:{project:t.project,context:"full",can_edit_project:t.can_edit_project&&!t.display_as_public}})],1),i("div",{staticClass:"_projectPanesAndList"},[i("PaneList2",{staticClass:"_paneList",attrs:{can_edit:t.can_edit_project&&!t.display_as_public,project:t.project,panes:t.projectpanes},on:{"update:panes":function(e){t.projectpanes=e}}}),i("div",{staticClass:"_panes"},[i("ProjectPanes",{attrs:{projectpanes:t.projectpanes,project:t.project,can_edit_project:t.can_edit_project&&!t.display_as_public},on:{"update:projectpanes":function(e){t.projectpanes=e}}})],1)],1)]):i("div",{key:"loader",staticClass:"u-divCentered"},[i("LoaderSpinner")],1)])],1)},s=[],n=(i(7658),i(5521)),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_paneList",class:{"is--mobile":t.$root.is_mobile_view,"has--noPanes":0===t.project_panes.length}},[i("span",{staticClass:"_paneList2",attrs:{label:"Panneaux"}},[i("button",{staticClass:"u-button u-button_transparent _projectTitle",class:{"is--shown":t.is_stickied_to_top},attrs:{type:"button"},on:{click:t.scrollToTop}},[t.cover_thumb?i("img",{attrs:{src:t.cover_thumb}}):t._e(),i("span",[t._v(" "+t._s(t.project.title)+" ")])]),i("span",{ref:"drawer",staticClass:"_projectPanes",attrs:{placement:"top"}},[t.can_edit?i("SlickList",{staticClass:"_paneList--list",attrs:{axis:"x",useDragHandle:!0},model:{value:t.project_panes,callback:function(e){t.project_panes=e},expression:"project_panes"}},t._l(t.possible_project_panes,(function(e,a){return i("SlickItem",{key:e.type,staticClass:"_paneItem",class:{"is--enabled":t.paneIsEnabled(e.type)},style:"--color-active: var(--color-"+e.type+");",attrs:{index:a}},[i("div",{ref:"pane_"+e.type,refInFor:!0,staticClass:"_btn",on:{click:function(i){return t.replacePane(i,e)}}},[t.getIcon(e.type)?i("span",{staticClass:"_icon",domProps:{innerHTML:t._s(t.getIcon(e.type))}}):t._e(),t.paneIsEnabled(e.type)||!t.$root.is_mobile_view?i("span",[t._v(" "+t._s(a+1)+" • "+t._s(t.$t(e.type))+" ")]):t._e(),t.project_panes.some((function(t){return t.type===e.type}))?i("div",{staticClass:"_inlineBtn _removePaneBtn"},[i("sl-icon-button",{attrs:{name:"x-circle-fill",label:"Fermer"},on:{click:function(i){return i.stopPropagation(),t.removePane(e.type)}}})],1):t.project_panes.length>0&&!t.$root.is_mobile_view?i("div",{staticClass:"_inlineBtn _addPaneBtn"},[i("sl-icon-button",{attrs:{name:"plus-circle-fill",label:"Ajouter"},on:{click:function(i){return i.stopPropagation(),t.addPane(i,e)}}})],1):t._e()])])})),1):t._e()],1),t.$root.is_mobile_view?t._e():i("span")])])},r=[],l=i(4244),c={props:{panes:Array,project:Object,can_edit:Boolean},components:{SlickItem:l.SlickItem,SlickList:l.SlickList},directives:{handle:l.HandleDirective},data(){return{show_panelist:!1,is_stickied_to_top:!1,project_panes:[],possible_project_panes:[{type:"capture"},{type:"collect"},{type:"remix"},{type:"publish"}]}},created(){},mounted(){document.addEventListener("scroll",this.detectTopOfWindow)},beforeDestroy(){document.removeEventListener("scroll",this.detectTopOfWindow)},watch:{panes:{handler(){this.project_panes=this.panes.slice()},deep:!0,immediate:!0},project_panes:{handler(){if(JSON.stringify(this.project_panes)===JSON.stringify(this.panes))return!1;this.project_panes=this.project_panes.map((t=>(0===t.size&&(t.size=20),t))),this.$emit("update:panes",this.project_panes)},deep:!0}},computed:{cover_thumb(){return this.makeRelativeURLFromThumbs({$thumbs:this.project.$cover,$type:"image",$path:this.project.$path,resolution:50})}},methods:{detectTopOfWindow(){this.$el.getBoundingClientRect().y<=10?this.is_stickied_to_top=!0:this.is_stickied_to_top=!1},scrollToTop(){document.body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},removePane(t){this.project_panes=this.project_panes.filter((e=>e.type!==t))},paneIsEnabled(t){return this.project_panes.some((e=>e.type===t))},replacePane(t,e){this.project_panes=[],this.addPane(t,e)},addPane(t,e){console.log("PaneList2 / addPane"),this.$nextTick((()=>{t.target.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}));let i=JSON.parse(JSON.stringify(this.project_panes));i.push(e);const a=this.possible_project_panes.map((t=>t.type));i.sort(((t,e)=>a.indexOf(t.type)-a.indexOf(e.type))),i=i.map((t=>(t.size=100/i.length,t))),this.project_panes=i},getIcon(t){return"capture"===t?'\n      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 168 168" style="enable-background:new 0 0 168 168;" xml:space="preserve">\n          <path style="fill:var(--c-orange);" d="M84,0C37.6,0,0,37.6,0,84c0,46.4,37.6,84,84,84c46.4,0,84-37.6,84-84\n            C168,37.6,130.4,0,84,0z"/>\n          <path style="fill:var(--c-rouge);" d="M84,41.3c-23.6,0-42.7,19.1-42.7,42.7c0,23.6,19.1,42.7,42.7,42.7\n            c23.6,0,42.7-19.1,42.7-42.7C126.7,60.4,107.6,41.3,84,41.3z"/>\n        </svg>\n        ':"collect"===t?'\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n       viewBox="0 0 168 168" style="enable-background:new 0 0 168 168;" xml:space="preserve">\n            <path style="fill:var(--c-rouge);" d="M84,0C37.6,0,0,37.6,0,84c0,46.4,37.6,84,84,84c46.4,0,84-37.6,84-84 C168,37.6,130.4,0,84,0z"/>\n            <path style="fill:var(--c-orange);" d="m42 42h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m73.2 42h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m104.4 42h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m42 73.5h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m73.2 73.5h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m104.4 73.5h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m42 105h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m73.2 105h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m104.4 105h21.6v21h-21.6z"/>\n          </svg>\n        ':"remix"===t?'\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 168">\n            <circle cx="84.13" cy="84" r="84" style="fill: var(--c-bleuvert)"/>\n            <path d="M115.33,27.75A4.07,4.07,0,0,1,118,25.89a4.44,4.44,0,0,1,3.48.67,4.51,4.51,0,0,1,2,3,4.13,4.13,0,0,1-.7,3.17l-10.6,14.72h-8.91ZM90.85,28.89A5.87,5.87,0,1,1,85,34.76,5.87,5.87,0,0,1,90.85,28.89Zm-21.39-10a8.53,8.53,0,1,1-8.53,8.53A8.54,8.54,0,0,1,69.46,18.92ZM45.51,50.58h77v8.78h-77ZM49.35,67.3h69.3c9.74,8.63,15.1,20.17,15.1,32.56a42.54,42.54,0,0,1-9.38,26.47L119.63,121l-4.41-5-4.41,5-6.35,7.18L98.11,121l-4.41-5-4.41,5-6.35,7.18L76.59,121l-4.41-5-4.41,5-6.35,7.18L55.07,121l-4.41-5-4.41,5-3.6,4.08a42.38,42.38,0,0,1-8.4-25.2C34.26,87.47,39.61,75.93,49.35,67.3ZM35.24,136.49h5.15l10.28-11.63L61.42,137l10.76-12.17L82.94,137,93.7,124.86,104.46,137l10.75-12.17,10.28,11.63h5.15v8.59H35.24Z" \n              style="fill: var(--c-bleumarine)"/>\n          </svg>\n        ':"publish"===t&&'\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 168">\n            <circle cx="84" cy="84" r="84" style="fill: var(--c-bleumarine)"/>\n            <path d="M129.4,143.86H38.62V25.42H129.4Z" style="fill: var(--c-bleuvert)"/>\n            <rect x="53.82" y="39.01" width="26.85" height="10.37" style="fill: var(--c-bleumarine)"/>\n            <rect x="53.82" y="54.17" width="26.84" height="9.53" style="fill: var(--c-bleumarine)"/>\n            <rect x="87.34" y="39.01" width="26.85" height="24.68" style="fill: var(--c-bleumarine)"/>\n            <rect x="53.76" y="71.22" width="60.49" height="29.07" style="fill: var(--c-bleumarine)"/>\n            <rect x="53.76" y="105.8" width="26.85" height="23.66" style="fill: var(--c-bleumarine)"/>\n            <rect x="87.35" y="105.8" width="26.85" height="23.66" style="fill: var(--c-bleumarine)"/>\n          </svg>\n        '}}},d=c,p=(i(2175),i(1001)),u=(0,p.Z)(d,o,r,!1,null,null,null),h=u.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_projetPanes",class:{"has--multiplePanes":t.can_edit_project},on:{click:t.scrollToPanes}},[i("splitpanes",{attrs:{"watch-slots":"","dbl-click-splitter":!1},on:{resized:t.resized}},[0===t.projectpanes.length?[i("pane",[i("div",{staticClass:"_msg"},[i("span",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("choose_a_pane"))+" ")]),i("br"),i("br"),i("br"),i("br"),i("div",{staticClass:"_devNotes"},[i("div",{staticClass:"u-wips"}),i("small",[t._v(" todo: afficher un petit menu qui contient un encart pour chaque panneau avec les derniers éléments créés ou modifiés, et un lien pour les ouvrir ")])])])])]:t._e(),t._l(t.projectpanes,(function(e){return i("pane",{key:e.index,staticClass:"_pane",style:"--color-type: var(--color-"+e.type+");",attrs:{"min-size":"5",size:e.size,"data-size":e.size}},[i("transition",{attrs:{name:"fade"}},[t.show_instructions&&t.can_edit_project?i("div",{key:"instructions.pane_"+e.type,staticClass:"_floatingMsg",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeInstructions.apply(null,arguments)}}},[i("div",[i("span",{domProps:{innerHTML:t._s(t.$t("instructions.pane."+e.type))}}),i("sl-icon-button",{attrs:{name:"x-circle-fill",label:"Fermer"},on:{click:function(e){return e.stopPropagation(),t.closeInstructions.apply(null,arguments)}}})],1)]):t._e()]),"capture"===e.type?i("CapturePane",{attrs:{project:t.project,selected_mode:e.mode,stopmotion_slug:e.stopmotion},on:{"update:selected_mode":function(i){return t.setItem(e,"mode",i)},"update:stopmotion_slug":function(i){return t.setItem(e,"stopmotion",i)}}}):"collect"===e.type?i("MediaLibrary",{key:e.key,attrs:{project:t.project,media_focused:e.focus},on:{"update:media_focused":function(i){return t.setItem(e,"focus",i)}}}):t._e(),"remix"===e.type?i("RemixPane",{attrs:{project:t.project,opened_remix_slug:e.remix,can_edit:t.can_edit_project},on:{"update:opened_remix_slug":function(i){return t.setItem(e,"remix",i)}}}):t._e(),"publish"===e.type?i("PublierPane",{attrs:{project:t.project,publication_opened:e.folder,page_opened_id:e.page_id,can_edit:t.can_edit_project},on:{"update:publication_opened":function(i){return t.setItem(e,"folder",i)},"update:page_opened_id":function(i){return t.setItem(e,"page_id",i)}}}):t._e()],1)}))],2)],1)},f=[],_=(i(5827),i(6699),Object.defineProperty),v=Object.defineProperties,g=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,w=(t,e,i)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,k=(t,e)=>{for(var i in e||(e={}))x.call(e,i)&&w(t,i,e[i]);if(b)for(var i of b(e))y.call(e,i)&&w(t,i,e[i]);return t},$=(t,e)=>v(t,g(e)),j=(t,e)=>{var i={};for(var a in t)x.call(t,a)&&e.indexOf(a)<0&&(i[a]=t[a]);if(null!=t&&b)for(var a of b(t))e.indexOf(a)<0&&y.call(t,a)&&(i[a]=t[a]);return i};function M(t,e,i,a,s,n,o,r){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=r?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:c}}const C={name:"splitpanes",props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce(((t,e)=>(t[e.id]=e)&&t),{})}},methods:{updatePaneComponents(){this.panes.forEach((t=>{t.update&&t.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[t.id].size}%`})}))},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(t,e){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=e},onMouseMove(t){this.touch.mouseDown&&(t.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(t)),this.$emit("resize",this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))),this.touch.mouseDown=!1,setTimeout((()=>{this.touch.dragging=!1,this.unbindEvents()}),100)},onSplitterClick(t,e){"ontouchstart"in window&&(t.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===e?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(t,e),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=e,this.splitterTaps.timeoutId=setTimeout((()=>{this.splitterTaps.splitter=null}),500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[e])},onSplitterDblClick(t,e){let i=0;this.panes=this.panes.map(((t,a)=>(t.size=a===e?t.max:t.min,a!==e&&(i+=t.min),t))),this.panes[e].size-=i,this.$emit("pane-maximize",this.panes[e])},onPaneClick(t,e){this.$emit("pane-click",this.indexedPanes[e])},getCurrentMouseDrag(t){const e=this.container.getBoundingClientRect(),{clientX:i,clientY:a}="ontouchstart"in window&&t.touches?t.touches[0]:t;return{x:i-e.left,y:a-e.top}},getCurrentDragPercentage(t){t=t[this.horizontal?"y":"x"];const e=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(t=e-t),100*t/e},calculatePanesSize(t){const e=this.touch.activeSplitter;let i={prevPanesSize:this.sumPrevPanesSize(e),nextPanesSize:this.sumNextPanesSize(e),prevReachedMinPanes:0,nextReachedMinPanes:0};const a=0+(this.pushOtherPanes?0:i.prevPanesSize),s=100-(this.pushOtherPanes?0:i.nextPanesSize),n=Math.max(Math.min(this.getCurrentDragPercentage(t),s),a);let o=[e,e+1],r=this.panes[o[0]]||null,l=this.panes[o[1]]||null;const c=r.max<100&&n>=r.max+i.prevPanesSize,d=l.max<100&&n<=100-(l.max+this.sumNextPanesSize(e+1));if(c||d)c?(r.size=r.max,l.size=Math.max(100-r.max-i.prevPanesSize-i.nextPanesSize,0)):(r.size=Math.max(100-l.max-i.prevPanesSize-this.sumNextPanesSize(e+1),0),l.size=l.max);else{if(this.pushOtherPanes){const t=this.doPushOtherPanes(i,n);if(!t)return;({sums:i,panesToResize:o}=t),r=this.panes[o[0]]||null,l=this.panes[o[1]]||null}null!==r&&(r.size=Math.min(Math.max(n-i.prevPanesSize-i.prevReachedMinPanes,r.min),r.max)),null!==l&&(l.size=Math.min(Math.max(100-n-i.nextPanesSize-i.nextReachedMinPanes,l.min),l.max))}},doPushOtherPanes(t,e){const i=this.touch.activeSplitter,a=[i,i+1];return e<t.prevPanesSize+this.panes[a[0]].min&&(a[0]=this.findPrevExpandedPane(i).index,t.prevReachedMinPanes=0,a[0]<i&&this.panes.forEach(((e,s)=>{s>a[0]&&s<=i&&(e.size=e.min,t.prevReachedMinPanes+=e.min)})),t.prevPanesSize=this.sumPrevPanesSize(a[0]),void 0===a[0])?(t.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach(((e,a)=>{a>0&&a<=i&&(e.size=e.min,t.prevReachedMinPanes+=e.min)})),this.panes[a[1]].size=100-t.prevReachedMinPanes-this.panes[0].min-t.prevPanesSize-t.nextPanesSize,null):e>100-t.nextPanesSize-this.panes[a[1]].min&&(a[1]=this.findNextExpandedPane(i).index,t.nextReachedMinPanes=0,a[1]>i+1&&this.panes.forEach(((e,s)=>{s>i&&s<a[1]&&(e.size=e.min,t.nextReachedMinPanes+=e.min)})),t.nextPanesSize=this.sumNextPanesSize(a[1]-1),void 0===a[1])?(t.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach(((e,a)=>{a<this.panesCount-1&&a>=i+1&&(e.size=e.min,t.nextReachedMinPanes+=e.min)})),this.panes[a[0]].size=100-t.prevPanesSize-t.nextReachedMinPanes-this.panes[this.panesCount-1].min-t.nextPanesSize,null):{sums:t,panesToResize:a}},sumPrevPanesSize(t){return this.panes.reduce(((e,i,a)=>e+(a<t?i.size:0)),0)},sumNextPanesSize(t){return this.panes.reduce(((e,i,a)=>e+(a>t+1?i.size:0)),0)},findPrevExpandedPane(t){const e=[...this.panes].reverse().find((e=>e.index<t&&e.size>e.min));return e||{}},findNextExpandedPane(t){const e=this.panes.find((e=>e.index>t+1&&e.size>e.min));return e||{}},checkSplitpanesNodes(){const t=Array.from(this.container.children);t.forEach((t=>{const e=t.classList.contains("splitpanes__pane"),i=t.classList.contains("splitpanes__splitter");if(!e&&!i)return t.parentNode.removeChild(t),void console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.")}))},addSplitter(t,e,i=!1){const a=t-1,s=document.createElement("div");s.classList.add("splitpanes__splitter"),i||(s.onmousedown=t=>this.onMouseDown(t,a),"undefined"!==typeof window&&"ontouchstart"in window&&(s.ontouchstart=t=>this.onMouseDown(t,a)),s.onclick=t=>this.onSplitterClick(t,a+1)),this.dblClickSplitter&&(s.ondblclick=t=>this.onSplitterDblClick(t,a+1)),e.parentNode.insertBefore(s,e)},removeSplitter(t){t.onmousedown=void 0,t.onclick=void 0,t.ondblclick=void 0,t.parentNode.removeChild(t)},redoSplitters(){const t=Array.from(this.container.children);t.forEach((t=>{t.className.includes("splitpanes__splitter")&&this.removeSplitter(t)}));let e=0;t.forEach((t=>{t.className.includes("splitpanes__pane")&&(!e&&this.firstSplitter?this.addSplitter(e,t,!0):e&&this.addSplitter(e,t),e++)}))},requestUpdate(t){var e=t,{target:i}=e,a=j(e,["target"]);const s=this.indexedPanes[i._uid];Object.entries(a).forEach((([t,e])=>s[t]=e))},onPaneAdd(t){let e=-1;Array.from(t.$el.parentNode.children).some((i=>(i.className.includes("splitpanes__pane")&&e++,i===t.$el)));const i=parseFloat(t.minSize),a=parseFloat(t.maxSize);this.panes.splice(e,0,{id:t._uid,index:e,min:isNaN(i)?0:i,max:isNaN(a)?100:a,size:null===t.size?null:parseFloat(t.size),givenSize:t.size,update:t.update}),this.panes.forEach(((t,e)=>t.index=e)),this.ready&&this.$nextTick((()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[e]}),this.$emit("pane-add",{index:e,panes:this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))})}))},onPaneRemove(t){const e=this.panes.findIndex((e=>e.id===t._uid)),i=this.panes.splice(e,1)[0];this.panes.forEach(((t,e)=>t.index=e)),this.$nextTick((()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:$(k({},i),{index:e})}),this.$emit("pane-remove",{removed:i,panes:this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))})}))},resetPaneSizes(t={}){t.addedPane||t.removedPane?this.panes.some((t=>null!==t.givenSize||t.min||t.max<100))?this.equalizeAfterAddOrRemove(t):this.equalize():this.initialPanesSizing(),this.ready&&this.$emit("resized",this.panes.map((t=>({min:t.min,max:t.max,size:t.size}))))},equalize(){const t=100/this.panesCount;let e=0,i=[],a=[];this.panes.forEach((s=>{s.size=Math.max(Math.min(t,s.max),s.min),e-=s.size,s.size>=s.max&&i.push(s.id),s.size<=s.min&&a.push(s.id)})),e>.1&&this.readjustSizes(e,i,a)},initialPanesSizing(){this.panesCount;let t=100,e=[],i=[],a=0;this.panes.forEach((s=>{t-=s.size,null!==s.size&&a++,s.size>=s.max&&e.push(s.id),s.size<=s.min&&i.push(s.id)}));let s=100;t>.1&&(this.panes.forEach((e=>{null===e.size&&(e.size=Math.max(Math.min(t/(this.panesCount-a),e.max),e.min)),s-=e.size})),s>.1&&this.readjustSizes(t,e,i))},equalizeAfterAddOrRemove({addedPane:t,removedPane:e}={}){let i=100/this.panesCount,a=0,s=[],n=[];t&&null!==t.givenSize&&(i=(100-t.givenSize)/(this.panesCount-1)),this.panes.forEach((t=>{a-=t.size,t.size>=t.max&&s.push(t.id),t.size<=t.min&&n.push(t.id)})),Math.abs(a)<.1||(this.panes.forEach((e=>{t&&null!==t.givenSize&&t.id===e.id||(e.size=Math.max(Math.min(i,e.max),e.min)),a-=e.size,e.size>=e.max&&s.push(e.id),e.size<=e.min&&n.push(e.id)})),a>.1&&this.readjustSizes(a,s,n))},readjustSizes(t,e,i){let a;a=t>0?t/(this.panesCount-e.length):t/(this.panesCount-i.length),this.panes.forEach(((s,n)=>{if(t>0&&!e.includes(s.id)){const e=Math.max(Math.min(s.size+a,s.max),s.min),i=e-s.size;t-=i,s.size=e}else if(!i.includes(s.id)){const e=Math.max(Math.min(s.size+a,s.max),s.min),i=e-s.size;t-=i,s.size=e}s.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[s.id].size}%`})})),Math.abs(t)>.1&&this.$nextTick((()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")}))}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(t){const e=[...this.container.querySelectorAll(".splitpanes__splitter")];e.forEach(((e,i)=>{e.ondblclick=t?t=>this.onSplitterDblClick(t,i):void 0}))}},beforeDestroy(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(t){return t("div",{ref:"container",class:["splitpanes","splitpanes--"+(this.horizontal?"horizontal":"vertical"),{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default)}};let P,z;const S={};var I=M(C,P,z,!1,O,null,null,null);function O(t){for(let e in S)this[e]=S[e]}var T=function(){return I.exports}(),E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"splitpanes__pane",style:t.style,on:{click:function(e){return t.onPaneClick(e,t._uid)}}},[t._t("default")],2)},L=[];const D={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeDestroy(){this.onPaneRemove(this)},methods:{update(t){this.style=t}},computed:{sizeNumber(){return this.size||0===this.size?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(t){this.requestUpdate({target:this,size:t})},minSizeNumber(t){this.requestUpdate({target:this,min:t})},maxSizeNumber(t){this.requestUpdate({target:this,max:t})}}},R={};var B=M(D,E,L,!1,F,null,null,null);function F(t){for(let e in R)this[e]=R[e]}var Z=function(){return B.exports}(),N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_capturePane"},[i("CaptureView",{attrs:{slugFolderName:t.project.$path,type:"projects",path:t.project.$path,read_only:!1,selected_mode:t.selected_mode,stopmotion_slug:t.stopmotion_slug},on:{changeMode:function(e){return t.$emit("update:selected_mode",e)},openStopmotion:function(e){return t.$emit("update:stopmotion_slug",e)}}})],1)},A=[],H={props:{project:Object,selected_mode:String,stopmotion_slug:String},components:{CaptureView:()=>i.e(873).then(i.bind(i,6873))},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},q=H,V=(i(2123),(0,p.Z)(q,N,A,!1,null,"4cb07ab4",null)),G=V.exports,W=i(9361),U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_remixPane"},[t.opened_remix_slug?i("div",[i("RemixOpen",{attrs:{project_path:t.project.$path,remix_slug:t.opened_remix_slug},on:{remove:t.removeRemix,close:function(e){return t.$emit("update:opened_remix_slug",!1)}}})],1):i("div",[i("br"),t.can_edit?i("RadioSwitch",{attrs:{content:t.current_view,options:[{label:t.$t("create"),value:"create"},{label:t.$t("existing"),value:"existing"}]},on:{"update:content":function(e){t.current_view=e}}}):t._e(),i("br"),"create"===t.current_view?i("section",t._l(t.recipe_types,(function(e){return i("div",{key:e.key,staticClass:"m_recipes--type"},[i("div",{staticClass:"u-label u-colorWhite"},[t._v(" "+t._s(t.$t(e.label))+" ")]),i("div",{staticClass:"m_recipes--type--grid"},t._l(e.recipes,(function(e){return i("div",{key:e.key,staticClass:"m_recipe"},[i("div",{staticClass:"m_recipe--icon",domProps:{innerHTML:t._s(e.icon)}}),i("div",{staticClass:"m_recipe--text"},[i("h2",{},[t._v(t._s(t.$t(e.key)))]),e.instructions?i("button",{staticClass:"u-buttonLink",class:{"is--active":e.show_instructions},attrs:{type:"button"},on:{click:function(t){e.show_instructions=!e.show_instructions}}},[t._v(" "+t._s(t.$t("more_informations"))+" ")]):t._e(),t._e(),e.show_instructions?[i("p",[i("span",{domProps:{innerHTML:t._s(t.$t(e.instructions))}})])]:t._e()],2),i("br"),i("div",{staticClass:"m_recipe--buttons"},[i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(i){return t.createRemix(e.key)}}},[i("svg",{staticStyle:{"enable-background":"new 0 0 168 168"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 168 168","xml:space":"preserve"}},[i("polygon",{staticStyle:{fill:"white"},attrs:{points:"132.3,73.4 132.3,94.4 94.6,94.4 94.6,132.1 73.6,132.1 73.6,94.4 35.9,94.4 35.9,73.4 \n\t\t73.6,73.4 73.6,35.7 94.6,35.7 94.6,73.4 \t\t"}})]),i("span",[t._v(t._s(t.$t("create")))])])])])})),0)])})),0):"existing"===t.current_view?i("section",[i("RemixesList",{attrs:{project_path:t.project.$path,can_edit:t.can_edit},on:{open:t.openRemix}})],1):t._e()],1)])},J=[],Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"_remixesList"},[i("label",{staticClass:"u-label u-colorWhite"},[t._v(" "+t._s(t.$t("remixes_list"))+" ")]),i("div",{staticClass:"_remixes"},t._l(t.remixes,(function(e){return i("div",{key:e.$path,staticClass:"_remixes--item"},[i("DateField",{attrs:{date:e.$date_created}}),i("span",[t._v(" "+t._s(t.$t(e.type))+" ")]),i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:function(i){t.$emit("open",e.$path.split("/").at(-1))}}},[t._v(" "+t._s(t.$t("open"))+" ")])],1)})),0)])},X=[],K={props:{project_path:String,can_edit:Boolean},components:{},data(){return{path:`${this.project_path}/remixes`,remixes:[]}},created(){},async mounted(){this.remixes=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{},methods:{}},Q=K,tt=(i(1386),(0,p.Z)(Q,Y,X,!1,null,"08dce477",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_remix"},[t.fetch_remix_error?i("div",[t._v(" "+t._s(t.fetch_remix_error)+" ")]):t._e(),t.remix?i("div",[i("div",{staticClass:"_topbar"},[t._v(" "+t._s(t.remix.title)+" "+t._s(t.remix.$path)+" "+t._s(t.remix.type)+" "),i("DateField",{attrs:{date:t.remix.$date_created}}),i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" "+t._s(t.$t("close"))+" ")]),i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.removeRemix}},[t._v(" "+t._s(t.$t("remove"))+" ")]),"video_assemblage"===t.remix.type?i("VideoAssemblage",{attrs:{remix:t.remix}}):t._e()],1)]):t._e()])},at=[],st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_videoAssemblage"},[i("StoryTemplate",{attrs:{publication:t.remix,can_edit:!0}})],1)},nt=[],ot=i(9849),rt={props:{remix:Object},components:{StoryTemplate:ot["default"]},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},lt=rt,ct=(i(5461),(0,p.Z)(lt,st,nt,!1,null,"a0914422",null)),dt=ct.exports,pt={props:{project_path:String,remix_slug:String},components:{VideoAssemblage:dt},data(){return{remix:null,fetch_remix_error:!1}},created(){},async mounted(){await this.listRemix(),this.$eventHub.$on("folder.removed",this.closeOnRemove),this.$api.join({room:this.remix.$path})},beforeDestroy(){this.$eventHub.$off("folder.removed",this.closeOnRemove),this.$api.leave({room:this.remix.$path})},watch:{},computed:{},methods:{async listRemix(){const t=await this.$api.getFolder({path:`${this.project_path}/remixes/${this.remix_slug}`}).catch((t=>{this.fetch_remix_error=t.response}));this.remix=t},closeOnRemove({path:t}){t===this.remix.$path&&(this.$alertify.closeLogOnClick(!0).delay(4e3).log(this.$t("notifications.remix_was_removed")),this.$emit("close"))},async removeRemix(){this.fetch_status="pending",this.fetch_error=null;try{const t=await this.$api.deleteItem({path:this.remix.$path});this.response=t.data,this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}}}},ut=pt,ht=(i(6626),(0,p.Z)(ut,it,at,!1,null,"6c1f90c0",null)),mt=ht.exports,ft={props:{can_edit:Boolean,opened_remix_slug:String,project:Object},components:{RemixesList:et,RemixOpen:mt},data(){return{current_view:"create",recipe_types:[{key:"video",label:"make_a_video",recipes:[{key:"video_assemblage",summary:"video_assemblage_summary",show_instructions:!1,instructions:"video_assemblage_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <g>\n      <g>\n        <rect x="68.73" y="12.93" width="63.54" height="72" style="fill: #fff"/>\n        <rect x="73.23" y="17.52" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n        <rect x="72.36" y="66.15" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="72.36" y="73.43" width="23.67" height="4.99" style="fill: #353535"/>\n        <path d="M94.24,47.59c-.7.45-1.28.14-1.28-.69V31.19c0-.83.58-1.14,1.28-.69l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n      </g>\n      <g>\n        <rect x="68.73" y="114.16" width="63.54" height="72" style="fill: #fff"/>\n        <rect x="73.23" y="118.76" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n        <rect x="72.36" y="167.38" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="72.36" y="174.66" width="23.67" height="4.99" style="fill: #353535"/>\n        <path d="M94.24,148.82c-.7.46-1.28.14-1.28-.69v-15.7c0-.84.58-1.15,1.28-.7l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n      </g>\n      <path d="M101.87,98.27h4.24v2.54h-4.24v4.33H99.11v-4.33H94.89V98.27h4.22V94h2.76Z" style="fill: #fff"/>\n    </g>\n  </g>\n</svg>\n          '},{key:"video_effects",summary:"video_effects_summary",show_instructions:!1,instructions:"video_effects_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <rect y="0.53" width="201" height="201" style="fill: none"/>\n    <g>\n      <g>\n        <rect x="107.44" y="30.53" width="63.54" height="72" style="fill: #fff"/>\n        <rect x="111.93" y="35.12" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.16121px"/>\n        <rect x="111.07" y="83.75" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="111.07" y="91.03" width="23.67" height="4.99" style="fill: #353535"/>\n        <path d="M132.94,65.19c-.7.45-1.27.14-1.27-.69V48.79c0-.83.57-1.14,1.27-.69l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n      </g>\n      <g>\n        <path d="M79.06,120.65,66.93,132.77,27.07,172.64l5.46,5.46,52-52Z"/>\n        <path d="M79.15,116.75a1.29,1.29,0,0,0,1.29-1.28v-9a1.29,1.29,0,0,0-2.58,0v9A1.29,1.29,0,0,0,79.15,116.75Z"/>\n        <path d="M79.15,134.8a1.29,1.29,0,0,0-1.29,1.29v9a1.29,1.29,0,1,0,2.58,0v-9A1.29,1.29,0,0,0,79.15,134.8Z"/>\n        <path d="M98.48,124.49h-9a1.29,1.29,0,0,0,0,2.58h9a1.29,1.29,0,0,0,0-2.58Z"/>\n        <path d="M59.81,127.07h9a1.29,1.29,0,0,0,0-2.58h-9a1.29,1.29,0,0,0,0,2.58Z"/>\n        <path d="M86.88,119.33a1.35,1.35,0,0,0,.92-.37l6.38-6.38a1.29,1.29,0,1,0-1.82-1.82L86,117.14a1.28,1.28,0,0,0,.9,2.19Z"/>\n        <path d="M87.8,132.59A1.29,1.29,0,0,0,86,134.41l6.38,6.38a1.26,1.26,0,0,0,.91.38,1.31,1.31,0,0,0,.92-.38,1.29,1.29,0,0,0,0-1.82Z"/>\n        <path d="M70.51,119a1.26,1.26,0,0,0,.92.37,1.34,1.34,0,0,0,.91-.37,1.27,1.27,0,0,0,0-1.82L66,110.76a1.28,1.28,0,0,0-1.81,1.82Z"/>\n      </g>\n    </g>\n    <rect x="23.93" y="153.7" width="52.51" height="2.57" transform="translate(-94.89 80.88) rotate(-45)" style="fill: #fff"/>\n    <rect x="68.62" y="128.62" width="13.29" height="2.57" transform="translate(-69.81 91.27) rotate(-45)" style="fill: #fff"/>\n    <rect width="201" height="201" style="fill: none"/>\n  </g>\n</svg>\n          '},{key:"stopmotion_animation",summary:"stopmotion_animation_summary",show_instructions:!1,instructions:"stopmotion_animation_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <g>\n      <g>\n        <g>\n          <g>\n            <rect x="25.5" y="9.92" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="29.04" y="13.24" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(46.15 33.42)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">1</text>\n        </g>\n        <g>\n          <g>\n            <rect x="75.5" y="9.92" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="79.04" y="13.24" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(96.15 33.42)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">2</text>\n        </g>\n        <g>\n          <g>\n            <rect x="125.5" y="9.92" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="129.04" y="13.24" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(146.15 33.42)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">3</text>\n        </g>\n      </g>\n      <g>\n        <g>\n          <g>\n            <rect x="25.5" y="77.48" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="29.04" y="80.81" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(46.15 100.99)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">5</text>\n        </g>\n        <g>\n          <g>\n            <rect x="75.5" y="77.48" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="79.04" y="80.81" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(96.15 100.99)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">6</text>\n        </g>\n        <g>\n          <g>\n            <rect x="125.5" y="77.48" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="129.04" y="80.81" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(146.15 100.99)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">7</text>\n        </g>\n      </g>\n      <g>\n        <g>\n          <g>\n            <rect x="25.5" y="145.05" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="29.04" y="148.38" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(46.15 168.55)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">9</text>\n        </g>\n        <g>\n          <g>\n            <rect x="75.5" y="145.05" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="79.04" y="148.38" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(91.81 168.55)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">10</text>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>\n          '},{key:"mix_audio_and_video",summary:"mix_audio_and_video_summary",show_instructions:!1,instructions:"mix_audio_and_video_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <g>\n      <g>\n        <rect x="68.88" y="30.28" width="63.54" height="72" style="fill: #fff"/>\n        <rect x="73.38" y="34.87" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n        <rect x="72.52" y="83.5" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="72.52" y="90.78" width="23.67" height="4.99" style="fill: #353535"/>\n        <path d="M94.39,64.94c-.7.45-1.28.14-1.28-.69V48.54c0-.83.58-1.14,1.28-.69l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n      </g>\n      <g>\n        <rect x="68.58" y="134.72" width="63.54" height="36" style="fill: #fff"/>\n        <rect x="72.21" y="153.34" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="72.21" y="160.62" width="23.67" height="4.99" style="fill: #353535"/>\n        <g>\n          <line x1="73.38" y1="143.52" x2="127.32" y2="143.52" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n          <g>\n            <path d="M94.69,151c-.28.18-.51.06-.51-.28V137c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: #353535"/>\n            <path d="M94.69,151c-.28.18-.51.06-.51-.28V137c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: none;stroke: #fff;stroke-miterlimit: 10;stroke-width: 2px"/>\n          </g>\n          <circle cx="74.38" cy="143.52" r="2.58" style="fill: #353535"/>\n          <circle cx="126.32" cy="143.52" r="2.58" style="fill: #353535"/>\n        </g>\n      </g>\n      <path d="M102,117.63h4.24v2.54H102v4.32H99.27v-4.32H95v-2.54h4.23V113.3H102Z" style="fill: #fff"/>\n    </g>\n  </g>\n</svg>\n          '},{key:"mix_audio_and_image",summary:"mix_audio_and_image_summary",show_instructions:!1,instructions:"mix_audio_and_image_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <g>\n      <g>\n        <rect x="68.88" y="30.28" width="63.54" height="62" style="fill: #fff"/>\n        <rect x="73.38" y="34.87" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.16121120286444px"/>\n      </g>\n      <g>\n        <rect x="68.58" y="124.72" width="63.54" height="36" style="fill: #fff"/>\n        <rect x="72.21" y="143.34" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="72.21" y="150.62" width="23.67" height="4.99" style="fill: #353535"/>\n        <g>\n          <line x1="73.38" y1="133.52" x2="127.32" y2="133.52" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.16121120286444px"/>\n          <g>\n            <path d="M94.69,141c-.28.18-.51.06-.51-.28V127c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: #353535"/>\n            <path d="M94.69,141c-.28.18-.51.06-.51-.28V127c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: none;stroke: #fff;stroke-miterlimit: 10;stroke-width: 2px"/>\n          </g>\n          <circle cx="74.38" cy="133.52" r="2.58" style="fill: #353535"/>\n          <circle cx="126.32" cy="133.52" r="2.58" style="fill: #353535"/>\n        </g>\n      </g>\n      <path d="M102,107.63h4.24v2.54H102v4.32H99.27v-4.32H95v-2.54h4.23V103.3H102Z" style="fill: #fff"/>\n    </g>\n  </g>\n</svg>\n          '}]},{key:"exhibition",label:"make_an_exhibition",recipes:[{key:"face_masks",summary:"face_masks_summary",show_instructions:!1,instructions:"face_masks_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <rect x="67" y="67" width="67" height="67" style="fill: #fff"/>\n</svg>\n              '},{key:"image_tracking",summary:"image_tracking_summary",show_instructions:!1,instructions:"image_tracking_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <rect x="67" y="67" width="67" height="67" style="fill: #fff"/>\n</svg>\n              '}]}]}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async createRemix(t){const e=(Math.random().toString(36)+"00000000000000000").slice(2,5),i=this.$t(t)+"-"+e,a={type:t,title:i,requested_slug:i},s=await this.$api.createFolder({path:`${this.project.$path}/remixes`,additional_meta:a});this.openRemix(s)},openRemix(t){this.$emit("update:opened_remix_slug",t)},removeRemix(t){}}},_t=ft,vt=(i(5657),(0,p.Z)(_t,U,J,!1,null,"6ddedba6",null)),gt=vt.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publierPane",class:{"is--editable":t.can_edit}},[t.publication_opened?i("PublicationOpen",{attrs:{project_path:t.project.$path,publication_slug:t.publication_opened,page_opened_id:t.page_opened_id,can_edit:t.can_edit},on:{togglePage:function(e){return t.$emit("update:page_opened_id",e)},close:function(e){t.$emit("update:publication_opened",!1),t.$emit("update:page_opened_id",!1)}}}):i("PublicationsList",{attrs:{project_path:t.project.$path,can_edit:t.can_edit},on:{togglePubli:function(e){return t.$emit("update:publication_opened",e)}}})],1)},xt=[],yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"_topBtn"},[i("h2",[t._v(t._s(t.$t("publications")))]),t.can_edit?i("button",{staticClass:"u-button u-button_bleuvert_fonce",attrs:{type:"button"},on:{click:function(e){t.show_create_publication=!0}}},[i("svg",{staticStyle:{"enable-background":"new 0 0 168 168"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 168 168","xml:space":"preserve"}},[i("polygon",{staticStyle:{fill:"white"},attrs:{points:"132.3,73.4 132.3,94.4 94.6,94.4 94.6,132.1 73.6,132.1 73.6,94.4 35.9,94.4 35.9,73.4 \n\t\t73.6,73.4 73.6,35.7 94.6,35.7 94.6,73.4 \t\t"}})]),t._v(" "+t._s(t.$t("create"))+" ")]):t._e()]),t.show_create_publication?i("CreatePublication",{attrs:{project_path:t.project_path},on:{close:function(e){t.show_create_publication=!1},openPubli:function(e){return t.$emit("togglePubli",e)}}}):t._e(),i("br"),i("div",{staticClass:"_publications"},[i("transition-group",{staticClass:"_publications--list",attrs:{tag:"div",name:"listComplete"}},t._l(t.sorted_publications,(function(e){return i("div",{key:e.$path},[i("PublicationPreview",{attrs:{publication:e,image_name:"publi_apercu.png"},on:{open:function(i){return t.openEntry(e.$path)}}})],1)})),0)],1)],1)},wt=[],kt=(i(2262),i(4506),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseModal2",{attrs:{title:t.$t("create_a_publication")},on:{close:function(e){return t.$emit("close")}}},[i("form",{staticClass:"input-validation-required",on:{submit:function(e){return e.preventDefault(),t.createPublication.apply(null,arguments)}}},[i("DLabel",{attrs:{str:t.$t("title")}}),i("TextInput",{attrs:{content:t.new_publication_title,maxlength:40,required:!0},on:{"update:content":function(e){t.new_publication_title=e},toggleValidity:function(e){return t.allow_save=e}}}),i("br"),i("div",{},[i("ToggleInput",{attrs:{content:t.new_publication_is_invisible,label:t.$t("invisible"),options:{true:t.$t("invisible_status_explanations_publis"),false:t.$t("visible_status_explanations_publis")}},on:{"update:content":function(e){t.new_publication_is_invisible=e}}})],1),i("br"),i("div",{staticClass:"_templates"},t._l(t.template_options,(function(e){return i("div",{key:e.key,staticClass:"_templates--item",class:{"is--active":t.new_publication_template===e.key}},[t._v(" "+t._s(t.$t(e.label))+" "),i("div",{domProps:{innerHTML:t._s(e.icon)}}),i("button",{staticClass:"u-button u-button_bleuvert_fonce",attrs:{type:"submit",name:"action",disabled:!0===e.disabled},on:{click:function(i){t.new_publication_template=e.key}}},[i("svg",{staticStyle:{"enable-background":"new 0 0 168 168"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 168 168","xml:space":"preserve"}},[i("polygon",{staticStyle:{fill:"white"},attrs:{points:"132.3,73.4 132.3,94.4 94.6,94.4 94.6,132.1 73.6,132.1 73.6,94.4 35.9,94.4 35.9,73.4 \n\t\t73.6,73.4 73.6,35.7 94.6,35.7 94.6,73.4 \t\t"}})]),i("span",[t._v(" "+t._s(t.$t("create"))+" ")])])])})),0),t.error_msg?[i("br"),i("br"),i("div",{staticClass:"u-errorMsg",domProps:{textContent:t._s(t.error_msg)}})]:t._e()],2)])}),$t=[],jt={props:{project_path:String},components:{},data(){return{new_publication_title:"",new_publication_is_invisible:!0,new_publication_template:"page_by_page",is_creating_publication:!1,allow_save:!1,template_options:[{key:"page_by_page",label:this.$t("page_by_page"),icon:'\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="201px"\n        \t height="201px" viewBox="0 0 201 201" style="overflow:visible;enable-background:new 0 0 201 201;" xml:space="preserve">\n          <g id="Calque_6" data-name="Calque 6">\n            <g>\n              <rect x="35.68" y="8.83" width="129.64" height="183.35" style="fill: #fff"/>\n              <rect x="46.15" y="31.82" width="39.07" height="27.55" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.0944702326735385px"/>\n              <rect x="118.95" y="68.62" width="35.9" height="53.44" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.9170289512680598px"/>\n              <rect x="46.15" y="68.62" width="63.37" height="53.44" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n              <rect x="73.36" y="136.54" width="54.27" height="4.99" style="fill: #353535"/>\n              <rect x="73.36" y="153.02" width="54.27" height="4.99" style="fill: #353535"/>\n              <rect x="73.36" y="144.78" width="54.27" height="4.99" style="fill: #353535"/>\n              <rect x="73.36" y="161.26" width="54.27" height="4.99" style="fill: #353535"/>\n              <line x1="46.15" y1="22.57" x2="154.85" y2="22.57" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.8953584524134504px"/>\n            </g>\n          </g>\n        </svg>\n                  '},{key:"story",label:this.$t("story"),icon:'\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="201px"\n        \t height="201px" viewBox="0 0 201 201" style="overflow:visible;enable-background:new 0 0 201 201;" xml:space="preserve">\n        \t<g id="Calque_6_2_">\n        \t\t<g>\n        \t\t\t<rect x="35.7" y="8.8" class="st1" width="129.6" height="183.4" style="fill: #fff;" />\n        \t\t</g>\n        \t</g>\n        \t<rect x="64.9" y="46.8" width="71.2" height="53.6" style="fill:none;stroke:#353535;stroke-width:1.917;stroke-miterlimit:10;" />\n        \t<rect x="64.9" y="145.2" width="71.2" height="39.8" style="fill:none;stroke:#353535;stroke-width:1.917;stroke-miterlimit:10;" />\n        \t<rect x="65" y="108" width="71.1" height="5" style="fill:#353535;" />\n        \t<rect x="65" y="124.5" class="st3" width="71.1" height="5"  style="fill:#353535;"/>\n        \t<rect x="65" y="116.2" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n        \t<rect x="65" y="132.7" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n        \t<rect x="64.9" y="25.9" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n        \t<rect x="64.9" y="17.6" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n        \t<rect x="64.9" y="34.1" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n        </svg>\n                  '},{key:"cartography",label:this.$t("cartography"),disabled:!0,icon:"\n                  "}],error_msg:""}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async createPublication(){this.is_creating_publication=!0;let t={title:this.new_publication_title,template:this.new_publication_template,requested_slug:this.new_publication_title,$status:!0===this.new_publication_is_invisible?"invisible":"draft",$authors:[this.$api.tokenpath.token_path]};"page_by_page"===this.new_publication_template&&(t.page_width=21,t.page_height=29.7,t.pages=[{id:"first_page"}]);try{const e=await this.$api.createFolder({path:`${this.project_path}/publications`,additional_meta:t});this.$emit("openPubli",e)}catch(e){this.error_msg="Error: "+e.message,setTimeout((()=>{this.error_msg=""}),5e3),this.is_creating_publication=!1}}}},Mt=jt,Ct=(i(1359),(0,p.Z)(Mt,kt,$t,!1,null,"7713165d",null)),Pt=Ct.exports,zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("sl-card",{staticClass:"u-card _publicationPreview",on:{click:function(e){return t.$emit("open")}}},[i("div",{staticClass:"u-instructions"},[t._v(" à venir : image d’aperçu prise directement sur le contenu de la publication, générée automatiquement ")]),i("br"),i("header",{},[i("h2",[t._v(" "+t._s(t.publication.title)+" ")]),t.publication.template?i("small",{domProps:{innerHTML:t._s(t.$t(t.publication.template))}}):t._e()]),i("div",{})])},St=[],It={props:{title:String,type:String,image_name:String,publication:Object},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async removePublication(){await this.$api.deleteItem({path:this.publication.$path})}}},Ot=It,Tt=(i(2888),(0,p.Z)(Ot,zt,St,!1,null,"5bc738cd",null)),Et=Tt.exports,Lt={props:{project_path:String,can_edit:Boolean},components:{CreatePublication:Pt,PublicationPreview:Et},data(){return{path:`${this.project_path}/publications`,show_create_publication:!1,publications:[]}},created(){},async mounted(){this.publications=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{sorted_publications(){const t=this.publications.slice();return t.sort(((t,e)=>+new Date(e.$date_created)-+new Date(t.$date_created)))}},methods:{openEntry(t){const e=t.split("/").at(-1);this.$emit("togglePubli",e)},closeEntry(){this.$emit("togglePubli",!1)}}},Dt=Lt,Rt=(i(9814),(0,p.Z)(Dt,yt,wt,!1,null,"b91ced66",null)),Bt=Rt.exports,Ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.publication?t.fetch_publication_error?i("div",[t._v(" "+t._s(t.fetch_publication_error)+" ")]):[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[i("sl-icon",{attrs:{name:"arrow-left-short"}}),t._v(" "+t._s(t.$t("back_to_publications"))+" ")],1),i("div",{staticClass:"_topbar"},[i("TitleField",{attrs:{label:t.$t("title"),field_name:"title",tag:"h2",content:t.publication.title,path:t.publication.$path,can_edit:t.can_edit_publication}}),t.can_edit_publication?i("div",{staticClass:"_buttonRow"},[i("div",{},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.exportPublication}},[i("sl-icon",{attrs:{name:"filetype-pdf"}}),t._v(" "+t._s(t.$t("export"))+" ")],1)]),i("div",{},[i("router-link",{staticClass:"u-buttonLink",attrs:{to:{path:"/"+t.publication.$path},target:"_blank"}},[i("sl-icon",{attrs:{name:"share"}}),t._v(" "+t._s(t.$t("share"))+" ")],1)],1),i("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:t.removePublication}})],1):t._e()],1),"story"===t.publication.template?i("StoryTemplate",{attrs:{publication:t.publication,can_edit:t.can_edit_publication}}):"page_by_page"===t.publication.template?i("PageTemplate",{attrs:{publication:t.publication,can_edit:t.can_edit_publication,page_opened_id:t.page_opened_id},on:{togglePage:function(e){return t.$emit("togglePage",e)},closePublication:function(e){return t.$emit("close")}}}):t._e()]:i("sl-spinner",{staticStyle:{"--indicator-color":"currentColor"}})],2)},Zt=[],Nt={props:{project_path:String,publication_slug:String,page_opened_id:String,can_edit:Boolean},components:{StoryTemplate:()=>Promise.resolve().then(i.bind(i,9849)),PageTemplate:()=>i.e(222).then(i.bind(i,9222))},data(){return{publication:null,fetch_publication_error:null}},created(){},async mounted(){await this.listPublication(),this.$eventHub.$on("folder.removed",this.closeOnRemove),this.$api.join({room:this.publication.$path})},beforeDestroy(){this.$eventHub.$off("folder.removed",this.closeOnRemove),this.$api.leave({room:this.publication.$path})},watch:{},computed:{can_edit_publication(){return this.can_edit}},methods:{async listPublication(){const t=await this.$api.getFolder({path:`${this.project_path}/publications/${this.publication_slug}`}).catch((t=>{this.fetch_publication_error=t.response}));this.publication=t},async exportPublication(){let t={recipe:"pdf",page_width:this.publication.page_width,page_height:this.publication.page_height};!0===this.publication.page_spreads&&(t.page_width*=2),await this.$api.exportFolder({path:this.publication.$path,instructions:t}),this.$alertify.delay(4e3).log(this.$t("compilation_started"))},closeOnRemove({path:t}){t===this.publication.$path&&(this.$alertify.closeLogOnClick(!0).delay(4e3).log(this.$t("notifications.publication_was_removed")),this.$emit("close"))},async removePublication(){this.fetch_status="pending",this.fetch_error=null;try{const t=await this.$api.deleteItem({path:this.publication.$path});this.response=t.data,this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}}}},At=Nt,Ht=(i(5822),(0,p.Z)(At,Ft,Zt,!1,null,"038f3528",null)),qt=Ht.exports,Vt={props:{project:Object,publication_opened:String,page_opened_id:String,can_edit:Boolean},components:{PublicationsList:Bt,PublicationOpen:qt},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},Gt=Vt,Wt=(i(1782),(0,p.Z)(Gt,bt,xt,!1,null,"3f49e43b",null)),Ut=Wt.exports,Jt={props:{projectpanes:Array,project:Object,can_edit_project:Boolean},components:{Splitpanes:T,Pane:Z,PublierPane:Ut,MediaLibrary:W.Z,RemixPane:gt,CapturePane:G},data(){return{show_instructions:!0}},created(){},mounted(){},beforeDestroy(){},watch:{panes_enabled(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(this.show_instructions=!0)}},computed:{panes_enabled(){return this.projectpanes.map((t=>t.type))}},methods:{scrollToPanes(){this.$el.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},setItem(t,e,i){Object.prototype.hasOwnProperty.call(t,e)&&t[e]===i||!i?this.$delete(t,e):this.$set(t,e,i)},closeInstructions(){this.show_instructions=!1,this.scrollToPanes()},resized(t){console.log("Project / methods: resized");let e=this.projectpanes.slice();e.map(((e,i)=>(e.size=Number(t[i].size.toFixed(1)),e))),this.$emit("update:projectpanes",e)}}},Yt=Jt,Xt=(i(4144),(0,p.Z)(Yt,m,f,!1,null,"cc4a9c42",null)),Kt=Xt.exports,Qt={props:{},components:{ProjectPresentation:n.Z,PaneList2:h,ProjectPanes:Kt},data(){return{fetch_project_error:null,project:null,display_as_public:!1,projectpanes:[]}},created(){},async mounted(){await this.listProject(),this.can_edit_project||(this.projectpanes=[{type:"publish",size:100}]),this.$eventHub.$emit("received.project",this.project),this.$eventHub.$on("folder.removed",this.closeOnRemove),this.$api.join({room:this.project.$path})},beforeDestroy(){this.$eventHub.$off("folder.removed",this.closeOnRemove),this.$api.leave({room:this.project.$path})},watch:{$route:{handler(){var t;let e=null===(t=this.$route.query)||void 0===t?void 0:t.projectpanes;e&&(this.projectpanes=JSON.parse(e))},immediate:!0},projectpanes:{handler(){this.updateQueryPanes()},deep:!0},display_as_public:{handler(){this.display_as_public&&(1!==this.projectpanes.length||this.projectpanes.some((t=>"publish"!==t.type)))&&(this.projectpanes=[{type:"publish",size:100}])}}},computed:{can_edit_project(){return this.canLoggedinEditProject({project_authors:this.project.$authors})}},methods:{async listProject(){const t=await this.$api.getFolder({path:this.$route.path}).catch((t=>{this.fetch_project_error=t.response,this.is_loading=!1}));this.project=t},updateQueryPanes(){let t={};if(this.projectpanes&&(t.projectpanes=JSON.stringify(this.projectpanes)),this.$route.query&&JSON.stringify(this.$route.query)===JSON.stringify(t))return!1;this.$router.push({query:t})},closeOnRemove({path:t}){t===this.project.$path&&(this.$alertify.closeLogOnClick(!0).delay(4e3).log(this.$t("notifications.project_was_removed")),this.$router.push("/projects"))}}},te=Qt,ee=(i(6397),(0,p.Z)(te,a,s,!1,null,"aa5cb0d2",null)),ie=ee.exports},2262:function(t,e,i){"use strict";var a=i(2109),s=i(7908),n=i(6244),o=i(9303),r=i(1223);a({target:"Array",proto:!0},{at:function(t){var e=s(this),i=n(e),a=o(t),r=a>=0?a:i+a;return r<0||r>=i?void 0:e[r]}}),r("at")},4506:function(t,e,i){"use strict";var a=i(2109),s=i(1702),n=i(4488),o=i(9303),r=i(1340),l=i(7293),c=s("".charAt),d=l((function(){return"\ud842"!=="𠮷".at(-2)}));a({target:"String",proto:!0,forced:d},{at:function(t){var e=r(n(this)),i=e.length,a=o(t),s=a>=0?a:i+a;return s<0||s>=i?void 0:c(e,s)}})},3552:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._projectCard[data-v-38fce0f1]{border:0;border-radius:0;box-shadow:none}",""]),e["default"]=r},5980:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._projetPanes[data-v-cc4a9c42]{position:relative}._projetPanes[data-v-cc4a9c42]  ._pane>*{min-height:calc(100vh - 44px)}._projetPanes.has--multiplePanes[data-v-cc4a9c42]  ._pane{height:calc(100vh - 44px);overflow:auto}._msg[data-v-cc4a9c42]{max-width:50ch;margin:0 auto}._floatingMsg[data-v-cc4a9c42],._msg[data-v-cc4a9c42]{text-align:center;padding:calc(var(--spacing)*2)}._floatingMsg[data-v-cc4a9c42]{position:absolute;left:0;top:0;width:100%;height:100%;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:1000;cursor:pointer}._floatingMsg>div[data-v-cc4a9c42]{position:relative;background:var(--color-type);background:#fff;max-width:54ch;padding:calc(var(--spacing)/2);margin:0 auto;border:2px solid var(--c-gris);border-radius:4px;pointer-events:auto;cursor:default}._floatingMsg sl-icon-button[data-v-cc4a9c42]{position:absolute;top:-1em;right:-1em;color:currentColor}._floatingMsg sl-icon-button[data-v-cc4a9c42]::part(base){color:currentColor}",""]),e["default"]=r},5002:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._project[data-v-1a6c4356],._projectInfos[data-v-1a6c4356]{position:relative}._projectInfos[data-v-1a6c4356]{display:flex;flex-flow:row nowrap;align-items:stretch;margin:0 auto;max-width:180ch;overflow:hidden;background:#fff;transition:all .4s cubic-bezier(.19,1,.22,1)}._projectInfos.is--linkToProject[data-v-1a6c4356]:hover{transform:translateY(-12px);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}._projectInfos.is--list[data-v-1a6c4356],._projectInfos.is--tiny[data-v-1a6c4356]{box-shadow:0 1px 4px rgba(0,0,0,.2);border-radius:4px}._projectInfos.is--list ._description[data-v-1a6c4356],._projectInfos.is--list ._title[data-v-1a6c4356],._projectInfos.is--tiny ._description[data-v-1a6c4356],._projectInfos.is--tiny ._title[data-v-1a6c4356]{font-size:90%}._projectInfos.is--list[data-v-1a6c4356]{display:block}._projectInfos.is--mobileView[data-v-1a6c4356]{flex-flow:row wrap}._projectInfos>*[data-v-1a6c4356]{flex:10 1 320px;transition:all .4s cubic-bezier(.19,1,.22,1)}._projectInfos>._projectInfos--meta[data-v-1a6c4356]{flex:1 0 260px}._projectInfos>._projectInfos--meta.is--hidden[data-v-1a6c4356]{flex:0 0 0;opacity:0}._projectInfos.is--mobileView ._projectInfos--meta[data-v-1a6c4356]{flex:0 0 100%}._projectInfos--infos[data-v-1a6c4356]{display:flex;flex-flow:column nowrap;place-content:center;gap:calc(var(--spacing)/1);padding:calc(var(--spacing)/1);transition:all .4s}.is--list ._projectInfos--infos[data-v-1a6c4356],.is--tiny ._projectInfos--infos[data-v-1a6c4356]{gap:calc(var(--spacing)/2);order:0;padding-top:0;pointer-events:none}.is--list ._projectInfos--infos ._showDescription[data-v-1a6c4356],.is--tiny ._projectInfos--infos ._showDescription[data-v-1a6c4356]{pointer-events:auto}._projectInfos--infos>*[data-v-1a6c4356]{max-width:56ch}._imageSelect[data-v-1a6c4356]{background:#fff;position:relative}._projectInfos--cover[data-v-1a6c4356]{position:relative;aspect-ratio:1/1;width:40vh;height:40vh;flex:0 0 40vh}@supports not (aspect-ratio:1/1){._projectInfos--cover[data-v-1a6c4356]{width:500px;height:500px}}.is--list ._projectInfos--cover[data-v-1a6c4356]{width:100%;height:auto}.is--mobileView ._projectInfos--cover[data-v-1a6c4356]{flex:1 1 auto;max-height:40vh;max-width:40vh;height:auto}._projectInfos--cover ._projectInfos--cover--content[data-v-1a6c4356]{position:absolute;inset:0;margin:calc(var(--spacing)*1);overflow:hidden;border-radius:6px;--color1:var(--c-gris);--color2:var(--c-gris_clair)}._projectInfos--cover ._projectInfos--cover--content.is--empty[data-v-1a6c4356]{background:radial-gradient(circle,transparent 20%,var(--color1) 20%,var(--color1) 80%,transparent 80%,transparent),radial-gradient(circle,transparent 20%,var(--color1) 20%,var(--color1) 80%,transparent 80%,transparent) 15px 15px,linear-gradient(var(--color2) 1.2px,transparent 1.2px) 0 -.6px,linear-gradient(90deg,var(--color2) 1.2px,var(--color1) 1.2px) -.6px 0;background-size:30px 30px,30px 30px,15px 15px,15px 15px}._projectInfos--cover img[data-v-1a6c4356]{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}._projectInfos--cover[data-v-1a6c4356]  ._noImage{position:absolute;z-index:-1;width:100%;height:100%;background-color:var(--c-gris_fonce)}._projectInfos--meta[data-v-1a6c4356]{display:flex;flex-flow:column nowrap;font-size:90%;overflow-x:hidden;overflow-y:auto;background:var(--c-gris_clair);gap:calc(var(--spacing)/2);padding:calc(var(--spacing)/2) calc(var(--spacing)/2);height:40vh}._projectInfos--meta[data-v-1a6c4356]::-webkit-scrollbar{height:18px;width:18px;background-color:transparent}._projectInfos--meta[data-v-1a6c4356]::-webkit-scrollbar-thumb,._projectInfos--meta[data-v-1a6c4356]::-webkit-scrollbar-track{border:6px solid hsla(0,0%,100%,0);border-radius:24px;background-clip:padding-box;-webkit-transition:all .4s;transition:all .4s}._projectInfos--meta[data-v-1a6c4356]::-webkit-scrollbar-track{background-color:transparent}._projectInfos--meta[data-v-1a6c4356]::-webkit-scrollbar-thumb{background-color:var(--c-noir)}._projectInfos--meta[data-v-1a6c4356]::-webkit-scrollbar-thumb:hover{background-color:var(--c-gris);border:6px solid hsla(0,0%,100%,0)}.is--mobileView ._projectInfos--meta[data-v-1a6c4356]{flex-flow:row nowrap;max-height:none;overflow-x:auto;overflow-y:hidden;height:auto}._projectInfos--meta>*[data-v-1a6c4356]{flex:0 0 auto;min-width:220px;background:#fff;box-shadow:0 1px 6px var(--c-gris);border-radius:8px}.is--mobileView ._projectInfos--meta>*[data-v-1a6c4356]{flex:1 0 220px}._projectInfos--open[data-v-1a6c4356]{display:flex;justify-content:center}._projectInfos--open ._clickZone[data-v-1a6c4356]{position:absolute;top:0;left:0;width:100%;height:100%}._projectInfos--open ._openBtn[data-v-1a6c4356]{text-decoration:underline;position:relative;margin:calc(var(--spacing)/2);transition:all .25s cubic-bezier(.19,1,.22,1)}._projectInfos--open ._openBtn[data-v-1a6c4356]:focus,._projectInfos--open ._openBtn[data-v-1a6c4356]:hover{transform:translateY(-4px) rotate(-2deg);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}._coverPicker[data-v-1a6c4356]{bottom:0;padding:calc(var(--spacing)/1)}._coverPicker[data-v-1a6c4356],._showMeta[data-v-1a6c4356]{position:absolute;right:0}._showMeta[data-v-1a6c4356]{top:0;z-index:100;background:#fff;margin:calc(var(--spacing)/4)}._showDescription[data-v-1a6c4356]{position:relative;z-index:100;padding:0;text-align:left}",""]),e["default"]=r},2479:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._paneList{position:sticky;top:0;overflow:visible;z-index:100;width:100%;min-height:44px;padding:calc(var(--spacing)/4) 0;padding:0;margin:0 auto;background-color:#fff;border-top:1px solid var(--c-gris);background:var(--panel-color);box-shadow:var(--panel-shadows)}._paneList.has--noPanes{border-bottom:1px solid var(--c-gris)}._paneList2{display:flex;flex-flow:row nowrap;align-items:center;overflow:hidden}._paneList2>*{flex:1 1 0}._paneList2>._projectPanes{flex:0 0 auto}._paneList.is--mobile ._paneList2>._projectPanes{flex:1 0 auto}._paneList--list{display:flex;flex-flow:row wrap;justify-content:center;gap:calc(var(--spacing)/4);white-space:nowrap;height:auto;overflow:auto}._paneList--list>*{flex:0 0 0;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:all .2s cubic-bezier(.19,1,.22,1)}._paneItem,._paneList--list>*{display:flex;align-items:center}._paneItem{flex-flow:row nowrap;padding:calc(var(--spacing)/4);border-radius:44px;text-decoration:none;text-transform:uppercase;font-weight:500;letter-spacing:.03em;color:var(--color-active)}._paneItem.is--enabled{color:#fff;background-color:var(--color-active)}._paneItem sl-icon-button::part(base){color:currentColor}._inlineBtn{position:relative;display:block;border-radius:50%}._addPaneBtn:focus,._addPaneBtn:hover{background:var(--color-active);color:#fff}._removePaneBtn:focus,._removePaneBtn:hover{background:#fff;color:var(--color-active)}._btn{display:flex;justify-content:center;align-items:center;gap:calc(var(--spacing)/2);transition:all .2s cubic-bezier(.19,1,.22,1);cursor:pointer;width:100%;height:100%}._icon{width:2rem;height:2rem}._projectTitle{display:flex;justify-content:flex-start;align-items:center;gap:calc(var(--spacing)/2);padding:0;margin:calc(var(--spacing)/2) calc(var(--spacing)/2);font-weight:700;opacity:0;transform:translateY(-100%);transition:.25s cubic-bezier(.19,1,.22,1)}._projectTitle.is--shown{opacity:1;transform:translateY(0)}._projectTitle img{width:2rem;height:2rem;-o-object-fit:cover;object-fit:cover}._projectTitle span{min-height:2rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:flex;align-items:center}",""]),e["default"]=r},9710:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._capturePane[data-v-4cb07ab4]{height:100%;overflow:auto}",""]),e["default"]=r},8660:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._publierPane[data-v-3f49e43b]{padding:calc(var(--spacing)*1);background:#fff;background:var(--c-bodybg)}._publierPane.is--editable[data-v-3f49e43b]{background:var(--color-publish)}",""]),e["default"]=r},502:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._remixPane[data-v-6ddedba6]{background:var(--color-remix);height:100%;overflow:auto;padding:calc(var(--spacing)*1);--active-color:var(--c-bleumarine)}.m_recipes--type[data-v-6ddedba6]{margin-bottom:calc(var(--spacing)*2)}.m_recipes--type--grid[data-v-6ddedba6]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-auto-rows:-webkit-max-content;grid-auto-rows:max-content;grid-gap:calc(var(--spacing)/2);align-items:stretch}.m_recipe[data-v-6ddedba6]{border-radius:8px;background:#fff;padding:calc(var(--spacing)/2);border-radius:var(--button-radius)}.m_recipe--icon[data-v-6ddedba6]{border-radius:4px;background:var(--c-bleumarine);flex:0 1 160px;min-width:120px;margin:0;padding:0}.m_recipe--icon[data-v-6ddedba6]  svg{width:100%;max-width:160px;margin:0 auto}.m_recipe--text[data-v-6ddedba6]{flex-basis:50%;max-width:44ch;padding:0;color:#000}.m_recipe--text h2[data-v-6ddedba6]{font-family:Fira Code;margin:0}.m_recipe--text p[data-v-6ddedba6]{line-height:1.4}.m_recipe--text hr[data-v-6ddedba6]{border:none;border-top:2px solid #000;width:1em}.m_recipe--buttons[data-v-6ddedba6]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center}.u-buttonLink.is--active[data-v-6ddedba6]{color:var(--c-bleumarine)}",""]),e["default"]=r},4535:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._templates[data-v-7713165d]{display:grid;grid-auto-rows:-webkit-max-content;grid-auto-rows:max-content;grid-gap:calc(var(--spacing)/4);align-items:stretch;grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}._templates--item[data-v-7713165d]{display:flex;flex-flow:column nowrap;justify-content:space-between;text-align:center;align-items:center;background:var(--c-bleuvert);border-radius:4px;padding:calc(var(--spacing)/2)}._templates--item.is--active[data-v-7713165d]{border:2px solid #fff;outline:2px solid var(--c-bleuvert_fonce)}._label[data-v-7713165d]  label{color:#000!important}",""]),e["default"]=r},6821:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._mediaPicker[data-v-56e5056c]{width:100%;margin:0 auto}._addMediaBtn[data-v-56e5056c]{text-align:center;padding:calc(var(--spacing)*1)}",""]),e["default"]=r},4753:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._topbar[data-v-038f3528]{display:flex;align-items:center;width:100%;background:#fff;padding:calc(var(--spacing)/1) calc(var(--spacing)*1);margin:calc(var(--spacing)/1) auto;box-shadow:0 1px 4px rgba(0,0,0,.1)}._buttonRow[data-v-038f3528]{display:flex;justify-content:flex-end;gap:calc(var(--spacing)/2)}",""]),e["default"]=r},7394:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._publicationPreview[data-v-5bc738cd]{cursor:pointer}",""]),e["default"]=r},4118:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._publications--list[data-v-b91ced66]{display:grid;grid-auto-rows:-webkit-max-content;grid-auto-rows:max-content;grid-gap:calc(var(--spacing)*2);align-items:flex-start;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}",""]),e["default"]=r},8069:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._moduleCreator[data-v-390b0a22]{position:relative;display:flex;justify-content:flex-start;align-items:center;width:100%;pointer-events:none;color:var(--c-bleuvert);border-radius:1rem;--icon-size:1.2rem}._moduleCreator>*[data-v-390b0a22]{pointer-events:auto}._typePicker[data-v-390b0a22]{display:flex;flex-flow:row wrap;justify-content:flex-start;gap:calc(var(--spacing)/4)}._dropNotice[data-v-390b0a22]{pointer-events:none}sl-icon-button[data-v-390b0a22]::part(base){font-size:1.5em;color:var(--c-bleuvert)}._showModuleSelector[data-v-390b0a22]{position:absolute;right:100%;transition:all .4s cubic-bezier(.19,1,.22,1)}._sideBtns[data-v-390b0a22]{--side-width:24px;display:block;width:var(--side-width);height:var(--side-width);padding:0;border-radius:calc(var(--side-width)/2);background:transparent;color:var(--c-noir)}._sideBtns[data-v-390b0a22]:focus,._sideBtns[data-v-390b0a22]:hover{background:rgba(0,0,0,.1)}",""]),e["default"]=r},7675:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._moduleMosaic[data-v-b1312cde]{--number_of_medias:1;position:relative}._mediaGrid[data-v-b1312cde]{position:relative;width:100%}._moduleMosaic.is--multipleMedias ._mediaGrid[data-v-b1312cde]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/4);transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid>._mediaGrid--item[data-v-b1312cde]{position:relative;transition:flex .25s cubic-bezier(.19,1,.22,1)}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-b1312cde]{aspect-ratio:1/1;overflow:hidden;background:var(--c-gris_clair);flex:1 1 calc(100%/var(--number_of_medias))}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-b1312cde]  ._mediaContent{width:100%;height:100%}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-b1312cde]  ._mediaContent ._mediaContent--image,._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-b1312cde]  ._mediaContent .plyr--video{position:absolute;height:100%;width:100%;-o-object-fit:cover;object-fit:cover;-o-object-fit:var(--object-fit);object-fit:var(--object-fit)}._mediaPickerTile[data-v-b1312cde]{position:absolute;top:0;left:auto;right:0;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-b1312cde]{pointer-events:auto}._btnRow[data-v-b1312cde]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2)}._btnRow button[data-v-b1312cde]{border-radius:4px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8)}._dropzone[data-v-b1312cde]{position:absolute;width:100%;height:100%}._dropzone[data-v-b1312cde]  ._dropNotice{transform:rotate(-90deg)}sl-icon-button[data-v-b1312cde]::part(base){font-size:1.5em;color:var(--c-bleuvert)}",""]),e["default"]=r},4317:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._publicationModule[data-v-003e3905]{position:relative;padding:0 calc(var(--spacing)*1)}._publicationModule.is--shape ._content[data-v-003e3905],._publicationModule.is--shape svg[data-v-003e3905]{overflow:visible;stroke-linejoin:bevel;stroke-linecap:round}._publicationModule.is--shape svg[data-v-003e3905]{width:100%;height:100%}._publicationModule ._content[data-v-003e3905]{width:calc(var(--module-width)*1%);margin-left:calc(var(--module-margin-left)*1%);transition:all .4s cubic-bezier(.19,1,.22,1)}._sideOptions[data-v-003e3905]{position:absolute;top:0;height:100%;right:100%;background:var(--active-color);pointer-events:none;display:flex;flex-flow:column nowrap;justify-content:space-between;--side-width:24px;width:var(--side-width);border-radius:calc(var(--side-width)/2)}._sideOptions.is--pageByPage[data-v-003e3905]{display:none}._sideOptions>*[data-v-003e3905]{pointer-events:auto}._sideBtns[data-v-003e3905]{display:block;width:var(--side-width);height:var(--side-width);padding:0;border-radius:calc(var(--side-width)/2);background:transparent}._sideBtns[data-v-003e3905]:focus,._sideBtns[data-v-003e3905]:hover{background:rgba(0,0,0,.1)}._advanced_menu[data-v-003e3905]{position:absolute;z-index:10;left:100%;top:50%;transform:translateY(-50%);background:#fff;background:var(--active-color);flex-flow:column nowrap}._advanced_menu[data-v-003e3905],._menu[data-v-003e3905]{padding:calc(var(--spacing)/2);display:flex;gap:calc(var(--spacing)/4)}._menu[data-v-003e3905]{width:100%;justify-content:flex-end}._menu.is--overlaid[data-v-003e3905]{position:absolute;top:0;right:0;z-index:10}._options[data-v-003e3905]{position:relative}._buttonRow[data-v-003e3905]{display:flex;gap:calc(var(--spacing)/4)}",""]),e["default"]=r},297:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._storyTemplate[data-v-b32070e6]{display:flex;justify-content:center;flex-flow:column nowrap;align-items:center;background:#fff;margin:0 auto calc(var(--spacing)*8);padding:calc(var(--spacing)/1) 0;max-width:800px}._mediasList[data-v-b32070e6]{width:100%}._mediaPublication[data-v-b32070e6]{position:relative;margin-bottom:0}._mediaPublication[data-v-b32070e6]  ._content{min-height:72px}._mediaPublication[data-v-b32070e6]  ._floatingEditBtn[data-action=disable]{display:none}._spacer[data-v-b32070e6]{min-height:3rem;display:flex;align-items:center;justify-content:center;padding:calc(var(--spacing)/4) 0}",""]),e["default"]=r},2198:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._remix[data-v-6c1f90c0]{background:#fff;margin:calc(var(--spacing)*1) auto;max-width:600px;padding:calc(var(--spacing)*1)}",""]),e["default"]=r},141:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._remixesList[data-v-08dce477]{max-width:800px;margin:0 auto}._remixes--item[data-v-08dce477]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;background:#fff;margin-bottom:2px;padding:calc(var(--spacing)*1);gap:calc(var(--spacing)*1)}",""]),e["default"]=r},1081:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._videoAssemblage[data-v-a0914422]{padding:calc(var(--spacing)*1)}",""]),e["default"]=r},53:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(3645),o=i.n(n),r=o()(s());r.push([t.id,"._projectView[data-v-aa5cb0d2]{position:relative;min-height:calc(100vh - 60px)}._projectPanesAndList[data-v-aa5cb0d2]{position:relative;display:flex;flex-flow:column nowrap}._projectPanesAndList ._paneList[data-v-aa5cb0d2]{flex:0 0 auto}._projectPanesAndList ._panes[data-v-aa5cb0d2]{flex:1 1 auto}.avatar-group sl-avatar[data-v-aa5cb0d2]:not(:first-of-type){margin-left:-1rem}.avatar-group sl-avatar[data-v-aa5cb0d2]::part(base){border:solid 2px var(--sl-color-neutral-0)}._topContent[data-v-aa5cb0d2]{position:relative;background:#fff}._tabButton[data-v-aa5cb0d2]{text-align:center;background:var(--c-gris);padding:calc(var(--spacing)/2)}._tabButton>*[data-v-aa5cb0d2]{background:#fff;border-radius:4px}._displayAsPublic[data-v-aa5cb0d2]{position:absolute;height:100%;width:100%;z-index:1000;display:flex;justify-content:center;align-items:flex-start;pointer-events:none}._displayAsPublic ._sticky[data-v-aa5cb0d2]{position:sticky;top:0;left:0;padding:calc(var(--spacing)/1)}._displayAsPublic ._content[data-v-aa5cb0d2]{pointer-events:auto;background:var(--c-bleuvert);border:2px solid var(--c-bleuvert_fonce);border-radius:8px;color:#fff}._displayAsPublic ._content>*[data-v-aa5cb0d2]{padding:calc(var(--spacing)/8) calc(var(--spacing)/4)}._displayAsPublic ._content[data-v-aa5cb0d2]  .u-label{color:#fff}",""]),e["default"]=r},4244:function(t,e,i){i(1703),i(7658),i(4916),function(t,i){i(e)}(0,(function(t){"use strict";var e={inject:["manager"],props:{index:{type:Number,required:!0},collection:{type:[String,Number],default:"default"},disabled:{type:Boolean,default:!1}},mounted:function(){var t=this.$props,e=t.collection,i=t.disabled,a=t.index;i||this.setDraggable(e,a)},watch:{index:function(t){this.$el&&this.$el.sortableInfo&&(this.$el.sortableInfo.index=t)},disabled:function(t){t?this.removeDraggable(this.collection):this.setDraggable(this.collection,this.index)},collection:function(t,e){this.removeDraggable(e),this.setDraggable(t,this.index)}},beforeDestroy:function(){var t=this.collection,e=this.disabled;e||this.removeDraggable(t)},methods:{setDraggable:function(t,e){var i=this.$el;i.sortableInfo={index:e,collection:t,manager:this.manager},this.ref={node:i},this.manager.add(t,this.ref)},removeDraggable:function(t){this.manager.remove(t,this.ref)}}},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),s=function(){function t(t,e){var i=[],a=!0,s=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done);a=!0)if(i.push(o.value),e&&i.length===e)break}catch(l){s=!0,n=l}finally{try{!a&&r["return"]&&r["return"]()}finally{if(s)throw n}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},o=function(){function t(){i(this,t),this.refs={}}return a(t,[{key:"add",value:function(t,e){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(e)}},{key:"remove",value:function(t,e){var i=this.getIndex(t,e);-1!==i&&this.refs[t].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find((function(e){var i=e.node;return i.sortableInfo.index==t.active.index}))}},{key:"getIndex",value:function(t,e){return this.refs[t].indexOf(e)}},{key:"getOrderedRefs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[t].sort((function(t,e){return t.node.sortableInfo.index-e.node.sortableInfo.index}))}}]),t}();function r(t,e,i){var a=t.slice(0);if(i>=a.length){var s=i-a.length;while(1+s--)a.push(void 0)}return a.splice(i,0,a.splice(e,1)[0]),a}var l={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},c=function(){if("undefined"===typeof window||"undefined"===typeof document)return"";var t=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];switch(e){case"ms":return"ms";default:return e&&e.length?e[0].toUpperCase()+e.substr(1):""}}();function d(t,e){while(t){if(e(t))return t;t=t.parentNode}}function p(t,e,i){return i<t?t:i>e?e:i}function u(t){return"px"===t.substr(-2)?parseFloat(t):0}function h(t){var e=window.getComputedStyle(t);return{top:u(e.marginTop),right:u(e.marginRight),bottom:u(e.marginBottom),left:u(e.marginLeft)}}var m={data:function(){return{sorting:!1,sortingIndex:null,manager:new o,events:{start:this.handleStart,move:this.handleMove,end:this.handleEnd}}},props:{value:{type:Array,required:!0},axis:{type:String,default:"y"},distance:{type:Number,default:0},pressDelay:{type:Number,default:0},pressThreshold:{type:Number,default:5},useDragHandle:{type:Boolean,default:!1},useWindowAsScrollContainer:{type:Boolean,default:!1},hideSortableGhost:{type:Boolean,default:!0},lockToContainerEdges:{type:Boolean,default:!1},lockOffset:{type:[String,Number,Array],default:"50%"},transitionDuration:{type:Number,default:300},appendTo:{type:String,default:"body"},draggedSettlingDuration:{type:Number,default:null},lockAxis:String,helperClass:String,contentWindow:Object,shouldCancelStart:{type:Function,default:function(t){var e=["input","textarea","select","option","button"];return-1!==e.indexOf(t.target.tagName.toLowerCase())}},getHelperDimensions:{type:Function,default:function(t){var e=t.node;return{width:e.offsetWidth,height:e.offsetHeight}}}},provide:function(){return{manager:this.manager}},mounted:function(){var t=this;this.container=this.$el,this.document=this.container.ownerDocument||document,this._window=this.contentWindow||window,this.scrollContainer=this.useWindowAsScrollContainer?this.document.body:this.container;var e=function(e){t.events.hasOwnProperty(e)&&l[e].forEach((function(i){return t.container.addEventListener(i,t.events[e],{passive:!0})}))};for(var i in this.events)e(i)},beforeDestroy:function(){var t=this,e=function(e){t.events.hasOwnProperty(e)&&l[e].forEach((function(i){return t.container.removeEventListener(i,t.events[e])}))};for(var i in this.events)e(i)},methods:{handleStart:function(t){var e=this,i=this.$props,a=i.distance,s=i.shouldCancelStart;if(2===t.button||s(t))return!1;this._touched=!0,this._pos=this.getOffset(t);var n=d(t.target,(function(t){return null!=t.sortableInfo}));if(n&&n.sortableInfo&&this.nodeIsChild(n)&&!this.sorting){var o=this.$props.useDragHandle,r=n.sortableInfo,l=r.index,c=r.collection;if(o&&!d(t.target,(function(t){return null!=t.sortableHandle})))return;this.manager.active={index:l,collection:c},"a"===t.target.tagName.toLowerCase()&&t.preventDefault(),a||(0===this.$props.pressDelay?this.handlePress(t):this.pressTimer=setTimeout((function(){return e.handlePress(t)}),this.$props.pressDelay))}},nodeIsChild:function(t){return t.sortableInfo.manager===this.manager},handleMove:function(t){var e=this.$props,i=e.distance,a=e.pressThreshold;if(!this.sorting&&this._touched){var s=this.getOffset(t);this._delta={x:this._pos.x-s.x,y:this._pos.y-s.y};var n=Math.abs(this._delta.x)+Math.abs(this._delta.y);i||a&&!(a&&n>=a)?i&&n>=i&&this.manager.isActive()&&this.handlePress(t):(clearTimeout(this.cancelTimer),this.cancelTimer=setTimeout(this.cancel,0))}},handleEnd:function(){var t=this.$props.distance;this._touched=!1,t||this.cancel()},cancel:function(){this.sorting||(clearTimeout(this.pressTimer),this.manager.active=null)},handlePress:function(t){var e=this;t.stopPropagation();var i=this.manager.getActive();if(i){var a=this.$props,s=a.axis,o=a.getHelperDimensions,r=a.helperClass,c=a.hideSortableGhost,d=a.useWindowAsScrollContainer,p=a.appendTo,u=i.node,m=i.collection,f=u.sortableInfo.index,_=h(u),v=this.container.getBoundingClientRect(),g=o({index:f,node:u,collection:m});this.node=u,this.margin=_,this.width=g.width,this.height=g.height,this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this.boundingClientRect=u.getBoundingClientRect(),this.containerBoundingRect=v,this.index=f,this.newIndex=f,this._axis={x:s.indexOf("x")>=0,y:s.indexOf("y")>=0},this.offsetEdge=this.getEdgeOffset(u),this.initialOffset=this.getOffset(t),this.initialScroll={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var b,x=u.querySelectorAll("input, textarea, select"),y=u.cloneNode(!0),w=[].concat(n(y.querySelectorAll("input, textarea, select")));if(w.forEach((function(t,e){"file"!==t.type&&x[e]&&(t.value=x[e].value)})),this.helper=this.document.querySelector(p).appendChild(y),this.helper.style.position="fixed",this.helper.style.top=this.boundingClientRect.top-_.top+"px",this.helper.style.left=this.boundingClientRect.left-_.left+"px",this.helper.style.width=this.width+"px",this.helper.style.height=this.height+"px",this.helper.style.boxSizing="border-box",this.helper.style.pointerEvents="none",c&&(this.sortableGhost=u,u.style.visibility="hidden",u.style.opacity=0),this.translate={},this.minTranslate={},this.maxTranslate={},this._axis.x&&(this.minTranslate.x=(d?0:v.left)-this.boundingClientRect.left-this.width/2,this.maxTranslate.x=(d?this._window.innerWidth:v.left+v.width)-this.boundingClientRect.left-this.width/2),this._axis.y&&(this.minTranslate.y=(d?0:v.top)-this.boundingClientRect.top-this.height/2,this.maxTranslate.y=(d?this._window.innerHeight:v.top+v.height)-this.boundingClientRect.top-this.height/2),r)(b=this.helper.classList).add.apply(b,n(r.split(" ")));this.listenerNode=t.touches?u:this._window,l.move.forEach((function(t){return e.listenerNode.addEventListener(t,e.handleSortMove,!1)})),l.end.forEach((function(t){return e.listenerNode.addEventListener(t,e.handleSortEnd,!1)})),this.sorting=!0,this.sortingIndex=f,this.$emit("sort-start",{event:t,node:u,index:f,collection:m})}},handleSortMove:function(t){t.preventDefault(),this.updatePosition(t),this.animateNodes(),this.autoscroll(),this.$emit("sort-move",{event:t})},handleSortEnd:function(t){var e=this,i=this.manager.active.collection;this.listenerNode&&(l.move.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortMove)})),l.end.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortEnd)})));var a=this.manager.refs[i],s=function(){e.helper.parentNode.removeChild(e.helper),e.hideSortableGhost&&e.sortableGhost&&(e.sortableGhost.style.visibility="",e.sortableGhost.style.opacity="");for(var s=0,n=a.length;s<n;s++){var o=a[s],l=o.node;o.edgeOffset=null,l.style[c+"Transform"]="",l.style[c+"TransitionDuration"]=""}clearInterval(e.autoscrollInterval),e.autoscrollInterval=null,e.manager.active=null,e.sorting=!1,e.sortingIndex=null,e.$emit("sort-end",{event:t,oldIndex:e.index,newIndex:e.newIndex,collection:i}),e.$emit("input",r(e.value,e.index,e.newIndex)),e._touched=!1};this.$props.transitionDuration||this.$props.draggedSettlingDuration?this.transitionHelperIntoPlace(a).then((function(){return s()})):s()},transitionHelperIntoPlace:function(t){var e=this;if(0===this.$props.draggedSettlingDuration||0===t.length)return Promise.resolve();var i={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},a=t[this.index].node,s=t[this.newIndex].node,n=-i.left;this.translate&&this.translate.x>0?n+=s.offsetLeft+s.offsetWidth-(a.offsetLeft+a.offsetWidth):n+=s.offsetLeft-a.offsetLeft;var o=-i.top;this.translate&&this.translate.y>0?o+=s.offsetTop+s.offsetHeight-(a.offsetTop+a.offsetHeight):o+=s.offsetTop-a.offsetTop;var r=null!==this.$props.draggedSettlingDuration?this.$props.draggedSettlingDuration:this.$props.transitionDuration;return this.helper.style[c+"Transform"]="translate3d("+n+"px,"+o+"px, 0)",this.helper.style[c+"TransitionDuration"]=r+"ms",new Promise((function(t){var i=function(i){i&&"transform"!==i.propertyName||(clearTimeout(a),e.helper.style[c+"Transform"]="",e.helper.style[c+"TransitionDuration"]="",t())},a=setTimeout(i,r+10);e.helper.addEventListener("transitionend",i,!1)}))},getEdgeOffset:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(t){var i={top:e.top+t.offsetTop,left:e.left+t.offsetLeft};return t.parentNode!==this.container?this.getEdgeOffset(t.parentNode,i):i}},getOffset:function(t){var e=t.touches?t.touches[0]:t,i=e.pageX,a=e.pageY;return{x:i,y:a}},getLockPixelOffsets:function(){var t=this.$props.lockOffset;if(Array.isArray(this.lockOffset)||(t=[t,t]),2!==t.length)throw new Error("lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given "+t);var e=t,i=s(e,2),a=i[0],n=i[1];return[this.getLockPixelOffset(a),this.getLockPixelOffset(n)]},getLockPixelOffset:function(t){var e=t,i=t,a="px";if("string"===typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);if(null===s)throw new Error('lockOffset value should be a number or a string of a number followed by "px" or "%". Given '+t);e=i=parseFloat(t),a=s[1]}if(!isFinite(e)||!isFinite(i))throw new Error("lockOffset value should be a finite. Given "+t);return"%"===a&&(e=e*this.width/100,i=i*this.height/100),{x:e,y:i}},updatePosition:function(t){var e=this.$props,i=e.lockAxis,a=e.lockToContainerEdges,n=this.getOffset(t),o={x:n.x-this.initialOffset.x,y:n.y-this.initialOffset.y};if(o.y-=window.pageYOffset-this.initialWindowScroll.top,o.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=o,a){var r=this.getLockPixelOffsets(),l=s(r,2),d=l[0],u=l[1],h={x:this.width/2-d.x,y:this.height/2-d.y},m={x:this.width/2-u.x,y:this.height/2-u.y};o.x=p(this.minTranslate.x+h.x,this.maxTranslate.x-m.x,o.x),o.y=p(this.minTranslate.y+h.y,this.maxTranslate.y-m.y,o.y)}"x"===i?o.y=0:"y"===i&&(o.x=0),this.helper.style[c+"Transform"]="translate3d("+o.x+"px,"+o.y+"px, 0)"},animateNodes:function(){var t=this.$props,e=t.transitionDuration,i=t.hideSortableGhost,a=this.manager.getOrderedRefs(),s={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},n={left:this.offsetEdge.left+this.translate.x+s.left,top:this.offsetEdge.top+this.translate.y+s.top},o={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(var r=0,l=a.length;r<l;r++){var d=a[r].node,p=d.sortableInfo.index,u=d.offsetWidth,h=d.offsetHeight,m={width:this.width>u?u/2:this.width/2,height:this.height>h?h/2:this.height/2},f={x:0,y:0},_=a[r].edgeOffset;_||(a[r].edgeOffset=_=this.getEdgeOffset(d));var v=r<a.length-1&&a[r+1],g=r>0&&a[r-1];v&&!v.edgeOffset&&(v.edgeOffset=this.getEdgeOffset(v.node)),p!==this.index?(e&&(d.style[c+"TransitionDuration"]=e+"ms"),this._axis.x?this._axis.y?p<this.index&&(n.left+o.left-m.width<=_.left&&n.top+o.top<=_.top+m.height||n.top+o.top+m.height<=_.top)?(f.x=this.width+this.marginOffset.x,_.left+f.x>this.containerBoundingRect.width-m.width&&(f.x=v.edgeOffset.left-_.left,f.y=v.edgeOffset.top-_.top),null===this.newIndex&&(this.newIndex=p)):p>this.index&&(n.left+o.left+m.width>=_.left&&n.top+o.top+m.height>=_.top||n.top+o.top+m.height>=_.top+h)&&(f.x=-(this.width+this.marginOffset.x),_.left+f.x<this.containerBoundingRect.left+m.width&&(f.x=g.edgeOffset.left-_.left,f.y=g.edgeOffset.top-_.top),this.newIndex=p):p>this.index&&n.left+o.left+m.width>=_.left?(f.x=-(this.width+this.marginOffset.x),this.newIndex=p):p<this.index&&n.left+o.left<=_.left+m.width&&(f.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=p)):this._axis.y&&(p>this.index&&n.top+o.top+m.height>=_.top?(f.y=-(this.height+this.marginOffset.y),this.newIndex=p):p<this.index&&n.top+o.top<=_.top+m.height&&(f.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=p))),d.style[c+"Transform"]="translate3d("+f.x+"px,"+f.y+"px,0)"):i&&(this.sortableGhost=d,d.style.visibility="hidden",d.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)},autoscroll:function(){var t=this,e=this.translate,i={x:0,y:0},a={x:1,y:1},s={x:10,y:10};e.y>=this.maxTranslate.y-this.height/2?(i.y=1,a.y=s.y*Math.abs((this.maxTranslate.y-this.height/2-e.y)/this.height)):e.x>=this.maxTranslate.x-this.width/2?(i.x=1,a.x=s.x*Math.abs((this.maxTranslate.x-this.width/2-e.x)/this.width)):e.y<=this.minTranslate.y+this.height/2?(i.y=-1,a.y=s.y*Math.abs((e.y-this.height/2-this.minTranslate.y)/this.height)):e.x<=this.minTranslate.x+this.width/2&&(i.x=-1,a.x=s.x*Math.abs((e.x-this.width/2-this.minTranslate.x)/this.width)),this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null,this.isAutoScrolling=!1),0===i.x&&0===i.y||(this.autoscrollInterval=setInterval((function(){t.isAutoScrolling=!0;var e={left:1*a.x*i.x,top:1*a.y*i.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()}),5))}}},f={bind:function(t){t.sortableHandle=!0}};function _(t,e){return{name:t,mixins:[e],props:{tag:{type:String,default:"div"}},render:function(t){return t(this.tag,this.$slots.default)}}}var v=_("slick-list",m),g=_("slick-item",e);t.ElementMixin=e,t.ContainerMixin=m,t.HandleDirective=f,t.SlickList=v,t.SlickItem=g,t.arrayMove=r,Object.defineProperty(t,"__esModule",{value:!0})}))},2655:function(t,e,i){var a=i(3552);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("4d002b02",a,!0,{sourceMap:!1,shadowMode:!1})},4144:function(t,e,i){var a=i(5980);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("0baf06e1",a,!0,{sourceMap:!1,shadowMode:!1})},1302:function(t,e,i){var a=i(5002);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("11ec4172",a,!0,{sourceMap:!1,shadowMode:!1})},2175:function(t,e,i){var a=i(2479);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("7bf935a5",a,!0,{sourceMap:!1,shadowMode:!1})},2123:function(t,e,i){var a=i(9710);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("825f41d2",a,!0,{sourceMap:!1,shadowMode:!1})},1782:function(t,e,i){var a=i(8660);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("2c9aea18",a,!0,{sourceMap:!1,shadowMode:!1})},5657:function(t,e,i){var a=i(502);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("fd70b780",a,!0,{sourceMap:!1,shadowMode:!1})},1359:function(t,e,i){var a=i(4535);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("2ffe6490",a,!0,{sourceMap:!1,shadowMode:!1})},2936:function(t,e,i){var a=i(6821);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("5c123132",a,!0,{sourceMap:!1,shadowMode:!1})},5822:function(t,e,i){var a=i(4753);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("18f208ce",a,!0,{sourceMap:!1,shadowMode:!1})},2888:function(t,e,i){var a=i(7394);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("8e66b8d6",a,!0,{sourceMap:!1,shadowMode:!1})},9814:function(t,e,i){var a=i(4118);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("36c25694",a,!0,{sourceMap:!1,shadowMode:!1})},9485:function(t,e,i){var a=i(8069);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("9d35cc26",a,!0,{sourceMap:!1,shadowMode:!1})},6893:function(t,e,i){var a=i(7675);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("e3631226",a,!0,{sourceMap:!1,shadowMode:!1})},9280:function(t,e,i){var a=i(4317);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("1dffd42e",a,!0,{sourceMap:!1,shadowMode:!1})},9348:function(t,e,i){var a=i(297);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("4112246d",a,!0,{sourceMap:!1,shadowMode:!1})},6626:function(t,e,i){var a=i(2198);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("7e5f4ce0",a,!0,{sourceMap:!1,shadowMode:!1})},1386:function(t,e,i){var a=i(141);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("3a08c0a0",a,!0,{sourceMap:!1,shadowMode:!1})},5461:function(t,e,i){var a=i(1081);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("4a99dbd1",a,!0,{sourceMap:!1,shadowMode:!1})},6397:function(t,e,i){var a=i(53);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(1982).Z;s("6328f4c4",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=ProjectView.js.map