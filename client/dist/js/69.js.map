{"version":3,"file":"js/69.js","mappings":"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","sources":["webpack://app/./src/components/publications/templates/StorySectionTemplate.vue?e1cb","webpack://app/./src/components/publications/story/StorySettings.vue?3011","webpack://app/src/components/publications/story/StorySettings.vue","webpack://app/./src/components/publications/story/StorySettings.vue?3d24","webpack://app/./src/components/publications/story/StorySettings.vue","webpack://app/./src/components/publications/story/SectionsList.vue?5caf","webpack://app/./src/components/publications/story/SingleSection.vue?d49f","webpack://app/./src/components/publications/story/SectionTitle.vue?c70d","webpack://app/src/components/publications/story/SectionTitle.vue","webpack://app/./src/components/publications/story/SectionTitle.vue?1a94","webpack://app/./src/components/publications/story/SectionTitle.vue","webpack://app/src/components/publications/story/SingleSection.vue","webpack://app/./src/components/publications/story/SingleSection.vue?0fb9","webpack://app/./src/components/publications/story/SingleSection.vue","webpack://app/src/components/publications/story/SectionsList.vue","webpack://app/./src/components/publications/story/SectionsList.vue?9b0f","webpack://app/./src/components/publications/story/SectionsList.vue","webpack://app/src/components/publications/templates/StorySectionTemplate.vue","webpack://app/./src/components/publications/templates/StorySectionTemplate.vue?57d7","webpack://app/./src/components/publications/templates/StorySectionTemplate.vue","webpack://app/./src/components/publications/story/SectionsList.vue?b722","webpack://app/./src/components/publications/story/SectionsList.vue?847d","webpack://app/./src/components/publications/story/SingleSection.vue?69ab","webpack://app/./src/components/publications/templates/StorySectionTemplate.vue?df35","webpack://app/./src/components/publications/story/SectionsList.vue?388d","webpack://app/./src/components/publications/story/SectionsList.vue?aa24","webpack://app/./src/components/publications/story/SingleSection.vue?46b8","webpack://app/./src/components/publications/templates/StorySectionTemplate.vue?24cb"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.current_view === 'settings' && _vm.can_edit)?_c('StorySettings',{attrs:{\"publication\":_vm.publication}}):_c('SectionsList',{attrs:{\"publication\":_vm.publication,\"section_opened_meta\":_vm.section_opened_meta,\"can_edit\":_vm.can_edit},on:{\"toggleSection\":function($event){return _vm.$emit('toggleSection', $event)},\"closePublication\":function($event){return _vm.$emit('closePublication')}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div></div>\n</template>\n<script>\nexport default {\n  props: {},\n  components: {},\n  data() {\n    return {};\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {},\n  methods: {},\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StorySettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StorySettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StorySettings.vue?vue&type=template&id=618e1b8f&scoped=true&\"\nimport script from \"./StorySettings.vue?vue&type=script&lang=js&\"\nexport * from \"./StorySettings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"618e1b8f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"_summary\"},[_c('DLabel',{attrs:{\"str\":_vm.$t('summary')}}),_c('SlickList',{staticClass:\"_list\",attrs:{\"axis\":\"y\",\"value\":_vm.sections},on:{\"input\":_vm.updateOrder}},_vm._l((_vm.sections),function(section,index){return _c('SlickItem',{key:section.$path,staticClass:\"_item\",class:{\n          'is--active': _vm.isActive(section.$path),\n        },attrs:{\"index\":index}},[_c('span',{directives:[{name:\"handle\",rawName:\"v-handle\"}],staticClass:\"_inlineBtn\"},[_c('sl-icon-button',{attrs:{\"name\":\"grip-vertical\",\"label\":\"Déplacer\"}})],1),(section.section_title)?_c('span',{staticClass:\"_title\"},[_vm._v(_vm._s(section.section_title))]):_c('span',{staticClass:\"_title\",domProps:{\"innerHTML\":_vm._s('<i>' + _vm.$t('untitled') + '</i>')}}),_c('small',[_vm._v(\" (\"+_vm._s(section.modules_list ? section.modules_list.length : 0)+\") \")]),(!_vm.isActive(section.$path))?_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.openSection(section.$path)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"open\"))+\" \")]):_vm._e()])}),1),_c('hr'),_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.createSection}},[_vm._v(\" \"+_vm._s(_vm.$t(\"create_section\"))+\" \")])],1),_c('transition',{attrs:{\"name\":\"pagechange\",\"mode\":\"out-in\"}},[(_vm.opened_section)?_c('div',{key:_vm.opened_section.$path},[_c('SingleSection',{attrs:{\"publication\":_vm.publication,\"section\":_vm.opened_section,\"can_edit\":_vm.can_edit},on:{\"remove\":function($event){return _vm.removeSection(_vm.opened_section.$path)},\"close\":_vm.closeSection}})],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_singleSection\"},[_c('div',{staticClass:\"_storyContainer\"},[_c('div',{staticClass:\"_storyContent\",style:(_vm.story_styles)},[_c('div',{staticClass:\"_topbar\"},[_c('SectionTitle',{attrs:{\"section\":_vm.section,\"can_edit\":_vm.can_edit}}),_c('div',{staticClass:\"u-sameRow\"},[_c('RemoveMenu',{attrs:{\"remove_text\":_vm.$t('remove')},on:{\"remove\":function($event){return _vm.$emit('remove')}}}),_c('div',[_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('sl-icon',{attrs:{\"name\":\"x\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"close\"))+\" \")],1)])],1)],1),_c('transition-group',{attrs:{\"tag\":\"div\",\"name\":\"StoryModules\",\"appear\":\"\",\"duration\":700}},[_vm._l((_vm.modules_list),function(meta_filename,index){return [_c('PublicationModule',{key:meta_filename,staticClass:\"_mediaPublication\",attrs:{\"publimodule\":_vm.findModuleFromMetaFilename(meta_filename),\"module_position\":_vm.modules_list.length === 1\n                ? 'alone'\n                : index === 0\n                ? 'first'\n                : index === _vm.modules_list.length - 1\n                ? 'last'\n                : 'inbetween',\"can_edit\":_vm.can_edit},on:{\"resize\":function($event){return _vm.resize({ meta_filename: meta_filename, new_size: $event })},\"moveUp\":function($event){return _vm.moveTo({ meta_filename: meta_filename, dir: -1 })},\"moveDown\":function($event){return _vm.moveTo({ meta_filename: meta_filename, dir: +1 })},\"duplicate\":function($event){return _vm.duplicatePublicationMedia({\n                source_meta_filename: meta_filename,\n                copy_meta_filename: $event,\n              })},\"remove\":function($event){return _vm.removeModuleFromList(meta_filename)}}}),_c('div',{key:'mc_' + index,staticClass:\"_spacer\"},[(_vm.can_edit)?_c('ModuleCreator',{attrs:{\"publication_path\":_vm.publication.$path,\"meta_filenames_already_present\":_vm.meta_filenames_already_present},on:{\"addModule\":function (ref) {\n                                var meta_filename = ref.meta_filename;\n\n                                return _vm.insertModuleMetaFilenameToList({\n                    meta_filename: meta_filename,\n                    index: index + 1,\n                  });\n}}}):_vm._e()],1)]})],2)],1)]),(_vm.can_edit && (!_vm.modules_list || _vm.modules_list.length === 0))?_c('ModuleCreator',{attrs:{\"publication_path\":_vm.publication.$path},on:{\"addModule\":_vm.appendModuleMetaFilenameToList}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_sectionTitle\"},[_c('TitleField',{attrs:{\"field_name\":'section_title',\"label\":_vm.$t('section_title'),\"content\":_vm.section.section_title,\"path\":_vm.section.$path,\"maxlength\":120,\"tag\":'h3',\"can_edit\":_vm.can_edit}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"_sectionTitle\">\n    <TitleField\n      :field_name=\"'section_title'\"\n      :label=\"$t('section_title')\"\n      :content=\"section.section_title\"\n      :path=\"section.$path\"\n      :maxlength=\"120\"\n      :tag=\"'h3'\"\n      :can_edit=\"can_edit\"\n    />\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    section: Object,\n    can_edit: Boolean,\n  },\n  components: {},\n  data() {\n    return {};\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {},\n  methods: {},\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionTitle.vue?vue&type=template&id=fa160c10&scoped=true&\"\nimport script from \"./SectionTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa160c10\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"_singleSection\">\n    <div class=\"_storyContainer\">\n      <div class=\"_storyContent\" :style=\"story_styles\">\n        <div class=\"_topbar\">\n          <SectionTitle :section=\"section\" :can_edit=\"can_edit\" />\n          <div class=\"u-sameRow\">\n            <RemoveMenu :remove_text=\"$t('remove')\" @remove=\"$emit('remove')\" />\n            <div>\n              <button\n                type=\"button\"\n                class=\"u-buttonLink\"\n                @click=\"$emit('close')\"\n              >\n                <sl-icon name=\"x\" />\n                {{ $t(\"close\") }}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <transition-group tag=\"div\" name=\"StoryModules\" appear :duration=\"700\">\n          <template v-for=\"(meta_filename, index) in modules_list\">\n            <PublicationModule\n              class=\"_mediaPublication\"\n              :key=\"meta_filename\"\n              :publimodule=\"findModuleFromMetaFilename(meta_filename)\"\n              :module_position=\"\n                modules_list.length === 1\n                  ? 'alone'\n                  : index === 0\n                  ? 'first'\n                  : index === modules_list.length - 1\n                  ? 'last'\n                  : 'inbetween'\n              \"\n              :can_edit=\"can_edit\"\n              @resize=\"resize({ meta_filename, new_size: $event })\"\n              @moveUp=\"moveTo({ meta_filename, dir: -1 })\"\n              @moveDown=\"moveTo({ meta_filename, dir: +1 })\"\n              @duplicate=\"\n                duplicatePublicationMedia({\n                  source_meta_filename: meta_filename,\n                  copy_meta_filename: $event,\n                })\n              \"\n              @remove=\"removeModuleFromList(meta_filename)\"\n            />\n            <div class=\"_spacer\" :key=\"'mc_' + index\">\n              <ModuleCreator\n                v-if=\"can_edit\"\n                :publication_path=\"publication.$path\"\n                :meta_filenames_already_present=\"meta_filenames_already_present\"\n                @addModule=\"\n                  ({ meta_filename }) =>\n                    insertModuleMetaFilenameToList({\n                      meta_filename,\n                      index: index + 1,\n                    })\n                \"\n              />\n            </div>\n          </template>\n        </transition-group>\n      </div>\n    </div>\n\n    <ModuleCreator\n      v-if=\"can_edit && (!modules_list || modules_list.length === 0)\"\n      :publication_path=\"publication.$path\"\n      @addModule=\"appendModuleMetaFilenameToList\"\n    />\n  </div>\n</template>\n<script>\nimport SectionTitle from \"@/components/publications/story/SectionTitle.vue\";\nimport ModuleCreator from \"@/components/publications/modules/ModuleCreator.vue\";\nimport PublicationModule from \"@/components/publications/modules/PublicationModule.vue\";\n\nexport default {\n  props: {\n    publication: Object,\n    section: Object,\n    can_edit: Boolean,\n  },\n  components: {\n    SectionTitle,\n    ModuleCreator,\n    PublicationModule,\n  },\n  data() {\n    return {\n      medias: [],\n      fetch_publication_error: null,\n    };\n  },\n  created() {},\n  async mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    story_styles() {\n      // const width = (this.publication.story_width || 800) + \"px\";\n      // if (this.publication.story_is_not_responsive === true)\n      //   return { width, maxWidth: \"none\" };\n      // else return { maxWidth: width };\n      return \"\";\n    },\n    modules_list() {\n      if (\n        this.section.modules_list &&\n        Array.isArray(this.section.modules_list)\n      ) {\n        const modules_list = this.section.modules_list.reduce(\n          (acc, meta_filename) => {\n            const _module = this.findModuleFromMetaFilename(meta_filename);\n            if (_module) {\n              acc.push(meta_filename);\n            }\n            return acc;\n          },\n          []\n        );\n        return modules_list;\n      }\n      return [];\n    },\n    meta_filenames_already_present() {\n      return this.modules_list.reduce((acc, meta_filename) => {\n        const module = this.findModuleFromMetaFilename(meta_filename);\n        if (module.source_medias) {\n          module.source_medias.map((sm) => {\n            if (sm.meta_filename_in_project)\n              acc.push(sm.meta_filename_in_project);\n          });\n        }\n        return acc;\n      }, []);\n    },\n  },\n  methods: {\n    async appendModuleMetaFilenameToList({ meta_filename }) {\n      const modules_list = this.modules_list.slice();\n      modules_list.push(meta_filename);\n\n      await this.updateMeta({ modules_list });\n\n      this.toggleNewModuleEdit({ meta_filename });\n    },\n    async insertModuleMetaFilenameToList({ meta_filename, index }) {\n      const modules_list = this.modules_list.slice();\n      modules_list.splice(index, 0, meta_filename);\n\n      await this.updateMeta({ modules_list });\n      this.toggleNewModuleEdit({ meta_filename });\n    },\n    async updateMeta(new_meta) {\n      this.fetch_status = \"pending\";\n      this.fetch_error = null;\n      try {\n        this.response = await this.$api.updateMeta({\n          path: this.section.$path,\n          new_meta,\n        });\n        this.fetch_status = \"success\";\n      } catch (e) {\n        this.fetch_status = \"error\";\n        this.fetch_error = e.response.data;\n      }\n    },\n    findModuleFromMetaFilename(meta_filename) {\n      if (!this.publication.$files) return [];\n      return this.publication.$files.find((f) => {\n        const _meta_name = f.$path.substring(f.$path.lastIndexOf(\"/\") + 1);\n        return _meta_name === meta_filename;\n      });\n    },\n    async moveTo({ meta_filename, dir }) {\n      let modules_list = this.modules_list.slice();\n      const target_meta_index = modules_list.findIndex(\n        (m) => m === meta_filename\n      );\n      if (target_meta_index + dir < 0) return false;\n      else if (target_meta_index + dir > modules_list.length - 1) return false;\n\n      modules_list.move(target_meta_index, target_meta_index + dir);\n      this.response = await this.updateMeta({ modules_list });\n    },\n    async duplicatePublicationMedia({\n      source_meta_filename,\n      copy_meta_filename,\n    }) {\n      source_meta_filename;\n      copy_meta_filename;\n\n      let modules_list = this.modules_list.slice();\n      const position_of_original_media = modules_list.findIndex(\n        (_mf) => _mf === source_meta_filename\n      );\n\n      modules_list.splice(\n        position_of_original_media + 1,\n        0,\n        copy_meta_filename\n      );\n\n      this.response = await this.updateMeta({ modules_list });\n    },\n    async removeModuleFromList(meta_filename) {\n      let modules_list = this.modules_list.slice();\n      modules_list = modules_list.filter((_mf) => _mf !== meta_filename);\n\n      this.response = await this.updateMeta({ modules_list });\n    },\n    toggleNewModuleEdit({ meta_filename }) {\n      setTimeout(() => {\n        console.log(`emit module.enable_edit.${meta_filename}`);\n        this.$eventHub.$emit(`module.enable_edit.${meta_filename}`);\n      }, 50);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._singleSectionx {\n  display: flex;\n  justify-content: center;\n  flex-flow: column nowrap;\n  align-items: center;\n  margin: 0 auto calc(var(--spacing) * 4);\n}\n\n._settings {\n  position: relative;\n  top: 0;\n  right: 0;\n  display: flex;\n  justify-content: flex-end;\n  // width: 100%;\n  background: white;\n  padding: calc(var(--spacing) / 8) calc(var(--spacing) / 4);\n  margin: calc(var(--spacing) / 2) auto 0;\n  max-width: 240px;\n}\n\n._storyContainer {\n  width: 100%;\n  overflow: auto;\n}\n._storyContent {\n  width: 100%;\n  background: white;\n  max-width: 800px;\n  padding: calc(var(--spacing) * 1) 0;\n  margin: calc(var(--spacing) / 2) auto;\n  border-radius: 6px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\n\n  transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n}\n\n._mediaPublication {\n  position: relative;\n  // margin-bottom: calc(var(--spacing) * 2);\n  margin-bottom: 0;\n\n  ::v-deep {\n    ._content {\n      min-height: calc(24px * 3);\n    }\n    ._floatingEditBtn[data-action=\"disable\"] {\n      display: none;\n    }\n  }\n}\n._spacer {\n  min-height: 3rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: calc(var(--spacing) / 4) 0;\n}\n\n._topbar {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n\n  margin: 0 calc(var(--spacing) / 1) calc(var(--spacing) * 1.5);\n  padding-bottom: calc(var(--spacing) / 1);\n  border-bottom: 2px solid var(--c-gris);\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleSection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleSection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingleSection.vue?vue&type=template&id=4b6d2b88&scoped=true&\"\nimport script from \"./SingleSection.vue?vue&type=script&lang=js&\"\nexport * from \"./SingleSection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SingleSection.vue?vue&type=style&index=0&id=4b6d2b88&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b6d2b88\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"_summary\">\n      <DLabel :str=\"$t('summary')\" />\n\n      <SlickList class=\"_list\" axis=\"y\" :value=\"sections\" @input=\"updateOrder\">\n        <SlickItem\n          v-for=\"(section, index) of sections\"\n          :key=\"section.$path\"\n          :index=\"index\"\n          class=\"_item\"\n          :class=\"{\n            'is--active': isActive(section.$path),\n          }\"\n        >\n          <span v-handle class=\"_inlineBtn\">\n            <sl-icon-button name=\"grip-vertical\" label=\"Déplacer\" />\n          </span>\n          <span v-if=\"section.section_title\" class=\"_title\">{{\n            section.section_title\n          }}</span>\n          <span\n            v-else\n            class=\"_title\"\n            v-html=\"'<i>' + $t('untitled') + '</i>'\"\n          />\n          <small>\n            ({{ section.modules_list ? section.modules_list.length : 0 }})\n          </small>\n          <button\n            type=\"button\"\n            class=\"u-buttonLink\"\n            v-if=\"!isActive(section.$path)\"\n            @click=\"openSection(section.$path)\"\n          >\n            {{ $t(\"open\") }}\n          </button>\n        </SlickItem>\n      </SlickList>\n      <hr />\n      <!-- <div class=\"\" v-for=\"(section, index) of sections\" :key=\"section.$path\">\n        <button\n          type=\"button\"\n          class=\"u-button\"\n          @click=\"openSection(section.$path)\"\n        >\n          <span\n            v-html=\"section.section_title || $t('section') + ' ' + (index + 1)\"\n          />\n        </button>\n        <button\n          type=\"button\"\n          class=\"u-button\"\n          @click=\"removeSection(section.$path)\"\n        >\n          remove\n        </button>\n      </div> -->\n      <button type=\"button\" class=\"u-buttonLink\" @click=\"createSection\">\n        {{ $t(\"create_section\") }}\n      </button>\n    </div>\n\n    <transition name=\"pagechange\" mode=\"out-in\">\n      <div v-if=\"opened_section\" :key=\"opened_section.$path\">\n        <SingleSection\n          :publication=\"publication\"\n          :section=\"opened_section\"\n          :can_edit=\"can_edit\"\n          @remove=\"removeSection(opened_section.$path)\"\n          @close=\"closeSection\"\n        />\n      </div>\n    </transition>\n  </div>\n</template>\n<script>\nimport SingleSection from \"@/components/publications/story/SingleSection.vue\";\nimport { SlickList, SlickItem, HandleDirective } from \"vue-slicksort\";\n\nexport default {\n  props: {\n    publication: Object,\n    section_opened_meta: String,\n    can_edit: Boolean,\n  },\n  components: {\n    SingleSection,\n    SlickItem,\n    SlickList,\n  },\n  directives: { handle: HandleDirective },\n  data() {\n    return {\n      opened_section_meta_filename: false,\n      fruits: [\"Apples\", \"Bananas\" /* etc. */],\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    sections_list() {\n      return this.publication.sections_list || [];\n    },\n    sections() {\n      const all_sections = this.publication.$files\n        ? this.publication.$files.filter((f) =>\n            Object.prototype.hasOwnProperty.call(f, \"section_type\")\n          )\n        : [];\n\n      if (all_sections.length === 0 || !this.publication.sections_list)\n        return [];\n\n      return this.publication.sections_list.map(({ meta_filename }) => {\n        return all_sections.find((s) => s.$path.endsWith(\"/\" + meta_filename));\n      });\n    },\n    opened_section() {\n      return this.publication.$files?.find((f) =>\n        f.$path.endsWith(\"/\" + this.section_opened_meta)\n      );\n    },\n  },\n  methods: {\n    async createSection() {\n      const section_meta_filename = await this.$api\n        .uploadFile({\n          path: this.publication.$path,\n          additional_meta: {\n            section_type: \"-\",\n            requested_slug: \"section\",\n          },\n        })\n        .catch((err) => {\n          this.$alertify.delay(4000).error(err);\n          throw err;\n        });\n\n      let sections_list = this.sections_list.slice();\n      sections_list.push({\n        meta_filename: section_meta_filename,\n      });\n      await this.updatePubliMeta({\n        sections_list,\n      });\n      this.$emit(\"toggleSection\", section_meta_filename);\n    },\n    async removeSection(path) {\n      const section_meta_filename = this.getFilename(path);\n      let sections_list = this.sections_list.slice();\n      sections_list = sections_list.filter(\n        (f) => f.meta_filename !== section_meta_filename\n      );\n      this.updatePubliMeta({\n        sections_list,\n      });\n      await this.$api.deleteItem({\n        path,\n      });\n    },\n    async updatePubliMeta(new_meta) {\n      return await this.$api.updateMeta({\n        path: this.publication.$path,\n        new_meta,\n      });\n    },\n    isActive(path) {\n      return this.opened_section && path === this.opened_section.$path;\n    },\n    openSection(path) {\n      const section_meta_filename = this.getFilename(path);\n      this.$emit(\"toggleSection\", section_meta_filename);\n    },\n    closeSection() {\n      this.$emit(\"toggleSection\", false);\n    },\n    updateOrder(items) {\n      const sections_list = items.map((i) => {\n        return {\n          meta_filename: this.getFilename(i.$path),\n        };\n      });\n      this.updatePubliMeta({\n        sections_list,\n      });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._summary {\n  background: white;\n  padding: calc(var(--spacing) / 2);\n\n  margin: 0 auto;\n  max-width: 60ch;\n}\n\n._list {\n  color: black;\n}\n</style>\n<style lang=\"scss\">\n._item {\n  z-index: 10000;\n\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  gap: calc(var(--spacing) / 2);\n\n  &.is--active {\n    ._title {\n      background: var(--c-orange);\n      padding: calc(var(--spacing) / 8) calc(var(--spacing) / 2);\n      border-radius: 4px;\n    }\n  }\n\n  // color: black;\n  // background: blue;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SectionsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SectionsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionsList.vue?vue&type=template&id=25d693bc&scoped=true&\"\nimport script from \"./SectionsList.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SectionsList.vue?vue&type=style&index=0&id=25d693bc&lang=scss&scoped=true&\"\nimport style1 from \"./SectionsList.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25d693bc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <!-- <RadioSwitch\n      v-if=\"can_edit\"\n      class=\"_switch\"\n      :content.sync=\"current_view\"\n      :options=\"[\n        {\n          label: $t('settings'),\n          value: 'settings',\n        },\n        {\n          label: $t('list_of_sections'),\n          value: 'pages',\n        },\n      ]\"\n    /> -->\n\n    <StorySettings\n      v-if=\"current_view === 'settings' && can_edit\"\n      :publication=\"publication\"\n    />\n    <SectionsList\n      v-else\n      :publication=\"publication\"\n      :section_opened_meta=\"section_opened_meta\"\n      :can_edit=\"can_edit\"\n      @toggleSection=\"$emit('toggleSection', $event)\"\n      @closePublication=\"$emit('closePublication')\"\n    />\n  </div>\n</template>\n<script>\nimport StorySettings from \"@/components/publications/story/StorySettings.vue\";\nimport SectionsList from \"@/components/publications/story/SectionsList.vue\";\n\nexport default {\n  props: {\n    publication: Object,\n    section_opened_meta: String,\n    can_edit: Boolean,\n  },\n  components: {\n    StorySettings,\n    SectionsList,\n  },\n  data() {\n    return {\n      current_view: \"section\",\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {},\n  methods: {},\n};\n</script>\n<style lang=\"scss\" scoped>\n._switch {\n  margin: calc(var(--spacing) * 1) 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StorySectionTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StorySectionTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StorySectionTemplate.vue?vue&type=template&id=7f5a0d1d&scoped=true&\"\nimport script from \"./StorySectionTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./StorySectionTemplate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StorySectionTemplate.vue?vue&type=style&index=0&id=7f5a0d1d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f5a0d1d\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._summary[data-v-25d693bc]{background:#fff;padding:calc(var(--spacing)/2);margin:0 auto;max-width:60ch}._list[data-v-25d693bc]{color:#000}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._item{z-index:10000;display:flex;flex-flow:row wrap;align-items:center;gap:calc(var(--spacing)/2)}._item.is--active ._title{background:var(--c-orange);padding:calc(var(--spacing)/8) calc(var(--spacing)/2);border-radius:4px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._singleSectionx[data-v-4b6d2b88]{display:flex;justify-content:center;flex-flow:column nowrap;align-items:center;margin:0 auto calc(var(--spacing)*4)}._settings[data-v-4b6d2b88]{position:relative;top:0;right:0;display:flex;justify-content:flex-end;background:#fff;padding:calc(var(--spacing)/8) calc(var(--spacing)/4);margin:calc(var(--spacing)/2) auto 0;max-width:240px}._storyContainer[data-v-4b6d2b88]{width:100%;overflow:auto}._storyContent[data-v-4b6d2b88]{width:100%;background:#fff;max-width:800px;padding:calc(var(--spacing)*1) 0;margin:calc(var(--spacing)/2) auto;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,.2);transition:all .4s cubic-bezier(.19,1,.22,1)}._mediaPublication[data-v-4b6d2b88]{position:relative;margin-bottom:0}._mediaPublication[data-v-4b6d2b88]  ._content{min-height:72px}._mediaPublication[data-v-4b6d2b88]  ._floatingEditBtn[data-action=disable]{display:none}._spacer[data-v-4b6d2b88]{min-height:3rem;display:flex;align-items:center;justify-content:center;padding:calc(var(--spacing)/4) 0}._topbar[data-v-4b6d2b88]{display:flex;flex-flow:row wrap;justify-content:space-between;margin:0 calc(var(--spacing)/1) calc(var(--spacing)*1.5);padding-bottom:calc(var(--spacing)/1);border-bottom:2px solid var(--c-gris)}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._switch[data-v-7f5a0d1d]{margin:calc(var(--spacing)*1) 0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SectionsList.vue?vue&type=style&index=0&id=25d693bc&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3e148490\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SectionsList.vue?vue&type=style&index=1&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5b11cba0\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleSection.vue?vue&type=style&index=0&id=4b6d2b88&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"deb9971c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StorySectionTemplate.vue?vue&type=style&index=0&id=7f5a0d1d&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ec60a604\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["render","_vm","this","_h","$createElement","_c","_self","current_view","can_edit","attrs","publication","section_opened_meta","on","$event","$emit","staticRenderFns","props","components","data","created","mounted","beforeDestroy","watch","computed","methods","component","staticClass","$t","sections","updateOrder","_l","section","index","key","$path","class","isActive","directives","name","rawName","_v","_s","section_title","domProps","modules_list","length","_e","openSection","createSection","opened_section","removeSection","closeSection","style","meta_filename","findModuleFromMetaFilename","resize","new_size","moveTo","dir","duplicatePublicationMedia","source_meta_filename","copy_meta_filename","removeModuleFromList","meta_filenames_already_present","ref","insertModuleMetaFilenameToList","appendModuleMetaFilenameToList","SectionTitle","ModuleCreator","PublicationModule","medias","fetch_publication_error","story_styles","Array","acc","module","path","new_meta","m","_mf","position_of_original_media","toggleNewModuleEdit","setTimeout","console","SingleSection","SlickItem","SlickList","handle","opened_section_meta_filename","fruits","sections_list","Object","f","uploadFile","additional_meta","section_type","requested_slug","catch","StorySettings","SectionsList","___CSS_LOADER_EXPORT___","push","id","content","__esModule","default","locals","exports","add"],"sourceRoot":""}