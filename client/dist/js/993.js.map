{"version":3,"file":"js/993.js","mappings":"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","sources":["webpack://app/./src/components/publications/templates/PageTemplate.vue?9828","webpack://app/./src/components/publications/page_by_page/PageSettings.vue?d944","webpack://app/./src/components/publications/page_by_page/WidthHeightField.vue?1df9","webpack://app/src/components/publications/page_by_page/WidthHeightField.vue","webpack://app/./src/components/publications/page_by_page/WidthHeightField.vue?f555","webpack://app/./src/components/publications/page_by_page/WidthHeightField.vue","webpack://app/./src/components/publications/page_by_page/SetMargins.vue?c5ba","webpack://app/src/components/publications/page_by_page/SetMargins.vue","webpack://app/./src/components/publications/page_by_page/SetMargins.vue?d40e","webpack://app/./src/components/publications/page_by_page/SetMargins.vue","webpack://app/src/components/publications/page_by_page/PageSettings.vue","webpack://app/./src/components/publications/page_by_page/PageSettings.vue?f432","webpack://app/./src/components/publications/page_by_page/PageSettings.vue","webpack://app/./src/components/publications/page_by_page/PagesList.vue?f82f","webpack://app/./src/components/publications/page_by_page/SinglePage.vue?a0e5","webpack://app/./src/components/publications/page_by_page/MoveableItem.vue?ac18","webpack://app/./src/ddr/Vector.js","webpack://app/./src/ddr/Matrix.js","webpack://app/./src/ddr/helper.js","webpack://app/src/ddr/index.vue","webpack://app/./src/ddr/index.vue","webpack://app/./src/ddr/index.vue?bba9","webpack://app/src/components/publications/page_by_page/MoveableItem.vue","webpack://app/./src/components/publications/page_by_page/MoveableItem.vue?79c7","webpack://app/./src/components/publications/page_by_page/MoveableItem.vue","webpack://app/src/components/publications/page_by_page/SinglePage.vue","webpack://app/./src/components/publications/page_by_page/SinglePage.vue?ac6e","webpack://app/./src/components/publications/page_by_page/SinglePage.vue","webpack://app/./src/components/publications/page_by_page/OpenedPageOrSpread.vue?c01e","webpack://app/src/components/publications/page_by_page/OpenedPageOrSpread.vue","webpack://app/./src/components/publications/page_by_page/OpenedPageOrSpread.vue?b62c","webpack://app/./src/components/publications/page_by_page/OpenedPageOrSpread.vue","webpack://app/src/components/publications/page_by_page/PagesList.vue","webpack://app/./src/components/publications/page_by_page/PagesList.vue?836b","webpack://app/./src/components/publications/page_by_page/PagesList.vue","webpack://app/src/components/publications/templates/PageTemplate.vue","webpack://app/./src/components/publications/templates/PageTemplate.vue?e2e4","webpack://app/./src/components/publications/templates/PageTemplate.vue","webpack://app/./node_modules/core-js/modules/es.math.hypot.js","webpack://app/./node_modules/yoyoo-ddr/dist/yoyoo-ddr.css","webpack://app/./src/components/publications/page_by_page/MoveableItem.vue?0077","webpack://app/./src/components/publications/page_by_page/OpenedPageOrSpread.vue?4666","webpack://app/./src/components/publications/page_by_page/PageSettings.vue?a976","webpack://app/./src/components/publications/page_by_page/PagesList.vue?2029","webpack://app/./src/components/publications/page_by_page/SinglePage.vue?365e","webpack://app/./src/ddr/index.vue?7963","webpack://app/./node_modules/yoyoo-ddr/dist/yoyoo-ddr.css?d541","webpack://app/./src/components/publications/page_by_page/MoveableItem.vue?5845","webpack://app/./src/components/publications/page_by_page/OpenedPageOrSpread.vue?a941","webpack://app/./src/components/publications/page_by_page/PageSettings.vue?ccd7","webpack://app/./src/components/publications/page_by_page/PagesList.vue?f70a","webpack://app/./src/components/publications/page_by_page/SinglePage.vue?6cf0","webpack://app/./src/ddr/index.vue?3772"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_pageTemplate\"},[(_vm.can_edit)?_c('RadioSwitch',{attrs:{\"content\":_vm.current_view,\"options\":[\n      {\n        label: _vm.$t('settings'),\n        value: 'settings',\n      },\n      {\n        label: _vm.$t('pages'),\n        value: 'pages',\n      } ]},on:{\"update:content\":function($event){_vm.current_view=$event}}}):_vm._e(),_c('br'),(_vm.current_view === 'settings' && _vm.can_edit)?_c('PageSettings',{attrs:{\"publication\":_vm.publication}}):_c('PagesList',{attrs:{\"publication\":_vm.publication,\"page_opened_id\":_vm.page_opened_id,\"can_edit\":_vm.can_edit},on:{\"togglePage\":function($event){return _vm.$emit('togglePage', $event)},\"closePublication\":function($event){return _vm.$emit('closePublication')}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_pageSettings\"},[_c('WidthHeightField',{attrs:{\"publication\":_vm.publication}}),_c('br'),_c('ToggleField',{attrs:{\"label\":_vm.$t('page_spreads'),\"field_name\":'page_spreads',\"content\":_vm.publication.page_spreads,\"path\":_vm.publication.$path,\"can_edit\":true}}),_c('br'),_c('SetMargins',{attrs:{\"publication\":_vm.publication,\"is_spread\":_vm.publication.page_spreads === true}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_widthHeightField\"},[_c('fieldset',[_c('legend',{staticClass:\"u-label\"},[_vm._v(_vm._s(_vm.$t(\"format\")))]),_c('select',{attrs:{\"disabled\":!_vm.edit_mode},domProps:{\"value\":_vm.predefined_format_from_width},on:{\"change\":_vm.setSizeFromFormat}},_vm._l((_vm.format_options),function(option){return _c('option',{key:option.key,domProps:{\"value\":option.key,\"textContent\":_vm._s(option.text)}})}),0),_c('br'),_c('div',{staticClass:\"u-sameRow\"},[_c('div',{},[_c('DLabel',{attrs:{\"str\":_vm.$t('width')}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.new_page_width),expression:\"new_page_width\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"disabled\":!_vm.edit_mode},domProps:{\"value\":(_vm.new_page_width)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.new_page_width=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})],1),_c('div',{},[_c('DLabel',{attrs:{\"str\":_vm.$t('height')}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.new_page_height),expression:\"new_page_height\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"disabled\":!_vm.edit_mode},domProps:{\"value\":(_vm.new_page_height)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.new_page_height=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})],1)]),_c('div',{staticClass:\"u-instructions\"},[_c('small',[_vm._v(_vm._s(_vm.$t(\"format_instructions\")))])]),_c('br'),(_vm.can_edit && !_vm.edit_mode)?_c('EditBtn',{on:{\"click\":_vm.enableEditMode}}):_vm._e(),(_vm.edit_mode)?_c('div',{staticClass:\"_footer\"},[_c('SaveCancelButtons',{staticClass:\"_scb\",attrs:{\"is_saving\":_vm.is_saving},on:{\"save\":_vm.updateSize,\"cancel\":_vm.cancel}})],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"_widthHeightField\">\n    <fieldset>\n      <legend class=\"u-label\">{{ $t(\"format\") }}</legend>\n\n      <select\n        @change=\"setSizeFromFormat\"\n        :value=\"predefined_format_from_width\"\n        :disabled=\"!edit_mode\"\n      >\n        <option\n          v-for=\"option in format_options\"\n          :key=\"option.key\"\n          :value=\"option.key\"\n          v-text=\"option.text\"\n        />\n      </select>\n\n      <br />\n\n      <div class=\"u-sameRow\">\n        <div class=\"\">\n          <DLabel :str=\"$t('width')\" />\n          <input\n            type=\"number\"\n            :disabled=\"!edit_mode\"\n            v-model.number=\"new_page_width\"\n          />\n        </div>\n        <div class=\"\">\n          <DLabel :str=\"$t('height')\" />\n          <input\n            type=\"number\"\n            :disabled=\"!edit_mode\"\n            v-model.number=\"new_page_height\"\n          />\n        </div>\n      </div>\n\n      <div class=\"u-instructions\">\n        <small>{{ $t(\"format_instructions\") }}</small>\n      </div>\n\n      <br />\n\n      <EditBtn v-if=\"can_edit && !edit_mode\" @click=\"enableEditMode\" />\n\n      <div class=\"_footer\" v-if=\"edit_mode\">\n        <SaveCancelButtons\n          class=\"_scb\"\n          :is_saving=\"is_saving\"\n          @save=\"updateSize\"\n          @cancel=\"cancel\"\n        />\n      </div>\n    </fieldset>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    publication: Object,\n  },\n  components: {},\n  data() {\n    return {\n      edit_mode: false,\n      is_saving: false,\n      can_edit: true,\n\n      new_page_width: this.publication.page_width,\n      new_page_height: this.publication.page_height,\n\n      format_options: [\n        {\n          key: \"A4_portrait\",\n          text: this.$t(\"A4_portrait\"),\n          width: 21,\n          height: 29.7,\n          // instruction: this.$t(\"A4_portrait_explanations\"),\n        },\n        {\n          key: \"A4_landscape\",\n          text: this.$t(\"A4_landscape\"),\n          width: 29.7,\n          height: 21,\n          // instruction: this.$t(\"A4_landscape_explanations\"),\n        },\n        {\n          key: \"A5_portrait\",\n          text: this.$t(\"A5_portrait\"),\n          width: 14.8,\n          height: 21,\n          // instruction: this.$t(\"A5_portrait_explanations\"),\n        },\n        {\n          key: \"A5_landscape\",\n          text: this.$t(\"A5_landscape\"),\n          width: 21,\n          height: 14.8,\n          // instruction: this.$t(\"A5_landscape_explanations\"),\n        },\n        {\n          key: \"custom\",\n          text: this.$t(\"custom\"),\n          // instruction: this.$t(\"custom_format_explanations\"),\n        },\n      ],\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    predefined_format_from_width() {\n      const format = this.format_options.find(\n        (f) =>\n          f.width === this.new_page_width && f.height === this.new_page_height\n      );\n\n      if (format) return format.key;\n\n      return \"custom\";\n    },\n  },\n  methods: {\n    enableEditMode() {\n      this.edit_mode = true;\n    },\n    setSizeFromFormat($event) {\n      const key = $event.target.value;\n      if (key === \"custom\") return;\n\n      const format = this.format_options.find((f) => f.key === key);\n\n      this.new_page_width = format.width;\n      this.new_page_height = format.height;\n    },\n    cancel() {\n      this.edit_mode = false;\n      this.is_saving = false;\n      this.new_content = this.content;\n\n      this.$nextTick(() => {\n        // this.content = \"\";\n        // this.$nextTick(() => {\n        // this.content = this.new_content;\n        // });\n      });\n      // todo interrupt updateMeta\n    },\n    async updateSize() {\n      this.is_saving = true;\n\n      try {\n        const new_meta = {\n          page_width: this.new_page_width,\n          page_height: this.new_page_height,\n        };\n        await this.$api.updateMeta({\n          path: this.publication.$path,\n          new_meta,\n        });\n\n        this.edit_mode = false;\n        this.is_saving = false;\n      } catch (e) {\n        this.is_saving = false;\n        this.edit_mode = false;\n\n        this.$alertify\n          .closeLogOnClick(true)\n          .delay(4000)\n          .error(this.$t(\"notifications.couldntbesaved\"));\n        this.$alertify.closeLogOnClick(true).error(e.response.data);\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WidthHeightField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WidthHeightField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WidthHeightField.vue?vue&type=template&id=d08abb36&scoped=true&\"\nimport script from \"./WidthHeightField.vue?vue&type=script&lang=js&\"\nexport * from \"./WidthHeightField.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d08abb36\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('fieldset',[_c('legend',{staticClass:\"u-label\"},[_vm._v(_vm._s(_vm.$t(\"margins\")))]),_c('div',{staticClass:\"u-instructions\"},[_c('small',[_vm._v(_vm._s(_vm.$t(\"margins_instructions\")))])]),_c('br'),_c('div',{staticClass:\"u-sameRow\"},[_c('div',{},[_c('DLabel',{attrs:{\"str\":_vm.$t('top')}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.top),expression:\"top\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"disabled\":!_vm.edit_mode},domProps:{\"value\":(_vm.top)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.top=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})],1),_c('div',{},[_c('DLabel',{attrs:{\"str\":_vm.$t('bottom')}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.bottom),expression:\"bottom\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"disabled\":!_vm.edit_mode},domProps:{\"value\":(_vm.bottom)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.bottom=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})],1)]),_c('br'),_c('div',{staticClass:\"u-sameRow\"},[_c('div',{},[_c('DLabel',{attrs:{\"str\":_vm.is_spread ? _vm.$t('margins_inside') : _vm.$t('left')}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.left),expression:\"left\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"disabled\":!_vm.edit_mode},domProps:{\"value\":(_vm.left)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.left=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})],1),_c('br'),_c('div',{},[_c('DLabel',{attrs:{\"str\":_vm.is_spread ? _vm.$t('margins_outside') : _vm.$t('right')}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.right),expression:\"right\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"disabled\":!_vm.edit_mode},domProps:{\"value\":(_vm.right)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.right=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})],1)]),_c('br'),(_vm.can_edit && !_vm.edit_mode)?_c('EditBtn',{on:{\"click\":_vm.enableEditMode}}):_vm._e(),(_vm.edit_mode)?_c('div',{staticClass:\"_footer\"},[_c('SaveCancelButtons',{staticClass:\"_scb\",attrs:{\"is_saving\":_vm.is_saving},on:{\"save\":_vm.updateMargins,\"cancel\":_vm.cancel}})],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <fieldset>\n      <legend class=\"u-label\">{{ $t(\"margins\") }}</legend>\n      <div class=\"u-instructions\">\n        <small>{{ $t(\"margins_instructions\") }}</small>\n      </div>\n\n      <br />\n\n      <div class=\"u-sameRow\">\n        <div class=\"\">\n          <DLabel :str=\"$t('top')\" />\n          <input type=\"number\" v-model.number=\"top\" :disabled=\"!edit_mode\" />\n        </div>\n        <div class=\"\">\n          <DLabel :str=\"$t('bottom')\" />\n          <input type=\"number\" v-model.number=\"bottom\" :disabled=\"!edit_mode\" />\n        </div>\n      </div>\n      <br />\n      <div class=\"u-sameRow\">\n        <div class=\"\">\n          <DLabel :str=\"is_spread ? $t('margins_inside') : $t('left')\" />\n          <input type=\"number\" v-model.number=\"left\" :disabled=\"!edit_mode\" />\n        </div>\n        <br />\n        <div class=\"\">\n          <DLabel :str=\"is_spread ? $t('margins_outside') : $t('right')\" />\n          <input type=\"number\" v-model.number=\"right\" :disabled=\"!edit_mode\" />\n        </div>\n      </div>\n\n      <br />\n      <EditBtn v-if=\"can_edit && !edit_mode\" @click=\"enableEditMode\" />\n\n      <div class=\"_footer\" v-if=\"edit_mode\">\n        <SaveCancelButtons\n          class=\"_scb\"\n          :is_saving=\"is_saving\"\n          @save=\"updateMargins\"\n          @cancel=\"cancel\"\n        />\n      </div>\n    </fieldset>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    publication: Object,\n    is_spread: Boolean,\n  },\n  components: {},\n  data() {\n    return {\n      edit_mode: false,\n      is_saving: false,\n      can_edit: true,\n\n      top: this.publication.page_margin_top\n        ? this.publication.page_margin_top\n        : 0,\n      bottom: this.publication.page_margin_bottom\n        ? this.publication.page_margin_bottom\n        : 0,\n      left: this.publication.page_margin_left\n        ? this.publication.page_margin_left\n        : 0,\n      right: this.publication.page_margin_right\n        ? this.publication.page_margin_right\n        : 0,\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {},\n  methods: {\n    enableEditMode() {\n      this.edit_mode = true;\n    },\n    cancel() {\n      this.edit_mode = false;\n      this.is_saving = false;\n      this.new_content = this.content;\n\n      this.$nextTick(() => {\n        // this.content = \"\";\n        // this.$nextTick(() => {\n        // this.content = this.new_content;\n        // });\n      });\n      // todo interrupt updateMeta\n    },\n    async updateMargins() {\n      this.is_saving = true;\n\n      try {\n        const new_meta = {\n          page_margin_top: this.top,\n          page_margin_bottom: this.bottom,\n          page_margin_left: this.left,\n          page_margin_right: this.right,\n        };\n        await this.$api.updateMeta({\n          path: this.publication.$path,\n          new_meta,\n        });\n\n        this.edit_mode = false;\n        this.is_saving = false;\n      } catch (e) {\n        this.is_saving = false;\n        this.edit_mode = false;\n\n        this.$alertify\n          .closeLogOnClick(true)\n          .delay(4000)\n          .error(this.$t(\"notifications.couldntbesaved\"));\n        this.$alertify.closeLogOnClick(true).error(e.response.data);\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SetMargins.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SetMargins.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SetMargins.vue?vue&type=template&id=377a9e05&scoped=true&\"\nimport script from \"./SetMargins.vue?vue&type=script&lang=js&\"\nexport * from \"./SetMargins.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"377a9e05\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"_pageSettings\">\n    <WidthHeightField :publication=\"publication\" />\n\n    <br />\n\n    <ToggleField\n      :label=\"$t('page_spreads')\"\n      :field_name=\"'page_spreads'\"\n      :content=\"publication.page_spreads\"\n      :path=\"publication.$path\"\n      :can_edit=\"true\"\n    />\n\n    <br />\n\n    <SetMargins\n      :publication=\"publication\"\n      :is_spread=\"publication.page_spreads === true\"\n    />\n  </div>\n</template>\n<script>\nimport WidthHeightField from \"@/components/publications/page_by_page/WidthHeightField.vue\";\nimport SetMargins from \"@/components/publications/page_by_page/SetMargins.vue\";\n\nexport default {\n  props: {\n    publication: Object,\n  },\n  components: {\n    WidthHeightField,\n    SetMargins,\n  },\n  data() {\n    return {};\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {},\n  methods: {},\n};\n</script>\n<style lang=\"scss\" scoped>\n._pageSettings {\n  background: white;\n\n  max-width: 380px;\n  padding: calc(var(--spacing) * 1);\n  margin: 0 auto calc(var(--spacing) * 1);\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PageSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PageSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageSettings.vue?vue&type=template&id=3fefe83f&scoped=true&\"\nimport script from \"./PageSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./PageSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageSettings.vue?vue&type=style&index=0&id=3fefe83f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fefe83f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',{attrs:{\"name\":\"slideup\"}},[(!_vm.page_opened_id)?_c('transition-group',{key:\"allpages\",staticClass:\"_allPages\",attrs:{\"tag\":\"div\",\"name\":\"listComplete\"}},[(!_vm.is_spread)?_vm._l((_vm.pages),function(page,index){return _c('div',{key:'page-' + page.id,staticClass:\"_page\"},[_c('div',{staticClass:\"_preview\"},[_c('SinglePage',{attrs:{\"context\":'list',\"zoom\":0.2,\"page_modules\":_vm.getModulesForPage(page.id),\"page_width\":_vm.publication.page_width,\"page_height\":_vm.publication.page_height,\"can_edit\":false}}),_c('button',{staticClass:\"_openPage\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('togglePage', page.id)}}})],1),_c('div',{staticClass:\"_label\"},[_c('b',[_vm._v(_vm._s(_vm.$t(\"page\"))+\" \"+_vm._s(index + 1))]),(_vm.can_edit)?_c('RemoveMenu',{on:{\"remove\":function($event){return _vm.removePage(page.id)}}}):_vm._e()],1)])}):_vm._l((_vm.spreads),function(spread,index){return _c('div',{key:'spread-' + index,staticClass:\"_spread\"},_vm._l((spread),function(page,iindex){return _c('div',{key:page ? page.id : iindex},[(page && page.id)?[_c('div',{staticClass:\"_preview\"},[_c('SinglePage',{attrs:{\"context\":'list',\"zoom\":0.2,\"page_modules\":_vm.getModulesForPage(page.id),\"page_width\":_vm.publication.page_width,\"page_height\":_vm.publication.page_height,\"can_edit\":false}}),_c('button',{staticClass:\"_openPage\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('togglePage', page.id)}}})],1),_c('div',{staticClass:\"_label\"},[_c('b',[_vm._v(_vm._s(_vm.$t(\"page\"))+\" \"+_vm._s(index * 2 + iindex))]),(_vm.can_edit)?_c('RemoveMenu',{on:{\"remove\":function($event){return _vm.removePage(page.id)}}}):_vm._e()],1)]:_vm._e()],2)}),0)}),(_vm.can_edit)?_c('button',{key:\"createPage\",staticClass:\"u-button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.createPage}},[_vm._v(\" \"+_vm._s(_vm.$t(\"create_page\"))+\" \")]):_vm._e()],2):_c('OpenedPageOrSpread',{key:\"openedpage\",attrs:{\"page_opened_id\":_vm.page_opened_id,\"publication_path\":_vm.publication.$path,\"pages\":_vm.pages,\"spreads\":_vm.spreads,\"modules\":_vm.modules,\"is_spread\":_vm.is_spread,\"page_width\":_vm.publication.page_width,\"page_height\":_vm.publication.page_height,\"margins\":_vm.margins,\"can_edit\":_vm.can_edit},on:{\"togglePage\":function($event){return _vm.$emit('togglePage', $event)},\"closePublication\":function($event){return _vm.$emit('closePublication')}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_singlePage\",class:{\n    'is--preview': _vm.context === 'list',\n    'is--editable': _vm.can_edit,\n  }},[_c('div',{staticClass:\"_container\",style:(_vm.page_styles),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.active_module = false}}},[_c('div',{staticClass:\"_content\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.active_module = false}}},[(_vm.can_edit && _vm.gridstep)?_c('svg',{staticClass:\"_grid\",attrs:{\"width\":\"100%\",\"height\":\"100%\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('defs',[_c('pattern',{attrs:{\"id\":\"gridSmall\",\"width\":_vm.gridstep,\"height\":_vm.gridstep,\"patternUnits\":\"userSpaceOnUse\"}},[_c('path',{attrs:{\"d\":(\"M \" + _vm.gridstep + \" 0 L 0 0 0 \" + _vm.gridstep),\"fill\":\"none\",\"stroke\":\"rgba(207, 207, 207, 0.5)\",\"strokeWidth\":\"1\"}})]),_c('pattern',{attrs:{\"id\":\"grid\",\"width\":_vm.gridstep * 5,\"height\":_vm.gridstep * 5,\"patternUnits\":\"userSpaceOnUse\"}},[_c('rect',{attrs:{\"width\":_vm.gridstep * 5,\"height\":_vm.gridstep * 5,\"fill\":\"url(#gridSmall)\"}}),_c('path',{attrs:{\"d\":(\"M \" + (_vm.gridstep * 5) + \" 0 L 0 0 0 \" + (_vm.gridstep * 5)),\"fill\":\"none\",\"stroke\":\"rgba(186, 186, 186, 0.5)\",\"strokeWidth\":\"1\"}})])]),_c('rect',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"fill\":\"url(#grid)\"}})]):_vm._e(),_vm._l((_vm.page_modules),function(publimodule){return _c('MoveableItem',{key:publimodule.$path,staticClass:\"_item\",attrs:{\"publimodule\":publimodule,\"magnification\":_vm.magnification,\"gridstep\":_vm.gridstep,\"zoom\":_vm.zoom,\"can_edit\":_vm.can_edit,\"is_active\":_vm.active_module},on:{\"update:is_active\":function($event){_vm.active_module=$event}}})}),(_vm.can_edit && _vm.margins)?_c('svg',{staticClass:\"_margins\",attrs:{\"width\":\"100%\",\"height\":\"100%\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('line',{attrs:{\"x1\":_vm.transformMargins(_vm.margins.left),\"y1\":_vm.transformMargins(_vm.margins.top),\"x2\":_vm.transformMargins(_vm.page_width - _vm.margins.right),\"y2\":_vm.transformMargins(_vm.margins.top),\"stroke\":\"rebeccapurple\"}}),_c('line',{attrs:{\"x1\":_vm.transformMargins(_vm.margins.left),\"y1\":_vm.transformMargins(_vm.page_height - _vm.margins.bottom),\"x2\":_vm.transformMargins(_vm.page_width - _vm.margins.right),\"y2\":_vm.transformMargins(_vm.page_height - _vm.margins.bottom),\"stroke\":\"rebeccapurple\"}}),_c('line',{attrs:{\"x1\":_vm.transformMargins(_vm.margins.left),\"y1\":_vm.transformMargins(_vm.margins.top),\"x2\":_vm.transformMargins(_vm.margins.left),\"y2\":_vm.transformMargins(_vm.page_height - _vm.margins.bottom),\"stroke\":\"rebeccapurple\"}}),_c('line',{attrs:{\"x1\":_vm.transformMargins(_vm.page_width - _vm.margins.right),\"y1\":_vm.transformMargins(_vm.margins.top),\"x2\":_vm.transformMargins(_vm.page_width - _vm.margins.right),\"y2\":_vm.transformMargins(_vm.page_height - _vm.margins.bottom),\"stroke\":\"rebeccapurple\"}})]):_vm._e()],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DDR',{key:_vm.component_key,staticClass:\"_moveableItem\",attrs:{\"active\":_vm.can_edit && _vm.is_active === _vm.publimodule.$path,\"value\":_vm.transform,\"parent\":false /* bind to container */,\"acceptRatio\":false,\"handlerSize\":15,\"grid\":_vm.grid,\"id\":_vm.publimodule.$path,\"zoom\":_vm.zoom},on:{\"dragend\":_vm.dragEnd,\"resizeend\":_vm.resizeEnd,\"rotateend\":_vm.rotateEnd}},[_c('span',{on:{\"mousedown\":_vm.setActive}},[_c('PublicationModule',{staticClass:\"_moveableItem--content\",attrs:{\"publimodule\":_vm.publimodule,\"can_edit\":_vm.can_edit && _vm.is_active === _vm.publimodule.$path,\"context\":'page_by_page'}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\nclass Vector {\n  constructor(lst) {\n    this._values = lst;\n  }\n\n  toString() {\n    return `Vector(${this._values.join(\", \")})`;\n  }\n\n  get length() {\n    return this._values.length;\n  }\n\n  dot(vector) {\n    if (vector instanceof Vector && this.length === vector.length) {\n      return this._values\n        .map((item, index) => item * vector._values[index])\n        .reduce((a, b) => a + b);\n    }\n    throw Error(\"The param `vector` must instance of Vector\");\n  }\n\n  get(index) {\n    return this._values[index];\n  }\n}\n\nexport default Vector;\n","/* eslint-disable */\nimport Vector from \"./Vector\";\n\nclass Matrix {\n  constructor(values) {\n    this._values = values;\n  }\n\n  static zeros(shape) {\n    return new Matrix(\n      new Array(shape[0]).fill(null).map(() => new Array(shape[1]).fill(0))\n    );\n  }\n\n  valueOf() {\n    return JSON.parse(JSON.stringify(this._values));\n  }\n\n  toString() {\n    return (\n      \"Matrix ( \" + this._values.map((item) => item.join(\" \")).join(\", \") + \" )\"\n    );\n  }\n\n  rows() {\n    return this._values.length;\n  }\n\n  cols() {\n    return this._values[0].length;\n  }\n\n  rowVector(row) {\n    return new Vector(this._values[row].slice(0));\n  }\n\n  colVector(col) {\n    let v = new Array(this.rows()).fill(0);\n    this._values.forEach((item, index) => {\n      v[index] = item[col];\n    });\n    return new Vector(v);\n  }\n\n  dot(v) {\n    if (v instanceof Vector && this.cols() === v.length) {\n      return new Vector(\n        new Array(v.length).fill(null).map((item, index) => {\n          return this.rowVector(index).dot(v);\n        })\n      );\n    }\n    if (v instanceof Matrix && this.cols() === v.rows()) {\n      let cols = v.cols(),\n        rows = v.rows();\n      let newMatrix = Matrix.zeros([rows, cols]);\n      let v1;\n      for (let i = 0; i < cols; i++) {\n        v1 = this.dot(v.colVector(i));\n        for (let j = 0; j < rows; j++) {\n          newMatrix._values[j][i] = v1.get(j);\n        }\n      }\n      return newMatrix;\n    }\n    throw Error(\"expected a Vector or Matrix but got \" + typeof v);\n  }\n\n  get(row, col) {\n    return this._values[row][col];\n  }\n\n  T() {\n    return new Matrix(\n      new Array(this.cols()).fill(null).map((_, colIndex) => {\n        return new Array(this.rows()).fill(0).map((_, rowIndex) => {\n          return this.get(rowIndex, colIndex);\n        });\n      })\n    );\n  }\n}\n\nexport default Matrix;\n","/* eslint-disable */\nimport Matrix from \"./Matrix\";\n\n// 缩放时基于对角坐标固定缩放\n// 矩形除了4个直角坐标点外，还有每条边的一个中心点坐标，按照数组的顺序从左上顺时针到左中排列\n// 例如：拖拽点为右中，对应的固定点为左中。拖拽点为左上，对应的固定点为右下\nexport const pointMap = {\n  br: 0,\n  bm: 1,\n  bl: 2,\n  l: 3,\n  tl: 4,\n  tm: 5,\n  tr: 6,\n  r: 7,\n};\n\nexport const handlerPointMap = {\n  tl: 0,\n  tm: 1,\n  tr: 2,\n  r: 3,\n  br: 4,\n  bm: 5,\n  bl: 6,\n  l: 7,\n};\n// 计算矩形大小时使用四个直角坐标\nexport const pointMap2 = {\n  br: 0,\n  bm: 0,\n  bl: 2,\n  l: 2,\n  tl: 4,\n  tm: 4,\n  tr: 6,\n  r: 6,\n};\n\nexport const widthMap = {\n  l: 1,\n  r: 1,\n};\nexport const heightMap = {\n  tm: 1,\n  bm: 1,\n};\nexport const tr2bl = {\n  tr: 1,\n  bl: 1,\n  r: 1,\n  l: 1,\n};\n\nexport function deg2rad(deg) {\n  return (deg * Math.PI) / 180;\n}\n\nexport function rad2deg(rad) {\n  return (rad * 180) / Math.PI;\n}\n\n// 获取矩形旋转后在平面上的8个坐标点，从左上角顺时针放到数组里返回\nexport function getPoints({ x, y, width, height, rotation }, zoom) {\n  let a = (rotation * Math.PI) / 180;\n  let wc = (width / 2) * zoom;\n  let hc = (height / 2) * zoom;\n  // 标准的矩阵点乘公式，返回旋转后的坐标\n  let deg = new Matrix([\n    [Math.cos(a), Math.sin(a)],\n    [-Math.sin(a), Math.cos(a)],\n  ]);\n  let rect = new Matrix([\n    [-wc, hc],\n    [0, hc],\n    [wc, hc],\n    [wc, 0],\n    [wc, -hc],\n    [0, -hc],\n    [-wc, -hc],\n    [-wc, 0],\n  ]);\n  return deg\n    .dot(rect.T())\n    .T()\n    .valueOf()\n    .map((item) => {\n      return { x: item[0] + wc + x * zoom, y: -(item[1] - hc) + y * zoom };\n    });\n}\nexport function getBoundingRect(transform) {\n  if (transform.rotation === 0) {\n    return {\n      left: transform.x,\n      top: transform.y,\n      right: transform.x + transform.width,\n      bottom: transform.y + transform.height,\n      width: transform.width,\n      height: transform.height,\n    };\n  }\n  let points = getPoints(transform);\n  let xarray = [],\n    yarray = [];\n  points.forEach((element) => {\n    xarray.push(element.x);\n    yarray.push(element.y);\n  });\n  xarray = xarray.sort((a, b) => a - b);\n  yarray = yarray.sort((a, b) => a - b);\n  let left = xarray[0],\n    right = xarray[xarray.length - 1];\n  let top = yarray[0],\n    bottom = yarray[yarray.length - 1];\n  return {\n    left,\n    right,\n    top,\n    bottom,\n    width: right - left,\n    height: bottom - top,\n  };\n}\n\n// 计算当前矩形的宽高\nexport function getSize({ type, x, y, dis, pressAngle, startAngle }) {\n  let w, h;\n  let currentAngle = rad2deg(Math.atan2(y, x));\n  let rad = deg2rad(pressAngle + currentAngle - startAngle);\n  if (tr2bl[type]) {\n    h = Math.cos(rad) * dis;\n    w = Math.sin(rad) * dis;\n  } else {\n    h = Math.sin(rad) * dis;\n    w = Math.cos(rad) * dis;\n  }\n  return { w, h };\n}\n\nconst cursorMap = [\"nw\", \"n\", \"ne\", \"e\", \"se\", \"s\", \"sw\", \"w\"];\nconst handlerMap = { tl: 0, tm: 1, tr: 2, r: 3, br: 4, bm: 5, bl: 6, l: 7 };\n\nexport function getHandler(type, rotation) {\n  let originIndex = handlerMap[type];\n  let currentIndex = (originIndex + Math.floor(rotation / 45)) % 8;\n  return cursorMap[currentIndex];\n}\n","<script>\n/* eslint-disable */\nimport {\n  getHandler,\n  getPoints,\n  getSize,\n  handlerPointMap,\n  heightMap,\n  pointMap,\n  pointMap2,\n  rad2deg,\n  tr2bl,\n  widthMap,\n} from \"./helper\";\n\nexport default {\n  name: \"ddr\",\n  props: {\n    value: {\n      default: function () {\n        return { x: 0, y: 0, width: 100, height: 100, rotation: 0 };\n      },\n      type: Object,\n    },\n    handlerSize: {\n      type: Number,\n      default: 11,\n    },\n    active: {\n      default: true,\n      type: Boolean,\n    },\n    resizeHandler: {\n      default: function () {\n        return [\"tl\", \"tm\", \"tr\", \"r\", \"br\", \"bm\", \"bl\", \"l\"];\n      },\n      type: Array,\n    },\n    resizable: {\n      default: true,\n      type: Boolean,\n    },\n    rotatable: {\n      default: true,\n      type: Boolean,\n    },\n    draggable: {\n      default: true,\n      type: Boolean,\n    },\n    acceptRatio: {\n      default: false,\n      type: Boolean,\n    },\n    minWidth: {\n      type: Number,\n      default: 1,\n    },\n    minHeight: {\n      type: Number,\n      default: 1,\n    },\n    maxWidth: {\n      type: Number,\n      default: 100000000,\n    },\n    maxHeight: {\n      type: Number,\n      default: 100000000,\n    },\n    parent: {\n      type: Boolean,\n      default: false,\n    },\n    beforeActive: {\n      type: Function,\n      default: () => false,\n    },\n    id: [Number, String],\n    renderContent: Function,\n    grid: {\n      type: Array,\n      default: () => [1, 1],\n    },\n    stop: {\n      default: true,\n      type: Boolean,\n    },\n    prevent: {\n      default: true,\n      type: Boolean,\n    },\n    zoom: {\n      default: 1,\n      type: Number,\n    },\n    axis: {\n      type: String,\n      default: \"xy\", // x | y 不填写则都可以移动，仅移动时生效\n    },\n  },\n  data() {\n    return {\n      transform: Object.assign({}, this.value),\n      currentRatio: 1,\n      isInitialRatio: false,\n      isDragging: false,\n      isResizing: false,\n      isRotating: false,\n      isReadyToDrag: false,\n      isReadyToResize: false,\n      isReadyToRotate: false,\n    };\n  },\n  created() {\n    // 缓存当前位置信息\n    this.localeTransform = { ...this.transform };\n  },\n  watch: {\n    value(t) {\n      this.transform = { ...t };\n    },\n  },\n\n  computed: {\n    rotateHandler() {\n      let size = Math.ceil(this.handlerSize / this.zoom) + \"px\";\n      return `width:${size};height:${size};top:-25px;margin-left:${-Math.floor(\n        this.handlerSize / 2\n      )}px`;\n    },\n    style() {\n      let transform = this.transform;\n      return `left:${transform.x}px;top:${transform.y}px;width:${transform.width}px;height:${transform.height}px;transform:rotate(${transform.rotation}deg)`;\n    },\n  },\n  methods: {\n    handleDefaultEvent(e) {\n      if (this.stop) {\n        e.stopPropagation();\n      }\n      if (this.prevent) {\n        e.preventDefault();\n      }\n    },\n    getNewHandler(type) {\n      let cursor = getHandler(type, this.transform.rotation);\n      let { handlerSize } = this;\n      let props = {};\n      let half = -Math.floor(handlerSize / 2) + \"px\";\n      switch (type) {\n        case \"tl\":\n          props = {\n            top: half,\n            left: half,\n          };\n          break;\n        case \"tm\":\n          props = { top: half, \"margin-left\": half };\n          break;\n        case \"tr\":\n          props = { right: half, top: half };\n          break;\n        case \"r\":\n          props = { right: half, \"margin-top\": half };\n          break;\n        case \"br\":\n          props = { bottom: half, right: half };\n          break;\n        case \"bm\":\n          props = { \"margin-left\": half, bottom: half };\n          break;\n        case \"bl\":\n          props = { left: half, bottom: half };\n          break;\n        case \"l\":\n          props = { \"margin-top\": half, left: half };\n          break;\n      }\n      let result = {\n        cursor: cursor + \"-resize\",\n        width: Math.ceil(handlerSize / this.zoom) + \"px\",\n        height: Math.ceil(handlerSize / this.zoom) + \"px\",\n        ...props,\n      };\n      return Object.keys(result)\n        .map((item) => `${item}:${result[item]}`)\n        .join(\";\");\n    },\n    emitChange() {\n      this.$emit(\"input\", { ...this.transform });\n    },\n    handleMouseDown(event) {\n      if (!this.active && !this.beforeActive(this.id)) return;\n      this.handleDefaultEvent(event);\n      let point = event.touches ? event.touches[0] : event;\n      let { clientX, clientY } = point;\n      this._lastX = clientX;\n      this._lastY = clientY;\n      this._activeTarget = event.target;\n      this._parentRect = this.$refs.wrapper.parentNode.getBoundingClientRect();\n      this._resizeHandler = event.target.dataset.resizetype;\n      this.localeTransform = { ...this.transform };\n      // 如果设置了限制在父元素的边界内移\n      // 计算组件的边界，在移动时进行判断并修正\n      if (this.parent) {\n        let minLeft = 0;\n        let maxLeft = this._parentRect.width / this.zoom - this.transform.width;\n        let minTop = 0;\n        let maxTop =\n          this._parentRect.height / this.zoom - this.transform.height;\n        let maxLeftWidth = this.transform.x + this.transform.width;\n        let maxRightWidth =\n          this._parentRect.width / this.zoom - this.transform.x;\n        let maxTopHeight = this.transform.y + this.transform.height;\n        let maxBottomHeight =\n          this._parentRect.height / this.zoom - this.transform.y;\n        this.bounday = {\n          minLeft,\n          maxLeft,\n          minTop,\n          maxTop,\n          maxLeftWidth,\n          maxRightWidth,\n          maxTopHeight,\n          maxBottomHeight,\n        };\n      }\n      // 添加事件，该事件会在up时移除\n      document.addEventListener(\"mousemove\", this.handleMouseMove, false);\n      document.addEventListener(\"touchmove\", this.handleMouseMove, false);\n      document.addEventListener(\"touchend\", this.handleMouseUp, false);\n      document.addEventListener(\"mouseup\", this.handleMouseUp, false);\n      if (event.target.dataset.type === \"rotate\") {\n        this._handlerType = \"rotate\";\n        this.isReadyToRotate = true;\n        this.handleRotateStart(event);\n        this.$emit(\"rotatestart\", event, this.transform);\n      } else if (this._activeTarget.dataset.resizetype) {\n        this._handlerType = \"resize\";\n        this.isReadyToResize = true;\n        this.handleResizeStart(event);\n        this.$emit(\"resizestart\", event, this.transform);\n      } else {\n        this._handlerType = \"drag\";\n        this.isReadyToDrag = true;\n        this.draggable && this.$emit(\"dragstart\", event, this.transform);\n      }\n    },\n    handleMouseMove(event) {\n      this.handleDefaultEvent(event);\n      let { clientX, clientY } = event.touches ? event.touches[0] : event;\n      this.isReadyToDrag = false;\n      this.isReadyToResize = false;\n      this.isReadyToRotate = false;\n      this._deltaX = clientX - this._lastX;\n      this._deltaY = clientY - this._lastY;\n      this._lastX = clientX;\n      this._lastY = clientY;\n      if (this._handlerType === \"resize\") {\n        this.isResizing = true;\n        this.handleResizeMove(event);\n        this.$emit(\"resize\", event, this.transform);\n      } else if (this._handlerType === \"drag\" && this.draggable) {\n        this.isDragging = true;\n        this.doMove(event);\n        this.$emit(\"drag\", event, this.transform);\n      } else if (this._handlerType === \"rotate\") {\n        this.isRotating = true;\n        this.handleRotateMove(event);\n        this.$emit(\"rotate\", event, this.transform);\n      }\n      this.emitChange();\n    },\n\n    doMove() {\n      let [gridX, gridY] = this.grid;\n      let deltaX = this._deltaX / this.zoom;\n      let deltaY = this._deltaY / this.zoom;\n      let x = (this.localeTransform.x = Math.round(\n        this.localeTransform.x + deltaX\n      ));\n      let y = (this.localeTransform.y = Math.round(\n        this.localeTransform.y + deltaY\n      ));\n\n      // 将当前位置对齐网格，限制在父元素内进行移动\n      // 当deltaX > 0 说明当前移动方向为向右移动，则向下取整。例如：10 12 14 始终取 10\n      // 当deltaY < 0 说明当干移动方向为向左移动，则向上取整。例如：20 19 17 始终取 20\n      if (this.axis.includes(\"x\")) {\n        if (x > this.transform.x) {\n          this.transform.x = this.restrictToLeftOfParent(x - (x % gridX));\n        } else if (x < this.transform.x) {\n          this.transform.x = this.restrictToLeftOfParent(\n            x - ((x % gridX) - gridX)\n          );\n        }\n      }\n\n      if (this.axis.includes(\"y\")) {\n        if (y > this.transform.y) {\n          this.transform.y = this.restrictToTopOfParent(y - (y % gridY));\n        } else if (y < this.transform.y) {\n          this.transform.y = this.restrictToTopOfParent(\n            y - ((y % gridY) - gridY)\n          );\n        }\n      }\n    },\n    restrictToLeftOfParent(x) {\n      if (!this.parent) return x;\n      x = Math.max(this.bounday.minLeft, x);\n      x = Math.min(this.bounday.maxLeft, x);\n      return x;\n    },\n    restrictToTopOfParent(y) {\n      if (!this.parent) return y;\n      y = Math.max(this.bounday.minTop, y);\n      y = Math.min(this.bounday.maxTop, y);\n      return y;\n    },\n    restrictHeight(h, type) {\n      if (!this.parent || this.transform.rotation > 0) return h;\n      if ([\"bl\", \"bm\", \"br\"].includes(type))\n        return Math.min(this.bounday.maxBottomHeight, h);\n      if ([\"tl\", \"tm\", \"tr\"].includes(type))\n        return Math.min(this.bounday.maxTopHeight, h);\n      return h;\n    },\n    restrictWidth(w, type) {\n      if (!this.parent || this.transform.rotation > 0) return w;\n      if ([\"tl\", \"l\", \"bl\"].includes(type))\n        return Math.min(this.bounday.maxLeftWidth, w);\n      if ([\"tr\", \"r\", \"br\"].includes(type))\n        return Math.min(this.bounday.maxRightWidth, w);\n      return w;\n    },\n    handleMouseUp(event) {\n      this.handleDefaultEvent(event);\n      document.removeEventListener(\"mousemove\", this.handleMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.handleMouseUp, false);\n      document.removeEventListener(\"touchmove\", this.handleMouseMove, false);\n      document.removeEventListener(\"touchend\", this.handleMouseUp, false);\n\n      let ev = {\n        drag: \"draggable\",\n        resize: \"resizable\",\n        rotate: \"rotatable\",\n      };\n\n      this.isInitialRatio =\n        this.isDragging =\n        this.isResizing =\n        this.isRotating =\n          false;\n      this.isReadyToDrag = this.isReadyToResize = this.isReadyToRotate = false;\n      this[ev[this._handlerType]] &&\n        this.$emit(this._handlerType + \"end\", event, this.transform);\n    },\n    handleResizeStart(event) {\n      let type = this._resizeHandler;\n      let rect = this.transform;\n      let matrix = getPoints(rect, this.zoom);\n      let pressAngle;\n      // 当前控制点的对角坐标点，该坐标会用来计算新的位置\n      // 例如：bottomRight(右下角) 对应 topLeft(左上角)\n      let opposite = matrix[pointMap[type]];\n      // 与上面的区别是，这里的对角坐标只能是4个直角坐标，用于计算新的宽高\n      // 例如：例如：bottomRight 和 bottom 都对应 topLeft\n      let opp2 = matrix[pointMap2[type]];\n      let { clientX, clientY } = event.touches ? event.touches[0] : event;\n      // issues: https://github.com/zuimeiaj/yoyoo-ddr/issues/34\n      // 在进行缩放时，需要考虑鼠标位置距离拖拽点中心位置的偏移值，否则拖拽时会有抖动\n      let handlerPoint = matrix[handlerPointMap[type]];\n      let offsetX = clientX - handlerPoint.x;\n      let offsetY = clientY - handlerPoint.y;\n\n      let x1 = clientX - opp2.x - offsetX;\n      let y1 = clientY - opp2.y - offsetY;\n      let width = rect.width;\n      let height = rect.height;\n      // 有问题\n      if (tr2bl[type]) {\n        pressAngle = rad2deg(\n          Math.atan2(width, widthMap[type] ? height / 2 : height)\n        );\n      } else {\n        pressAngle = rad2deg(\n          Math.atan2(height, heightMap[type] ? width / 2 : width)\n        );\n      }\n      let startAngle = rad2deg(Math.atan2(y1, x1));\n      this._resizeOpt = {\n        matrix,\n        rect,\n        type,\n        opposite,\n        opp2,\n        pressAngle,\n        startAngle,\n        offsetX,\n        offsetY,\n      };\n    },\n    handleResizeMove(event) {\n      let { clientX, clientY } = event.touches ? event.touches[0] : event;\n      let { opposite, opp2, type, pressAngle, startAngle, offsetX, offsetY } =\n        this._resizeOpt;\n      let x = clientX - opp2.x - offsetX;\n      let y = clientY - opp2.y - offsetY;\n      let dis = Math.hypot(y, x);\n      let ratio = event.shiftKey || this.acceptRatio;\n      let [gridX, gridY] = this.grid;\n      // 锁定纵横比\n      if (!this.isInitialRatio && ratio) {\n        this.currentRatio = this.transform.width / this.transform.height;\n        this.isInitialRatio = true;\n      }\n      if (!ratio) {\n        this.isInitialRatio = false;\n      }\n\n      // 获取新的宽度和高度\n      let { w, h } = getSize({\n        type,\n        dis,\n        x,\n        y,\n        startAngle,\n        pressAngle,\n      });\n      let transform = { ...this.localeTransform };\n\n      // 进行等比例缩放\n      if (this.isInitialRatio) {\n        if (widthMap[type]) h = w / this.currentRatio;\n        else w = h * this.currentRatio;\n      }\n      // 还原到实际尺寸\n      w /= this.zoom;\n      h /= this.zoom;\n      w = Math.min(Math.max(Math.round(w), this.minWidth), this.maxWidth);\n      h = Math.min(Math.max(Math.round(h), this.minHeight), this.maxHeight);\n      // 判断当前控制点是否为宽度缩放还是高度缩放\n      if (widthMap[type] && !ratio) {\n        transform.width = w;\n      } else if (heightMap[type] && !ratio) {\n        transform.height = h;\n      } else {\n        transform.width = w;\n        transform.height = h;\n      }\n\n      let resizeType = this._resizeHandler;\n      // // 限制在网格中移动，原理同拖动\n      if (transform.width % gridX > 0) {\n        if (transform.width > this.localeTransform.width) {\n          // 宽度变大时向下取整\n          transform.width = transform.width - (transform.width % gridX);\n        } else {\n          // 宽度变小时向上取整\n          transform.width =\n            transform.width - ((transform.width % gridX) - gridX);\n        }\n      }\n\n      // 原理同上\n      if (transform.height % gridY > 0) {\n        if (transform.height > this.localeTransform.height) {\n          transform.height = transform.height - (transform.height % gridY);\n        } else {\n          transform.height =\n            transform.height - ((transform.height % gridY) - gridY);\n        }\n      }\n      // 限制在父元素中\n      transform.height = this.restrictHeight(transform.height, resizeType);\n      transform.width = this.restrictWidth(transform.width, resizeType);\n\n      // 根据新的旋转和宽高计算新的位置\n      let matrix = getPoints(transform, this.zoom);\n      let newOpposite = matrix[pointMap[type]];\n      let deltaX = -(newOpposite.x - opposite.x) / this.zoom;\n      let deltaY = -(newOpposite.y - opposite.y) / this.zoom;\n      transform.x = Math.round(transform.x + deltaX);\n      transform.y = Math.round(transform.y + deltaY);\n      this.transform = transform;\n    },\n\n    handleRotateStart(event) {\n      let { clientX, clientY } = event.touches ? event.touches[0] : event;\n      let t = this.$refs.wrapper.getBoundingClientRect();\n      let cx = t.left + t.width / 2;\n      let cy = t.top + t.height / 2;\n      let startAngle = (180 / Math.PI) * Math.atan2(clientY - cy, clientX - cx);\n      let rotation = this.transform.rotation;\n      // 记录旋转的角度和组件的中心点\n      this._rotateOpt = { cx, cy, startAngle, rotation };\n    },\n    handleRotateMove(event) {\n      let { cx, cy, startAngle, rotation } = this._rotateOpt;\n      let { clientX, clientY } = event.touches ? event.touches[0] : event;\n      let x = clientX - cx;\n      let y = clientY - cy;\n      let angle = (180 / Math.PI) * Math.atan2(y, x);\n      // 旋转角度 = 鼠标移动时角度 - 鼠标按下时角度\n      // 旋转后的角度 = 组件按下时角度 + 旋转角度\n      let currentAngle = angle - startAngle;\n      let r = rotation + currentAngle;\n      r = r % 360;\n      r = r < 0 ? r + 360 : r;\n      r = this.roundRotate(r);\n      this.transform.rotation = Math.floor(r);\n    },\n    roundRotate(r) {\n      const round = 5;\n      if (r > 360 - round || r < 0 + round) return 0;\n      if (r > 90 - round && r < 90 + round) return 90;\n      if (r > 180 - round && r < 180 + round) return 180;\n      if (r > 270 - round && r < 270 + round) return 270;\n      return r;\n    },\n    getClassNames() {\n      const ddrClassNames = [\"yoyoo-ddr\"];\n\n      if (this.active) ddrClassNames.push(\"active\");\n      if (this.isDragging) ddrClassNames.push(\"ddr-dragging\");\n      if (this.isResizing) ddrClassNames.push(\"ddr-resizing\");\n      if (this.isRotating) ddrClassNames.push(\"ddr-rotating\");\n      if (this.isReadyToDrag) ddrClassNames.push(\"ddr-ready-drag\");\n      if (this.isReadyToResize) ddrClassNames.push(\"ddr-ready-resize\");\n      if (this.isReadyToRotate) ddrClassNames.push(\"ddr-ready-rotate\");\n      return ddrClassNames;\n    },\n  },\n  render() {\n    return (\n      <div\n        ref=\"wrapper\"\n        style={this.style}\n        class={this.getClassNames()}\n        onTouchstart={this.handleMouseDown}\n        onMousedown={this.handleMouseDown}\n      >\n        {this.renderContent ? this.renderContent(this) : this.$slots.default}\n        {this.resizable && (\n          <div class=\"resize-handler-wrapper\">\n            {this.resizeHandler.map((item) => {\n              return (\n                <span\n                  data-resizetype={item}\n                  key={item}\n                  style={this.getNewHandler(item)}\n                  class={`resize-handler ${item}`}\n                />\n              );\n            })}\n          </div>\n        )}\n        {this.rotatable && (\n          <span\n            style={this.rotateHandler}\n            data-type=\"rotate\"\n            class=\"rotate-handler\"\n          />\n        )}\n      </div>\n    );\n  },\n};\n</script>\n\n<style lang=\"less\">\n.yoyoo-ddr {\n  position: absolute;\n  .resize-handler.tm {\n    left: 50%;\n  }\n  .resize-handler.r {\n    top: 50%;\n  }\n  .resize-handler.bm {\n    left: 50%;\n  }\n  .resize-handler.l {\n    top: 50%;\n    cursor: pointer;\n  }\n\n  .resize-handler,\n  .rotate-handler {\n    display: none;\n    position: absolute;\n    border: 1px solid #607d8b;\n    background: #fff;\n    box-sizing: border-box;\n    border-radius: 50%;\n  }\n  .rotate-handler {\n    left: 50%;\n    cursor: crosshair;\n  }\n  &.active {\n    border: 1px dashed #607d8b;\n    > .resize-handler-wrapper > .resize-handler,\n    > .rotate-handler {\n      display: inline-block;\n    }\n  }\n  .br,\n  .tr,\n  .tl,\n  .bl {\n    background: #607d8b;\n  }\n}\n</style>\n","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <!-- <div class=\"container\"> -->\n  <!-- <div class=\"\" style=\"position: absolute\">\n      {{ transform }}\n    </div> -->\n  <!-- <div class=\"_moveableItem\">\n    <img class=\"\" :src=\"src\" />\n  </div> -->\n  <DDR\n    class=\"_moveableItem\"\n    :active=\"can_edit && is_active === publimodule.$path\"\n    :key=\"component_key\"\n    :value=\"transform\"\n    :parent=\"false /* bind to container */\"\n    :acceptRatio=\"false\"\n    :handlerSize=\"15\"\n    :grid=\"grid\"\n    :id=\"publimodule.$path\"\n    :zoom=\"zoom\"\n    @dragend=\"dragEnd\"\n    @resizeend=\"resizeEnd\"\n    @rotateend=\"rotateEnd\"\n  >\n    <span @mousedown=\"setActive\">\n      <PublicationModule\n        class=\"_moveableItem--content\"\n        :publimodule=\"publimodule\"\n        :can_edit=\"can_edit && is_active === publimodule.$path\"\n        :context=\"'page_by_page'\"\n      />\n    </span>\n    <!-- <small class=\"_coords\">\n      x={{ publimodule.x }}; y={{ publimodule.y }}; width={{\n        publimodule.width\n      }}; height={{ publimodule.height }}\n    </small> -->\n  </DDR>\n</template>\n<script>\n/* eslint-disable */\nimport DDR from \"@/ddr/index.vue\"; // eslint-disable-line\n// import DDR from \"yoyoo-ddr\";\nimport \"yoyoo-ddr/dist/yoyoo-ddr.css\";\nimport PublicationModule from \"@/components/publications/modules/PublicationModule.vue\";\n\n/* eslint-disable no-unused-vars */\nexport default {\n  name: \"app\",\n  props: {\n    publimodule: Object,\n    can_edit: Boolean,\n    magnification: Number,\n    gridstep: Number,\n    zoom: Number,\n    is_active: [Boolean, String],\n  },\n  components: {\n    DDR,\n    PublicationModule,\n  },\n  data() {\n    return {\n      transform: { x: 100, y: 100, width: 300, height: 300, rotation: 0 },\n      component_key: 1,\n    };\n  },\n  created() {\n    // if (this.publimodule.x)\n    this.setTransformFromPubli();\n    // else debugger;\n    // todo get ratio from linked image, set initial transform based on that\n\n    this.setNewComponentKey();\n  },\n  mounted() {\n    this.$eventHub.$on(\n      `module.enable_edit.${this.module_meta_filename}`,\n      this.setActive\n    );\n  },\n  beforeDestroy() {\n    this.$eventHub.$on(\n      `module.enable_edit.${this.module_meta_filename}`,\n      this.setActive\n    );\n  },\n  watch: {\n    publimodule: {\n      handler() {\n        // todo change key to re-render component if coordinates were changed and diff from transform (means it was changed on another client)\n        const was_updated = this.setTransformFromPubli();\n        if (was_updated) this.setNewComponentKey();\n      },\n      deep: true,\n    },\n    magnification() {\n      const was_updated = this.setTransformFromPubli();\n      if (was_updated) this.setNewComponentKey();\n    },\n  },\n  computed: {\n    module_meta_filename() {\n      return this.publimodule.$path.split(\"/\").at(-1);\n    },\n    grid() {\n      return [\n        // 1 * this.gridstep,\n        // 1 * this.gridstep,\n        this.gridstep,\n        this.gridstep,\n      ];\n    },\n  },\n  methods: {\n    setNewComponentKey() {\n      this.component_key = new Date().getTime();\n    },\n    setTransformFromPubli() {\n      let was_updated = false;\n\n      Object.keys(this.transform).map((k) => {\n        if (typeof this.publimodule[k] === \"number\") {\n          if ([\"x\", \"y\", \"width\", \"height\"].includes(k)) {\n            const px = this.turnCMtoPX(this.publimodule[k]);\n            if (this.transform[k] !== px) {\n              this.transform[k] = px;\n              was_updated = true;\n            }\n          } else if (k === \"rotation\") {\n            if (this.transform[k] !== this.publimodule[k]) {\n              this.transform[k] = this.publimodule[k];\n              was_updated = true;\n            }\n          }\n        }\n      });\n      return was_updated;\n      // this.$set(this.transform, k, this.publimodule[k]);\n    },\n    turnCMtoPX(num) {\n      return this.roundToDec(num * this.magnification);\n    },\n    turnPXtoCM(num) {\n      return this.roundToDec(num / this.magnification);\n    },\n    roundToDec(num) {\n      return Math.round((num + Number.EPSILON) * 100) / 100;\n    },\n    dragEnd(event, transform) {\n      if (JSON.stringify(transform) === JSON.stringify(this.transform))\n        return false;\n\n      this.transform = transform;\n      this.updateTransform(transform);\n    },\n    resizeEnd(event, transform) {\n      if (JSON.stringify(transform) === JSON.stringify(this.transform))\n        return false;\n\n      this.transform = transform;\n      this.updateTransform(transform);\n    },\n    rotateEnd(event, transform) {\n      if (JSON.stringify(transform) === JSON.stringify(this.transform))\n        return false;\n\n      this.transform = transform;\n      this.updateTransform(transform);\n    },\n    async updateTransform(transform) {\n      let new_meta = JSON.parse(JSON.stringify(transform));\n      Object.keys(new_meta).map((k) => {\n        if ([\"x\", \"y\", \"width\", \"height\"].includes(k)) {\n          new_meta[k] = this.turnPXtoCM(new_meta[k]);\n          // update transform with this value\n          this.transform[k] = this.turnCMtoPX(new_meta[k]);\n        }\n      });\n\n      await this.$api\n        .updateMeta({\n          path: this.publimodule.$path,\n          new_meta,\n        })\n        .catch((err) => {\n          this.$alertify.delay(4000).error(err);\n          throw err;\n        });\n    },\n    setActive() {\n      this.$emit(\"update:is_active\", this.publimodule.$path);\n    },\n    duplicateModule() {},\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._moveableItem {\n  transition-property: left, top, right, bottom;\n  transition-duration: 0.15s;\n  transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1);\n  // transition: all 0.15s cubic-bezier(0.19, 1, 0.22, 1);\n}\n\n._moveableItem--content {\n  height: 100%;\n  padding: 0;\n\n  ::v-deep ._content {\n    height: 100%;\n    overflow: hidden;\n  }\n}\n._coords {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background: white;\n  margin: calc(var(--spacing) * 1);\n  // padding: calc(var(--spacing) * 1);\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MoveableItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MoveableItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoveableItem.vue?vue&type=template&id=b003fa32&scoped=true&\"\nimport script from \"./MoveableItem.vue?vue&type=script&lang=js&\"\nexport * from \"./MoveableItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MoveableItem.vue?vue&type=style&index=0&id=b003fa32&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b003fa32\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"_singlePage\"\n    :class=\"{\n      'is--preview': context === 'list',\n      'is--editable': can_edit,\n    }\"\n  >\n    <div\n      class=\"_container\"\n      :style=\"page_styles\"\n      @click.self=\"active_module = false\"\n    >\n      <div class=\"_content\" @click.self=\"active_module = false\">\n        <svg\n          v-if=\"can_edit && gridstep\"\n          class=\"_grid\"\n          width=\"100%\"\n          height=\"100%\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <defs>\n            <pattern\n              id=\"gridSmall\"\n              :width=\"gridstep\"\n              :height=\"gridstep\"\n              patternUnits=\"userSpaceOnUse\"\n            >\n              <path\n                :d=\"`M ${gridstep} 0 L 0 0 0 ${gridstep}`\"\n                fill=\"none\"\n                stroke=\"rgba(207, 207, 207, 0.5)\"\n                strokeWidth=\"1\"\n              />\n            </pattern>\n            <pattern\n              id=\"grid\"\n              :width=\"gridstep * 5\"\n              :height=\"gridstep * 5\"\n              patternUnits=\"userSpaceOnUse\"\n            >\n              <rect\n                :width=\"gridstep * 5\"\n                :height=\"gridstep * 5\"\n                fill=\"url(#gridSmall)\"\n              ></rect>\n              <path\n                :d=\"`M ${gridstep * 5} 0 L 0 0 0 ${gridstep * 5}`\"\n                fill=\"none\"\n                stroke=\"rgba(186, 186, 186, 0.5)\"\n                strokeWidth=\"1\"\n              />\n            </pattern>\n          </defs>\n          <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\"></rect>\n        </svg>\n        <MoveableItem\n          class=\"_item\"\n          v-for=\"publimodule in page_modules\"\n          :key=\"publimodule.$path\"\n          :publimodule=\"publimodule\"\n          :magnification=\"magnification\"\n          :gridstep=\"gridstep\"\n          :zoom=\"zoom\"\n          :can_edit=\"can_edit\"\n          :is_active.sync=\"active_module\"\n        />\n\n        <svg\n          v-if=\"can_edit && margins\"\n          class=\"_margins\"\n          width=\"100%\"\n          height=\"100%\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <!-- top -->\n          <line\n            :x1=\"transformMargins(margins.left)\"\n            :y1=\"transformMargins(margins.top)\"\n            :x2=\"transformMargins(page_width - margins.right)\"\n            :y2=\"transformMargins(margins.top)\"\n            stroke=\"rebeccapurple\"\n          />\n          <!-- bottom -->\n          <line\n            :x1=\"transformMargins(margins.left)\"\n            :y1=\"transformMargins(page_height - margins.bottom)\"\n            :x2=\"transformMargins(page_width - margins.right)\"\n            :y2=\"transformMargins(page_height - margins.bottom)\"\n            stroke=\"rebeccapurple\"\n          />\n          <!-- left -->\n          <line\n            :x1=\"transformMargins(margins.left)\"\n            :y1=\"transformMargins(margins.top)\"\n            :x2=\"transformMargins(margins.left)\"\n            :y2=\"transformMargins(page_height - margins.bottom)\"\n            stroke=\"rebeccapurple\"\n          />\n          <!-- right -->\n          <line\n            :x1=\"transformMargins(page_width - margins.right)\"\n            :y1=\"transformMargins(margins.top)\"\n            :x2=\"transformMargins(page_width - margins.right)\"\n            :y2=\"transformMargins(page_height - margins.bottom)\"\n            stroke=\"rebeccapurple\"\n          />\n        </svg>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport MoveableItem from \"@/components/publications/page_by_page/MoveableItem.vue\";\n\nexport default {\n  props: {\n    context: String,\n    publication_path: String,\n    page_modules: Array,\n    page_width: Number,\n    page_height: Number,\n    zoom: { type: Number, default: 1 },\n    gridstep_in_cm: Number,\n    margins: Object,\n    magnification: { type: Number, default: 38 },\n    can_edit: Boolean,\n  },\n  components: {\n    MoveableItem,\n  },\n  data() {\n    return {\n      items: [{ src: \"images/i_add_publi.svg\" }, { src: \"images/i_add.svg\" }],\n      active_module: false,\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    gridstep() {\n      if (!this.gridstep_in_cm) return 0;\n      return this.gridstep_in_cm * this.magnification;\n    },\n    page_styles() {\n      return `\n        --page-width: ${this.page_width * this.magnification}px;\n        --page-height: ${this.page_height * this.magnification}px;\n        --zoom: ${this.zoom};\n      `;\n    },\n  },\n  methods: {\n    transformMargins(m) {\n      return m * this.magnification;\n    },\n    // async updateMeta({ new_meta }) {\n    //   this.fetch_status = \"pending\";\n    //   this.fetch_error = null;\n    //   try {\n    //     this.response = await this.$api.updateMeta({\n    //       path: this.publication_path,\n    //       new_meta,\n    //     });\n    //     this.fetch_status = \"success\";\n    //   } catch (e) {\n    //     this.fetch_status = \"error\";\n    //     this.fetch_error = e.response.data;\n    //   }\n    // },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._singlePage {\n  // padding: calc(var(--spacing) * 1);\n}\n\n._container {\n  width: 100%;\n  height: calc(var(--page-height) * var(--zoom));\n  margin: calc(var(--spacing) * 2) auto;\n\n  .is--preview & {\n    width: calc(var(--page-width) * var(--zoom));\n    margin: 0 auto;\n  }\n}\n\n._content {\n  display: block;\n  position: relative;\n  z-index: 0;\n\n  margin: 0 auto;\n  width: var(--page-width, 10cm);\n  height: var(--page-height, 10cm);\n\n  transform: scale(var(--zoom));\n  transform-origin: 50% 25%;\n\n  overflow: hidden;\n  transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n\n  background: white;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n\n  ._singlePage.is--preview & {\n    transform-origin: top left;\n  }\n  ._singlePage.is--editable & {\n    overflow: visible;\n  }\n}\n\n._item {\n  // position: absolute;\n}\n\n._grid {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n._margins {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SinglePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SinglePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SinglePage.vue?vue&type=template&id=ee07f3da&scoped=true&\"\nimport script from \"./SinglePage.vue?vue&type=script&lang=js&\"\nexport * from \"./SinglePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SinglePage.vue?vue&type=style&index=0&id=ee07f3da&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ee07f3da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_openedPage\",class:{\n    'is--editable': _vm.can_edit,\n  }},[_c('div',{staticClass:\"_breadcrumb\"},[_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('closePublication')}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"publications\"))+\" \")]),_c('sl-icon',{attrs:{\"name\":\"arrow-right-short\",\"label\":\"\"}}),_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('togglePage', false)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"pages\"))+\" \")])],1),_c('div',{staticClass:\"_topMenu\"},[_c('div',{staticClass:\"_topMenu--content\"},[_c('div',{},[_c('transition',{attrs:{\"name\":\"fade_fast\",\"mode\":\"out-in\"}},[_c('b',{key:_vm.page_number},[_vm._v(_vm._s(_vm.$t(\"page\"))+\" \"+_vm._s(_vm.page_number + 1))])]),(_vm.is_spread)?_c('transition',{attrs:{\"name\":\"fade_fast\",\"mode\":\"out-in\"}},[_c('span',{key:_vm.active_spread_index},[(_vm.page_number !== 0)?[_vm._v(\" (\"+_vm._s(_vm.$t(\"spread\"))+\" \"+_vm._s(_vm.active_spread_index)+\") \")]:[_vm._v(\" (\"+_vm._s(_vm.$t(\"cover\"))+\") \")]],2)]):_vm._e()],1),_c('div',{},[_c('label',{staticClass:\"u-label\"},[_vm._v(_vm._s(_vm.$t(\"zoom\"))+\" (\"+_vm._s(_vm.zoom)+\")\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.zoom),expression:\"zoom\",modifiers:{\"number\":true}}],attrs:{\"type\":\"range\",\"min\":\"0.1\",\"max\":\"1\",\"step\":\"0.1\"},domProps:{\"value\":(_vm.zoom)},on:{\"__r\":function($event){_vm.zoom=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),(_vm.can_edit)?_c('div',{},[_c('label',{staticClass:\"u-label\"},[_vm._v(_vm._s(_vm.$t(\"gridstep\"))+\" (\"+_vm._s(_vm.gridstep_in_cm)+\")\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.gridstep_in_cm),expression:\"gridstep_in_cm\",modifiers:{\"number\":true}}],attrs:{\"type\":\"range\",\"min\":\"0.25\",\"max\":\"4\",\"step\":\".25\"},domProps:{\"value\":(_vm.gridstep_in_cm)},on:{\"__r\":function($event){_vm.gridstep_in_cm=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]):_vm._e(),(_vm.can_edit)?_c('div',{},[_c('ModuleCreator',{attrs:{\"publication_path\":_vm.publication_path,\"page_id\":_vm.page_opened_id},on:{\"addModule\":_vm.enableModuleEdit}})],1):_vm._e()])]),_c('transition',{attrs:{\"name\":\"fade_fast\",\"mode\":\"out-in\"}},[(!_vm.is_spread)?_c('div',{key:'page-' + _vm.page_opened_id,staticClass:\"_pageNavigator\"},[_c('SinglePage',{attrs:{\"context\":'full',\"publication_path\":_vm.publication_path,\"page_modules\":_vm.getModulesForPage(_vm.page_opened_id),\"page_width\":_vm.page_width,\"page_height\":_vm.page_height,\"zoom\":_vm.zoom,\"gridstep_in_cm\":_vm.gridstep_in_cm,\"margins\":_vm.margins,\"can_edit\":_vm.can_edit},on:{\"close\":function($event){return _vm.$emit('togglePage', false)}}})],1):_c('div',{key:'spread-' + JSON.stringify(_vm.active_spread),staticClass:\"_spreadNavigator\",style:(\"min-width: ;\")},[_c('div',{staticClass:\"_spreadNavigator--content\"},_vm._l((_vm.active_spread),function(page,index){return _c('div',{key:page.id,staticClass:\"_spreadNavigator--page\",class:{\n            'is--active': page.id === _vm.page_opened_id,\n            'is--left': index === 0,\n            'is--right': index === 1,\n          }},[(page)?[_c('SinglePage',{attrs:{\"context\":'full',\"publication_path\":_vm.publication_path,\"page_modules\":_vm.getModulesForPage(page.id),\"page_width\":_vm.page_width,\"page_height\":_vm.page_height,\"zoom\":_vm.zoom,\"gridstep_in_cm\":page.id === _vm.page_opened_id ? _vm.gridstep_in_cm : 0,\"margins\":_vm.margins,\"can_edit\":_vm.can_edit && page.id === _vm.page_opened_id},on:{\"close\":function($event){return _vm.$emit('togglePage', false)}}}),(page.id !== _vm.page_opened_id)?[_c('button',{staticClass:\"_openAdjacentPageBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setPageActive(page.id)}}})]:_vm._e()]:_c('div')],2)}),0)])]),_c('transition',{attrs:{\"name\":\"slideup\",\"mode\":\"out-in\"}},[_c('div',{key:_vm.active_spread_index,staticClass:\"_navBar\"},[(!_vm.is_spread)?[_c('div',[(_vm.page_number > 0)?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.prevPage}},[_c('sl-icon',{attrs:{\"name\":\"arrow-left\"}}),_c('SinglePage',{attrs:{\"context\":'list',\"zoom\":0.1,\"page_modules\":_vm.getModulesForPage(_vm.previous_page_id),\"page_width\":_vm.page_width,\"page_height\":_vm.page_height,\"can_edit\":false}})],1):_vm._e()]),_c('div',[(_vm.page_number < _vm.pages.length - 1)?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.nextPage}},[_c('SinglePage',{attrs:{\"context\":'list',\"zoom\":0.1,\"page_modules\":_vm.getModulesForPage(_vm.next_page_id),\"page_width\":_vm.page_width,\"page_height\":_vm.page_height,\"can_edit\":false}}),_c('sl-icon',{attrs:{\"name\":\"arrow-right\"}})],1):_vm._e()])]:[_c('div',{},[(_vm.active_spread_index > 0)?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.prevSpread}},[_c('sl-icon',{attrs:{\"name\":\"arrow-left\"}}),_vm._l((_vm.spreads[_vm.active_spread_index - 1]),function(page){return [(page)?_c('SinglePage',{key:page.id,attrs:{\"context\":'list',\"zoom\":0.1,\"page_modules\":_vm.getModulesForPage(page.id),\"page_width\":_vm.page_width,\"page_height\":_vm.page_height,\"can_edit\":false}}):_vm._e()]})],2):_vm._e()]),_c('div',{},[(_vm.active_spread_index < _vm.spreads.length - 1)?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.nextSpread}},[_vm._l((_vm.spreads[_vm.active_spread_index + 1]),function(page){return [(page)?_c('SinglePage',{key:page.id,attrs:{\"context\":'list',\"zoom\":0.1,\"page_modules\":_vm.getModulesForPage(page.id),\"page_width\":_vm.page_width,\"page_height\":_vm.page_height,\"can_edit\":false}}):_vm._e()]}),_c('sl-icon',{attrs:{\"name\":\"arrow-right\"}})],2):_vm._e()])]],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"_openedPage\"\n    :class=\"{\n      'is--editable': can_edit,\n    }\"\n  >\n    <div class=\"_breadcrumb\">\n      <button\n        type=\"button\"\n        class=\"u-buttonLink\"\n        @click=\"$emit('closePublication')\"\n      >\n        {{ $t(\"publications\") }}\n      </button>\n      <sl-icon name=\"arrow-right-short\" label=\"\" />\n      <button\n        type=\"button\"\n        class=\"u-buttonLink\"\n        @click=\"$emit('togglePage', false)\"\n      >\n        {{ $t(\"pages\") }}\n      </button>\n    </div>\n    <div class=\"_topMenu\">\n      <div class=\"_topMenu--content\">\n        <div class=\"\">\n          <transition name=\"fade_fast\" mode=\"out-in\">\n            <b :key=\"page_number\">{{ $t(\"page\") }} {{ page_number + 1 }}</b>\n          </transition>\n          <transition v-if=\"is_spread\" name=\"fade_fast\" mode=\"out-in\">\n            <span :key=\"active_spread_index\">\n              <template v-if=\"page_number !== 0\">\n                ({{ $t(\"spread\") }} {{ active_spread_index }})\n              </template>\n              <template v-else> ({{ $t(\"cover\") }}) </template>\n            </span>\n          </transition>\n        </div>\n        <div class=\"\">\n          <label class=\"u-label\">{{ $t(\"zoom\") }} ({{ zoom }})</label>\n          <input\n            type=\"range\"\n            v-model.number=\"zoom\"\n            min=\"0.1\"\n            max=\"1\"\n            step=\"0.1\"\n          />\n        </div>\n        <div class=\"\" v-if=\"can_edit\">\n          <label class=\"u-label\"\n            >{{ $t(\"gridstep\") }} ({{ gridstep_in_cm }})</label\n          >\n          <input\n            type=\"range\"\n            v-model.number=\"gridstep_in_cm\"\n            min=\"0.25\"\n            max=\"4\"\n            step=\".25\"\n          />\n        </div>\n        <div class=\"\" v-if=\"can_edit\">\n          <ModuleCreator\n            :publication_path=\"publication_path\"\n            :page_id=\"page_opened_id\"\n            @addModule=\"enableModuleEdit\"\n          />\n        </div>\n      </div>\n    </div>\n    <transition name=\"fade_fast\" mode=\"out-in\">\n      <div\n        v-if=\"!is_spread\"\n        :key=\"'page-' + page_opened_id\"\n        class=\"_pageNavigator\"\n      >\n        <SinglePage\n          :context=\"'full'\"\n          :publication_path=\"publication_path\"\n          :page_modules=\"getModulesForPage(page_opened_id)\"\n          :page_width=\"page_width\"\n          :page_height=\"page_height\"\n          :zoom=\"zoom\"\n          :gridstep_in_cm=\"gridstep_in_cm\"\n          :margins=\"margins\"\n          :can_edit=\"can_edit\"\n          @close=\"$emit('togglePage', false)\"\n        />\n      </div>\n      <div\n        v-else\n        :key=\"'spread-' + JSON.stringify(active_spread)\"\n        class=\"_spreadNavigator\"\n        :style=\"`min-width: ;`\"\n      >\n        <div class=\"_spreadNavigator--content\">\n          <div\n            v-for=\"(page, index) in active_spread\"\n            :key=\"page.id\"\n            class=\"_spreadNavigator--page\"\n            :class=\"{\n              'is--active': page.id === page_opened_id,\n              'is--left': index === 0,\n              'is--right': index === 1,\n            }\"\n          >\n            <template v-if=\"page\">\n              <SinglePage\n                :context=\"'full'\"\n                :publication_path=\"publication_path\"\n                :page_modules=\"getModulesForPage(page.id)\"\n                :page_width=\"page_width\"\n                :page_height=\"page_height\"\n                :zoom=\"zoom\"\n                :gridstep_in_cm=\"\n                  page.id === page_opened_id ? gridstep_in_cm : 0\n                \"\n                :margins=\"margins\"\n                :can_edit=\"can_edit && page.id === page_opened_id\"\n                @close=\"$emit('togglePage', false)\"\n              />\n              <template v-if=\"page.id !== page_opened_id\">\n                <button\n                  type=\"button\"\n                  class=\"_openAdjacentPageBtn\"\n                  @click=\"setPageActive(page.id)\"\n                />\n              </template>\n            </template>\n            <div v-else />\n          </div>\n        </div>\n      </div>\n    </transition>\n\n    <transition name=\"slideup\" mode=\"out-in\">\n      <div class=\"_navBar\" :key=\"active_spread_index\">\n        <template v-if=\"!is_spread\">\n          <div>\n            <button type=\"button\" @click=\"prevPage\" v-if=\"page_number > 0\">\n              <sl-icon name=\"arrow-left\" />\n              <SinglePage\n                :context=\"'list'\"\n                :zoom=\"0.1\"\n                :page_modules=\"getModulesForPage(previous_page_id)\"\n                :page_width=\"page_width\"\n                :page_height=\"page_height\"\n                :can_edit=\"false\"\n              />\n            </button>\n          </div>\n          <div>\n            <button\n              type=\"button\"\n              @click=\"nextPage\"\n              v-if=\"page_number < pages.length - 1\"\n            >\n              <SinglePage\n                :context=\"'list'\"\n                :zoom=\"0.1\"\n                :page_modules=\"getModulesForPage(next_page_id)\"\n                :page_width=\"page_width\"\n                :page_height=\"page_height\"\n                :can_edit=\"false\"\n              />\n              <sl-icon name=\"arrow-right\" />\n            </button>\n          </div>\n        </template>\n        <template v-else>\n          <div class=\"\">\n            <button\n              type=\"button\"\n              @click=\"prevSpread\"\n              v-if=\"active_spread_index > 0\"\n            >\n              <sl-icon name=\"arrow-left\" />\n              <template v-for=\"page in spreads[active_spread_index - 1]\">\n                <SinglePage\n                  v-if=\"page\"\n                  :key=\"page.id\"\n                  :context=\"'list'\"\n                  :zoom=\"0.1\"\n                  :page_modules=\"getModulesForPage(page.id)\"\n                  :page_width=\"page_width\"\n                  :page_height=\"page_height\"\n                  :can_edit=\"false\"\n                />\n              </template>\n            </button>\n          </div>\n          <div class=\"\">\n            <button\n              type=\"button\"\n              @click=\"nextSpread\"\n              v-if=\"active_spread_index < spreads.length - 1\"\n            >\n              <template v-for=\"page in spreads[active_spread_index + 1]\">\n                <SinglePage\n                  v-if=\"page\"\n                  :key=\"page.id\"\n                  :context=\"'list'\"\n                  :zoom=\"0.1\"\n                  :page_modules=\"getModulesForPage(page.id)\"\n                  :page_width=\"page_width\"\n                  :page_height=\"page_height\"\n                  :can_edit=\"false\"\n                />\n              </template>\n              <sl-icon name=\"arrow-right\" />\n            </button>\n          </div>\n        </template>\n      </div>\n    </transition>\n  </div>\n</template>\n<script>\nimport SinglePage from \"@/components/publications/page_by_page/SinglePage.vue\";\nimport ModuleCreator from \"@/components/publications/modules/ModuleCreator.vue\";\n\nexport default {\n  props: {\n    page_opened_id: String,\n    publication_path: String,\n    pages: Array,\n    spreads: Array,\n    modules: Array,\n    is_spread: Boolean,\n    page_width: Number,\n    page_height: Number,\n    margins: Object,\n    can_edit: Boolean,\n  },\n  components: {\n    SinglePage,\n    ModuleCreator,\n  },\n  data() {\n    return {\n      zoom: 1,\n      gridstep_in_cm: 0.5,\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    page_number() {\n      return this.pages.findIndex((p) => p.id === this.page_opened_id);\n    },\n    previous_page_id() {\n      return this.pages[this.page_number - 1].id;\n    },\n    next_page_id() {\n      return this.pages[this.page_number + 1].id;\n    },\n    active_spread() {\n      return this.spreads[this.active_spread_index];\n    },\n    active_spread_index() {\n      return this.spreads.findIndex((pages) =>\n        pages.find((p) => p && p.id === this.page_opened_id)\n      );\n    },\n  },\n  methods: {\n    getModulesForPage(id) {\n      return this.modules.filter((f) => f.page_id === id) || [];\n    },\n    prevPage() {\n      const new_index = this.page_number - 1;\n      this.$emit(\"togglePage\", this.pages[new_index].id);\n    },\n    nextPage() {\n      const new_index = this.page_number + 1;\n      this.$emit(\"togglePage\", this.pages[new_index].id);\n    },\n    setPageActive(id) {\n      this.$emit(\"togglePage\", id);\n    },\n    prevSpread() {\n      const prev_spread = this.spreads[this.active_spread_index - 1];\n      const prev_spread_first_page = prev_spread[1].id;\n      this.$emit(\"togglePage\", prev_spread_first_page);\n    },\n    nextSpread() {\n      const next_spread = this.spreads[this.active_spread_index + 1];\n      const next_spread_first_page = next_spread[0].id;\n      this.$emit(\"togglePage\", next_spread_first_page);\n    },\n    enableModuleEdit({ meta_filename }) {\n      setTimeout(() => {\n        this.$eventHub.$emit(`module.enable_edit.${meta_filename}`);\n      }, 150);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._openedPage {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n\n  text-align: center;\n\n  display: flex;\n  flex-flow: column nowrap;\n\n  background: var(--c-bodybg);\n\n  &.is--editable {\n    background: var(--color-publish);\n  }\n\n  > ._topMenu {\n    flex: 0 0 auto;\n  }\n\n  > ._pageNavigator,\n  > ._spreadNavigator {\n    flex: 1 1 auto;\n    overflow: auto;\n  }\n}\n._navBar {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: auto;\n  width: 100%;\n  z-index: 2;\n  overflow: hidden;\n\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  pointer-events: none;\n\n  button {\n    pointer-events: auto;\n    display: flex;\n    align-items: center;\n    margin: calc(var(--spacing) / 2);\n    padding: calc(var(--spacing) / 2);\n    gap: 1px;\n    background: rgba(255, 255, 255, 0.4);\n    backdrop-filter: blur(12px);\n    border-radius: 4px;\n  }\n}\n\n._breadcrumb {\n  padding: calc(var(--spacing) / 1);\n  display: flex;\n}\n._topMenu {\n  position: relative;\n  z-index: 1;\n  padding: 0 calc(var(--spacing) * 1);\n}\n._topMenu--content {\n  background: white;\n  padding: calc(var(--spacing) / 2) calc(var(--spacing) * 1);\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  align-items: center;\n}\n\n._spreadNavigator {\n  overflow: auto;\n}\n._spreadNavigator--content {\n  display: flex;\n  flex-flow: row nowrap;\n  padding: calc(var(--spacing) * 1);\n}\n\n._spreadNavigator--page {\n  position: relative;\n  flex: 1 1 50%;\n  // overflow: hidden;\n\n  &.is--left {\n    ::v-deep {\n      ._content {\n        transform-origin: 100% 25%;\n        margin-left: auto;\n        margin-right: 0;\n      }\n      ._margins {\n        transform: scale(-1, 1);\n      }\n    }\n  }\n  &.is--right {\n    ::v-deep {\n      ._content {\n        transform-origin: 0% 25%;\n        margin-left: 0;\n        margin-right: auto;\n      }\n    }\n  }\n\n  ::v-deep {\n    ._content {\n      &::after {\n        content: \"\";\n        position: absolute;\n        inset: 0;\n        background: rgba(255, 255, 255, 0.5);\n        transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n        pointer-events: none;\n      }\n    }\n  }\n  &.is--active {\n    z-index: 1;\n\n    ::v-deep {\n      ._content {\n        &::after {\n          opacity: 0;\n        }\n      }\n    }\n  }\n  &:not(.is--active) {\n    // opacity: 0.8;\n\n    ::v-deep {\n      ._content {\n        // overflow: hidden;\n        &::after {\n          pointer-events: auto;\n          opacity: 1;\n        }\n      }\n    }\n  }\n\n  ._openAdjacentPageBtn {\n    position: absolute;\n    inset: 0;\n    width: 100%;\n    height: 100%;\n    background: transparent;\n    padding: 0;\n\n    &:hover,\n    &:focus {\n      // background: rgba(255, 255, 255, 0.2);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OpenedPageOrSpread.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OpenedPageOrSpread.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OpenedPageOrSpread.vue?vue&type=template&id=773d5dea&scoped=true&\"\nimport script from \"./OpenedPageOrSpread.vue?vue&type=script&lang=js&\"\nexport * from \"./OpenedPageOrSpread.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OpenedPageOrSpread.vue?vue&type=style&index=0&id=773d5dea&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"773d5dea\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <transition name=\"slideup\">\n      <transition-group\n        v-if=\"!page_opened_id\"\n        tag=\"div\"\n        name=\"listComplete\"\n        class=\"_allPages\"\n        key=\"allpages\"\n      >\n        <template v-if=\"!is_spread\">\n          <div\n            class=\"_page\"\n            v-for=\"(page, index) in pages\"\n            :key=\"'page-' + page.id\"\n          >\n            <div class=\"_preview\">\n              <SinglePage\n                :context=\"'list'\"\n                :zoom=\"0.2\"\n                :page_modules=\"getModulesForPage(page.id)\"\n                :page_width=\"publication.page_width\"\n                :page_height=\"publication.page_height\"\n                :can_edit=\"false\"\n              />\n              <button\n                type=\"button\"\n                class=\"_openPage\"\n                @click=\"$emit('togglePage', page.id)\"\n              />\n            </div>\n            <div class=\"_label\">\n              <b>{{ $t(\"page\") }} {{ index + 1 }}</b>\n              <RemoveMenu v-if=\"can_edit\" @remove=\"removePage(page.id)\" />\n            </div>\n          </div>\n        </template>\n        <template v-else>\n          <div\n            class=\"_spread\"\n            v-for=\"(spread, index) in spreads\"\n            :key=\"'spread-' + index\"\n          >\n            <div\n              class=\"\"\n              v-for=\"(page, iindex) in spread\"\n              :key=\"page ? page.id : iindex\"\n            >\n              <template v-if=\"page && page.id\">\n                <div class=\"_preview\">\n                  <SinglePage\n                    :context=\"'list'\"\n                    :zoom=\"0.2\"\n                    :page_modules=\"getModulesForPage(page.id)\"\n                    :page_width=\"publication.page_width\"\n                    :page_height=\"publication.page_height\"\n                    :can_edit=\"false\"\n                  />\n                  <button\n                    type=\"button\"\n                    class=\"_openPage\"\n                    @click=\"$emit('togglePage', page.id)\"\n                  />\n                  <!-- <div v-else>No preview</div> -->\n                </div>\n                <div class=\"_label\">\n                  <b>{{ $t(\"page\") }} {{ index * 2 + iindex }}</b>\n                  <RemoveMenu v-if=\"can_edit\" @remove=\"removePage(page.id)\" />\n                </div>\n              </template>\n            </div>\n          </div>\n        </template>\n        <button\n          type=\"button\"\n          class=\"u-button\"\n          @click=\"createPage\"\n          v-if=\"can_edit\"\n          key=\"createPage\"\n        >\n          {{ $t(\"create_page\") }}\n        </button>\n      </transition-group>\n\n      <OpenedPageOrSpread\n        v-else\n        key=\"openedpage\"\n        :page_opened_id=\"page_opened_id\"\n        :publication_path=\"publication.$path\"\n        :pages=\"pages\"\n        :spreads=\"spreads\"\n        :modules=\"modules\"\n        :is_spread=\"is_spread\"\n        :page_width=\"publication.page_width\"\n        :page_height=\"publication.page_height\"\n        :margins=\"margins\"\n        :can_edit=\"can_edit\"\n        @togglePage=\"$emit('togglePage', $event)\"\n        @closePublication=\"$emit('closePublication')\"\n      />\n    </transition>\n  </div>\n</template>\n<script>\nimport SinglePage from \"@/components/publications/page_by_page/SinglePage.vue\";\nimport OpenedPageOrSpread from \"@/components/publications/page_by_page/OpenedPageOrSpread.vue\";\n\nexport default {\n  props: {\n    publication: Object,\n    page_opened_id: String,\n    can_edit: Boolean,\n  },\n  components: {\n    SinglePage,\n    OpenedPageOrSpread,\n  },\n  data() {\n    return {};\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    pages() {\n      return this.publication.pages;\n    },\n    modules() {\n      return this.publication.$files;\n    },\n    is_spread() {\n      return this.publication.page_spreads === true;\n    },\n    spreads() {\n      // turn pages array into [[{id:\"\"}, {id:\"\"}], [{id:\"\"}, {id:\"\"}], [{id:\"\"}, {id:\"\"}], …]\n      //\n      const number_of_spreads = Math.floor(this.pages.length / 2 + 1);\n      let spreads = [];\n      let index = 0;\n\n      for (let i = 0; i < number_of_spreads; i++) {\n        if (spreads.length === 0) {\n          spreads.push([false, this.pages[index]]);\n          index += 1;\n        } else {\n          spreads.push([this.pages[index], this.pages[index + 1]]);\n          index += 2;\n        }\n      }\n      return spreads;\n    },\n    margins() {\n      return {\n        left: this.publication.page_margin_left,\n        right: this.publication.page_margin_right,\n        top: this.publication.page_margin_top,\n        bottom: this.publication.page_margin_bottom,\n      };\n    },\n  },\n  methods: {\n    createPage() {\n      const new_page_id = (\n        Math.random().toString(36) + \"00000000000000000\"\n      ).slice(2, 2 + 6);\n\n      let pages = this.publication.pages ? this.publication.pages.slice() : [];\n\n      pages.push({\n        id: new_page_id,\n      });\n\n      this.updatePubliMeta({\n        pages,\n      });\n    },\n    removePage(id) {\n      let pages = this.publication.pages.slice();\n      pages = pages.filter((p) => p.id !== id);\n\n      this.updatePubliMeta({\n        pages,\n      });\n    },\n    async updatePubliMeta(new_meta) {\n      return await this.$api.updateMeta({\n        path: this.publication.$path,\n        new_meta,\n      });\n    },\n    getModulesForPage(id) {\n      return this.modules.filter((f) => f.page_id === id) || [];\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._allPages {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: center;\n  align-items: center;\n  gap: calc(var(--spacing) / 1);\n}\n\n._page {\n  // position: relative;\n  // background: white;\n  // box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n  // width: 210px;\n  // height: 297px;\n}\n._spread {\n  display: flex;\n  flex-flow: row nowrap;\n}\n._preview {\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.06);\n}\n._label {\n  display: flex;\n  justify-content: center;\n  gap: calc(var(--spacing) / 2);\n  padding: calc(var(--spacing) / 4) 0;\n  margin: calc(var(--spacing) / 8);\n  background: rgba(0, 0, 0, 0.06);\n  border-radius: 4px;\n}\n\n._openPage {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PagesList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PagesList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PagesList.vue?vue&type=template&id=97b738f6&scoped=true&\"\nimport script from \"./PagesList.vue?vue&type=script&lang=js&\"\nexport * from \"./PagesList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PagesList.vue?vue&type=style&index=0&id=97b738f6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97b738f6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"_pageTemplate\">\n    <RadioSwitch\n      v-if=\"can_edit\"\n      :content.sync=\"current_view\"\n      :options=\"[\n        {\n          label: $t('settings'),\n          value: 'settings',\n        },\n        {\n          label: $t('pages'),\n          value: 'pages',\n        },\n      ]\"\n    />\n\n    <br />\n\n    <PageSettings\n      v-if=\"current_view === 'settings' && can_edit\"\n      :publication=\"publication\"\n    />\n    <PagesList\n      v-else\n      :publication=\"publication\"\n      :page_opened_id=\"page_opened_id\"\n      :can_edit=\"can_edit\"\n      @togglePage=\"$emit('togglePage', $event)\"\n      @closePublication=\"$emit('closePublication')\"\n    />\n  </div>\n</template>\n<script>\nimport PageSettings from \"@/components/publications/page_by_page/PageSettings.vue\";\nimport PagesList from \"@/components/publications/page_by_page/PagesList.vue\";\n\nexport default {\n  props: {\n    publication: Object,\n    page_opened_id: String,\n    can_edit: Boolean,\n  },\n  components: {\n    PageSettings,\n    PagesList,\n  },\n  data() {\n    return {\n      current_view: \"pages\",\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {},\n  methods: {},\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PageTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PageTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageTemplate.vue?vue&type=template&id=4cd228a9&scoped=true&\"\nimport script from \"./PageTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./PageTemplate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cd228a9\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\n\n// eslint-disable-next-line es/no-math-hypot -- required for testing\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, arity: 2, forced: BUGGY }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  hypot: function hypot(value1, value2) {\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._moveableItem[data-v-b003fa32]{transition-property:left,top,right,bottom;transition-duration:.15s;transition-timing-function:cubic-bezier(.19,1,.22,1)}._moveableItem--content[data-v-b003fa32]{height:100%;padding:0}._moveableItem--content[data-v-b003fa32]  ._content{height:100%;overflow:hidden}._coords[data-v-b003fa32]{position:absolute;bottom:0;left:0;background:#fff;margin:calc(var(--spacing)*1)}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._openedPage[data-v-773d5dea]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;text-align:center;display:flex;flex-flow:column nowrap;background:var(--c-bodybg)}._openedPage.is--editable[data-v-773d5dea]{background:var(--color-publish)}._openedPage>._topMenu[data-v-773d5dea]{flex:0 0 auto}._openedPage>._pageNavigator[data-v-773d5dea],._openedPage>._spreadNavigator[data-v-773d5dea]{flex:1 1 auto;overflow:auto}._navBar[data-v-773d5dea]{position:absolute;bottom:0;left:0;height:auto;width:100%;z-index:2;overflow:hidden;display:flex;flex-flow:row nowrap;justify-content:space-between;pointer-events:none}._navBar button[data-v-773d5dea]{pointer-events:auto;display:flex;align-items:center;margin:calc(var(--spacing)/2);padding:calc(var(--spacing)/2);gap:1px;background:hsla(0,0%,100%,.4);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:4px}._breadcrumb[data-v-773d5dea]{padding:calc(var(--spacing)/1);display:flex}._topMenu[data-v-773d5dea]{position:relative;z-index:1;padding:0 calc(var(--spacing)*1)}._topMenu--content[data-v-773d5dea]{background:#fff;padding:calc(var(--spacing)/2) calc(var(--spacing)*1);display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center}._spreadNavigator[data-v-773d5dea]{overflow:auto}._spreadNavigator--content[data-v-773d5dea]{display:flex;flex-flow:row nowrap;padding:calc(var(--spacing)*1)}._spreadNavigator--page[data-v-773d5dea]{position:relative;flex:1 1 50%}._spreadNavigator--page.is--left[data-v-773d5dea]  ._content{transform-origin:100% 25%;margin-left:auto;margin-right:0}._spreadNavigator--page.is--left[data-v-773d5dea]  ._margins{transform:scaleX(-1)}._spreadNavigator--page.is--right[data-v-773d5dea]  ._content{transform-origin:0 25%;margin-left:0;margin-right:auto}._spreadNavigator--page[data-v-773d5dea]  ._content:after{content:\\\"\\\";position:absolute;inset:0;background:hsla(0,0%,100%,.5);transition:all .4s cubic-bezier(.19,1,.22,1);pointer-events:none}._spreadNavigator--page.is--active[data-v-773d5dea]{z-index:1}._spreadNavigator--page.is--active[data-v-773d5dea]  ._content:after{opacity:0}._spreadNavigator--page[data-v-773d5dea]:not(.is--active)  ._content:after{pointer-events:auto;opacity:1}._spreadNavigator--page ._openAdjacentPageBtn[data-v-773d5dea]{position:absolute;inset:0;width:100%;height:100%;background:transparent;padding:0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._pageSettings[data-v-3fefe83f]{background:#fff;max-width:380px;padding:calc(var(--spacing)*1);margin:0 auto calc(var(--spacing)*1)}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._allPages[data-v-97b738f6]{display:flex;flex-flow:row wrap;justify-content:center;align-items:center;gap:calc(var(--spacing)/1)}._spread[data-v-97b738f6]{display:flex;flex-flow:row nowrap}._preview[data-v-97b738f6]{position:relative;overflow:hidden;box-shadow:0 3px 6px rgba(0,0,0,.06)}._label[data-v-97b738f6]{display:flex;justify-content:center;gap:calc(var(--spacing)/2);padding:calc(var(--spacing)/4) 0;margin:calc(var(--spacing)/8);background:rgba(0,0,0,.06);border-radius:4px}._openPage[data-v-97b738f6]{position:absolute;top:0;left:0;width:100%;height:100%;background:transparent}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._container[data-v-ee07f3da]{width:100%;height:calc(var(--page-height)*var(--zoom));margin:calc(var(--spacing)*2) auto}.is--preview ._container[data-v-ee07f3da]{width:calc(var(--page-width)*var(--zoom));margin:0 auto}._content[data-v-ee07f3da]{display:block;position:relative;z-index:0;margin:0 auto;width:var(--page-width,10cm);height:var(--page-height,10cm);transform:scale(var(--zoom));transform-origin:50% 25%;overflow:hidden;transition:all .4s cubic-bezier(.19,1,.22,1);background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}._singlePage.is--preview ._content[data-v-ee07f3da]{transform-origin:top left}._singlePage.is--editable ._content[data-v-ee07f3da]{overflow:visible}._grid[data-v-ee07f3da],._margins[data-v-ee07f3da]{position:absolute;top:0;width:100%;height:100%;pointer-events:none}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../css-loader/dist/cjs.js??clonedRuleSet-11[0].rules[0].use[1]!../../postcss-loader/dist/cjs.js??clonedRuleSet-11[0].rules[0].use[2]!../../postcss-loader/dist/cjs.js??clonedRuleSet-11[0].rules[0].use[3]!./yoyoo-ddr.css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9124acb2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MoveableItem.vue?vue&type=style&index=0&id=b003fa32&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0c50f13a\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OpenedPageOrSpread.vue?vue&type=style&index=0&id=773d5dea&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"e4d6e09c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PageSettings.vue?vue&type=style&index=0&id=3fefe83f&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2889d01c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PagesList.vue?vue&type=style&index=0&id=97b738f6&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"e22a841c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SinglePage.vue?vue&type=style&index=0&id=ee07f3da&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f75c02e2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-29[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-29[0].rules[0].use[2]!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-29[0].rules[0].use[3]!../../node_modules/less-loader/dist/cjs.js??clonedRuleSet-29[0].rules[0].use[4]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7060f4ae\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","current_view","label","$t","value","on","$event","_e","can_edit","publication","page_opened_id","$emit","staticRenderFns","page_spreads","$path","_v","_s","edit_mode","domProps","predefined_format_from_width","setSizeFromFormat","_l","option","key","text","directives","name","rawName","expression","modifiers","target","composing","new_page_width","_n","$forceUpdate","new_page_height","enableEditMode","is_saving","updateSize","cancel","props","components","data","format_options","width","height","created","mounted","beforeDestroy","watch","computed","f","methods","page_width","page_height","path","new_meta","closeLogOnClick","delay","error","component","top","bottom","is_spread","left","right","updateMargins","page_margin_top","page_margin_bottom","page_margin_left","page_margin_right","WidthHeightField","SetMargins","pages","spreads","modules","margins","spread","index","page","iindex","id","getModulesForPage","removePage","createPage","class","context","style","currentTarget","active_module","gridstep","publimodule","magnification","zoom","transformMargins","component_key","is_active","transform","grid","dragEnd","resizeEnd","rotateEnd","setActive","Vector","constructor","lst","_values","toString","join","length","dot","vector","map","item","reduce","a","b","Error","get","Matrix","values","static","shape","Array","fill","valueOf","JSON","parse","stringify","rows","cols","rowVector","row","slice","colVector","col","v","forEach","v1","newMatrix","zeros","i","j","T","_","colIndex","rowIndex","pointMap","br","bm","bl","l","tl","tm","tr","r","handlerPointMap","pointMap2","widthMap","heightMap","tr2bl","deg2rad","deg","Math","PI","rad2deg","rad","getPoints","x","y","rotation","wc","hc","cos","sin","rect","getSize","type","dis","pressAngle","startAngle","w","h","currentAngle","atan2","cursorMap","handlerMap","getHandler","originIndex","currentIndex","floor","default","handlerSize","active","resizeHandler","resizable","rotatable","draggable","acceptRatio","minWidth","minHeight","maxWidth","maxHeight","parent","beforeActive","renderContent","stop","prevent","axis","currentRatio","isInitialRatio","isDragging","isResizing","isRotating","isReadyToDrag","isReadyToResize","isReadyToRotate","rotateHandler","handleDefaultEvent","e","getNewHandler","cursor","emitChange","handleMouseDown","clientX","clientY","minLeft","maxLeft","minTop","maxTop","maxLeftWidth","maxRightWidth","maxTopHeight","maxBottomHeight","document","handleMouseMove","doMove","restrictToLeftOfParent","restrictToTopOfParent","restrictHeight","restrictWidth","handleMouseUp","drag","resize","rotate","handleResizeStart","matrix","opposite","opp2","offsetX","offsetY","handleResizeMove","handleRotateStart","cx","cy","handleRotateMove","roundRotate","getClassNames","DDR","PublicationModule","handler","deep","module_meta_filename","setNewComponentKey","setTransformFromPubli","Object","was_updated","turnCMtoPX","turnPXtoCM","roundToDec","updateMeta","catch","duplicateModule","publication_path","page_modules","gridstep_in_cm","MoveableItem","items","src","page_styles","page_number","active_spread_index","enableModuleEdit","active_spread","setPageActive","prevSpread","nextSpread","prevPage","previous_page_id","nextPage","next_page_id","SinglePage","ModuleCreator","meta_filename","setTimeout","OpenedPageOrSpread","PageSettings","PagesList","$","$hypot","hypot","abs","sqrt","BUGGY","Infinity","NaN","stat","arity","forced","value1","value2","arg","div","sum","aLen","arguments","larg","___CSS_LOADER_EXPORT___","push","module","content","__esModule","locals","exports","add"],"sourceRoot":""}