(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[184],{9026:function(t,e,a){"use strict";a.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_mediaPicker"},[a("PickMediaFromProjects",{attrs:{path:t.current_project_path},on:{selectMedia:function(e){return t.$emit("selectMedia",e)},close:function(e){return t.$emit("close")}}})],1)},r=[],n={props:{publication_path:String},components:{},data(){return{}},async created(){},beforeDestroy(){},watch:{},computed:{current_project_path(){const t=this.getParent(this.publication_path);return this.getParent(t)}},methods:{}},o=n,s=(a(8260),a(1001)),l=(0,s.Z)(o,i,r,!1,null,"89343b6c",null),d=l.exports},6843:function(t,e,a){"use strict";a.d(e,{Z:function(){return k}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_publicationModule",class:{"is--shape":t.is_shape}},[t.can_edit&&"page_by_page"!==t.page_template?a("div",{staticClass:"_sideOptions"},[a("span",[t.$listeners.hasOwnProperty("moveUp")&&"first"!==t.module_position&&"alone"!==t.module_position?a("button",{staticClass:"_sideBtns _moveBefore",attrs:{type:"button"},on:{click:function(e){return t.$emit("moveUp")}}},[a("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[a("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M87.46,49.46,73.39,64.77a65.3,65.3,0,0,1-6.15,6.15A47.8,47.8,0,0,1,61,75.29H131.6V91.14H61A39.1,39.1,0,0,1,67,95.51q2.81,2.46,6.36,6.15L87.46,117,74.48,128,34.17,83.21,74.48,38.39Z"}})])]):t._e()]),a("div",{staticClass:"_options"},[a("button",{staticClass:"_sideBtns",class:{"is--active":t.show_advanced_menu},attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.show_advanced_menu=!t.show_advanced_menu}}},[a("svg",{staticStyle:{fill:"currentColor"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 48 48","xml:space":"preserve"}},[a("circle",{attrs:{cx:"12",cy:"24",r:"4"}}),a("circle",{attrs:{cx:"24",cy:"24",r:"4"}}),a("circle",{attrs:{cx:"36",cy:"24",r:"4"}})])]),t.show_advanced_menu?a("div",{staticClass:"_advanced_menu"},[a("sl-button",{attrs:{variant:"default",size:"small",pill:""}},[t._v(" "+t._s(t.$t("module.label."+t.publimodule.module_type))+" ")]),a("div",{staticClass:"_buttonRow"},[a("button",{staticClass:"u-button",attrs:{type:"button",disabled:!t.publimodule.size||100===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:100})}}},[t._v(" 100% ")]),a("button",{staticClass:"u-button",attrs:{type:"button",disabled:66.6===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:66.6})}}},[t._v(" 66% ")]),a("button",{staticClass:"u-button",attrs:{type:"button",disabled:50===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:50})}}},[t._v(" 50% ")]),a("button",{staticClass:"u-button",attrs:{type:"button",disabled:33.3===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:33.3})}}},[t._v(" 33% ")])]),a("div",{staticClass:"_buttonRow"},[a("button",{staticClass:"u-button",attrs:{type:"button",disabled:!t.publimodule.align||"left"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"left"})}}},[a("sl-icon",{attrs:{name:"align-start"}})],1),a("button",{staticClass:"u-button",attrs:{type:"button",disabled:"center"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"center"})}}},[a("sl-icon",{attrs:{name:"align-center"}})],1),a("button",{staticClass:"u-button",attrs:{type:"button",disabled:"right"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"right"})}}},[a("sl-icon",{attrs:{name:"align-end"}})],1)]),a("div",{staticClass:"_buttonRow"},[a("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.duplicateModule}},[t._v(" "+t._s(t.$t("duplicate"))+" ")]),a("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.removeModule}},[t._v(" "+t._s(t.$t("remove"))+" ")])])],1):t._e()]),a("span",[t.$listeners.hasOwnProperty("moveDown")&&"last"!==t.module_position&&"alone"!==t.module_position?a("button",{staticClass:"_sideBtns _moveAfter",attrs:{type:"button"},on:{click:function(e){return t.$emit("moveDown")}}},[a("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[a("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M78.31,117l14.07-15.31a65.3,65.3,0,0,1,6.15-6.15,47.52,47.52,0,0,1,6.29-4.37H34.17V75.29h70.65a39.1,39.1,0,0,1-6.08-4.37q-2.8-2.46-6.36-6.15L78.31,49.46l13-11.07L131.6,83.21,91.29,128Z"}})])]):t._e()])]):t._e(),a("div",{staticClass:"_content",style:t.media_styles},["mosaic"===t.publimodule.module_type?a("ModuleMosaic",{attrs:{publimodule:t.publimodule,can_edit:t.can_edit,context:t.context,page_template:t.page_template,number_of_max_medias:t.number_of_max_medias},on:{updateMeta:t.updateMeta,remove:t.removeModule}}):"carousel"===t.publimodule.module_type?a("ModuleCarousel",{attrs:{publimodule:t.publimodule,context:t.context,can_edit:t.can_edit}}):"text"===t.publimodule.module_type&&t.first_media?a("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.first_media.$path,content:t.first_media.$content,scrollingContainer:t.$el,line_selected:!1,can_edit:t.can_edit},on:{lineClicked:function(e){return t.$emit("lineClicked",e)},contentIsEdited:function(e){return t.$emit("contentIsEdited",e)},contentIsNotEdited:function(e){return t.$emit("contentIsNotEdited",e)}}}):t.is_shape?[a("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},["ellipsis"===t.publimodule.module_type?a("circle",{attrs:{cx:"50",cy:"50",r:50-t.publimodule.outline_width*t.magnification/8,"vector-effect":"non-scaling-stroke"}}):"rectangle"===t.publimodule.module_type?a("rect",{attrs:{x:t.publimodule.outline_width*t.magnification/4,y:t.publimodule.outline_width*t.magnification/4,width:100-t.publimodule.outline_width*t.magnification/2,height:100-t.publimodule.outline_width*t.magnification/2,"vector-effect":"non-scaling-stroke",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}):"line"===t.publimodule.module_type?a("g",[a("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}),a("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}})]):"arrow"===t.publimodule.module_type?a("g",[a("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}),a("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}}),a("g",{attrs:{transform:"\n              translate("+(100-(t.publimodule.outline_width*t.magnification/4||0))+", 50)",preserveAspectRatio:""}},[a("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"-10","vector-effect":"non-scaling-stroke"}}),a("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"10","vector-effect":"non-scaling-stroke"}})])]):t._e()])]:"free_drawing"===t.publimodule.module_type?void 0:a("small",[t._v(t._s(t.$t("nothing_to_show")))])],2)])},r=[],n=(a(2262),a(4506),a(6699),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[a("div",{key:t.is_multiple_medias?"multiple":"single",staticClass:"_moduleMosaic",class:{"is--multipleMedias":t.is_multiple_medias},style:"--number_of_medias: "+t.medias_with_linked.length},[a("div",{staticClass:"_mediaGrid"},[t._l(t.medias_with_linked,(function(e,i){return a("div",{key:e._linked_media.$path||"none",staticClass:"_mediaGrid--item",style:t.itemStyle({media_with_linked:e})},[a("MediaContent",{attrs:{file:e._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fullscreen_button:"preview"!==t.context}}),t.can_edit?a("div",{staticClass:"_btnRow"},[(t.is_multiple_medias||"page_by_page"===t.page_template&&!t.single_media_displayed_at_full_ratio)&&e.objectFit&&"cover"!==e.objectFit?a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.frameFit({index:i,opt:{objectFit:"cover"}})}}},[t._v(" "+t._s(t.$t("object_fit_cover"))+" ")]):t._e(),(t.is_multiple_medias||"page_by_page"===t.page_template&&!t.single_media_displayed_at_full_ratio)&&"contain"!==e.objectFit?a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.frameFit({index:i,opt:{objectFit:"contain"}})}}},[t._v(" "+t._s(t.$t("object_fit_contain"))+" ")]):t._e(),t.is_multiple_medias?a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.removeMediaAtIndex(i)}}},[t._v(" "+t._s(t.$t("remove"))+" ")]):t._e()]):t._e()],1)})),t.can_edit&&(!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias)?a("div",{staticClass:"_mediaPickerTile"},[t.show_media_picker?a("MediaPicker",{attrs:{publication_path:t.publication_path},on:{selectMedia:t.selectMedia,close:function(e){t.show_media_picker=!1}}}):a("sl-icon-button",{staticClass:"u-colorBleuvert",attrs:{name:"plus-circle-fill",label:t.$t("add_media")},on:{click:function(e){t.show_media_picker=!0}}}),a("transition",{attrs:{name:"dropzone",duration:150}},[t.show_dropzone&&t.medias_with_linked.length<t.number_of_max_medias?a("div",{staticClass:"_dropzone"},[a("DropZone",{on:{mediaDropped:t.selectMedia}})],1):t._e()])],1):t._e()],2)])])}),o=[],s=(a(7658),a(9026)),l={props:{publimodule:Object,can_edit:Boolean,context:{type:String,default:"full"},page_template:String,number_of_max_medias:[Boolean,Number]},components:{MediaPicker:s.Z},data(){return{show_media_picker:!1,show_dropzone:!1}},created(){},mounted(){this.$eventHub.$on("mediadrag.start",this.showDropzone),this.$eventHub.$on("mediadrag.end",this.hideDropzone)},beforeDestroy(){this.$eventHub.$off("mediadrag.start",this.showDropzone),this.$eventHub.$off("mediadrag.end",this.hideDropzone)},watch:{},computed:{publication_path(){return this.getParent(this.publimodule.$path)},single_media_displayed_at_full_ratio(){var t;if(this.medias_with_linked.length>1)return!1;const e=null===(t=this.medias_with_linked[0]._linked_media.$infos)||void 0===t?void 0:t.ratio;return Math.round(10*e)===Math.round(this.publimodule.height/this.publimodule.width*10)},medias_with_linked(){return this.publimodule.source_medias?this.publimodule.source_medias.map((t=>{const e=this.getSourceMedia({source_media:t,folder_path:this.publication_path});return Object.assign({},t,{_linked_media:e})})):[]},is_multiple_medias(){return this.medias_with_linked.length>1}},methods:{selectMedia({path_to_source_media:t}){const e=this.publimodule.source_medias.slice();e.push({path:t}),this.$emit("updateMeta",{source_medias:e}),this.show_media_picker=!1},removeMediaAtIndex(t){const e=this.publimodule.source_medias.slice();e.splice(t,1),0===e.length?this.$emit("remove"):this.$emit("updateMeta",{source_medias:e})},frameFit({index:t,opt:e}){const a=this.publimodule.source_medias.slice();Object.assign(a[t],e),this.$emit("updateMeta",{source_medias:a})},itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},showDropzone(){this.show_dropzone=!0},hideDropzone(){this.show_dropzone=!1}}},d=l,c=(a(434),a(1001)),u=(0,c.Z)(d,n,o,!1,null,"1c4d56c0",null),p=u.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" ModuleCarousel "),t._l(t.medias,(function(e){return a("div",{key:e.$path},[e?a("MediaContent",{attrs:{file:e,resolution:1600,context:"full"}}):t._e()],1)}))],2)},m=[],f={props:{publimodule:Object,medias:Array},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},g=f,v=(0,c.Z)(g,h,m,!1,null,"1491e03e",null),b=v.exports,y={props:{publimodule:Object,module_position:String,can_edit:Boolean,magnification:Number,borderRadius:Number,context:String,page_template:String,number_of_max_medias:{type:[Boolean,Number],default:!1}},components:{ModuleMosaic:p,ModuleCarousel:b},data(){return{show_advanced_menu:!1}},created(){},mounted(){this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.enableEditForText),this.$eventHub.$on(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$on(`module.remove.${this.module_meta_filename}`,this.removeModule)},beforeDestroy(){this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.enableEditForText),this.$eventHub.$off(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$off(`module.remove.${this.module_meta_filename}`,this.removeModule)},watch:{},computed:{module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},is_shape(){return["ellipsis","rectangle","line","arrow"].includes(this.publimodule.module_type)},first_media(){if(!this.publimodule.source_medias||0===this.publimodule.source_medias.length)return!1;const t=this.publimodule.source_medias[0];if(t){const e=this.getParent(this.publimodule.$path);return this.getSourceMedia({source_media:t,folder_path:e})}return!1},media_styles(){let t=0;return"center"===this.publimodule.align&&(66.6===this.publimodule.size?t=16.6:50===this.publimodule.size?t=25:33.3===this.publimodule.size&&(t=33.3)),"right"===this.publimodule.align&&(66.6===this.publimodule.size?t=33.3:50===this.publimodule.size?t=50:33.3===this.publimodule.size&&(t=66.6)),{"--module-width":this.publimodule.size||100,"--module-margin-left":t}}},methods:{async updateMeta(t){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},enableEditForText(){this.$nextTick((()=>{this.$refs.textBloc&&this.$refs.textBloc.enableEditor()}))},async duplicateModule(){let t={};"page_by_page"===this.page_template&&(t.x=(this.publimodule.x||0)+10,t.y=(this.publimodule.y||0)+10);const e=await this.duplicateModuleWithSourceMedias({og_module:this.publimodule,addtl_meta_to_module:t});this.$emit("duplicate",e)},async removeModule(){await this.$api.deleteItem({path:this.publimodule.$path}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.$emit("remove")}}},_=y,w=(a(4284),(0,c.Z)(_,i,r,!1,null,"02d3771c",null)),k=w.exports},5997:function(t,e,a){"use strict";a.d(e,{Z:function(){return H}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_singlePage",class:{"is--preview":"preview"===t.context,"is--editable":t.can_edit}},[a("div",{staticClass:"_pagecontainer",style:t.page_styles},[a("div",{staticClass:"_pagecontent"},[t.can_edit&&t.show_grid?a("svg",{staticClass:"_grid",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"}},[a("defs",[a("pattern",{attrs:{id:"gridSmall",width:t.gridstep,height:t.gridstep,patternUnits:"userSpaceOnUse"}},[a("path",{attrs:{d:"M "+t.gridstep+" 0 L 0 0 0 "+t.gridstep,fill:"none",stroke:"var(--c-gridlines)",strokeWidth:"1"}})]),a("pattern",{attrs:{id:"grid",width:5*t.gridstep,height:5*t.gridstep,patternUnits:"userSpaceOnUse"}},[a("rect",{attrs:{width:5*t.gridstep,height:5*t.gridstep,fill:"url(#gridSmall)"}}),a("path",{attrs:{d:"M "+5*t.gridstep+" 0 L 0 0 0 "+5*t.gridstep,fill:"none",stroke:"var(--c-gridfiveslines)",strokeWidth:"1"}})])]),a("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})]):t._e(),t._l(t.page_modules,(function(e){return a("MoveableItem",{key:e.$path,staticClass:"_item",attrs:{context:t.context,publimodule:e,magnification:t.magnification,gridstep:t.show_grid&&t.snap_to_grid?t.gridstep:1,scale:t.scale,can_edit:t.can_edit,is_active:t.active_module.$path===e.$path}})})),t.can_edit&&t.l_margins?a("svg",{staticClass:"_margins",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"}},[a("rect",{attrs:{x:t.magnify(t.l_margins.left),y:t.magnify(t.l_margins.top),width:t.magnify(t.page_width-t.l_margins.left-t.l_margins.right),height:t.magnify(t.page_height-t.l_margins.top-t.l_margins.bottom)}})]):t._e(),t.pagination&&!t.hide_pagination&&t.page_number_corrected>0?a("div",{staticClass:"_pagination",style:t.pagination_styles},[t._v(" "+t._s(t.page_number_corrected)+" ")]):t._e(),t.can_edit&&t.l_margins?a("svg",{staticClass:"_pageBorders",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"}},[a("rect",{attrs:{x:"0",y:"0",width:t.magnify(t.page_width),height:t.magnify(t.page_height),stroke:"black"}})]):t._e()],2)])])},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("DDR",{key:t.component_key,staticClass:"_moveableItem",class:{"is--locked":!0===t.publimodule.locked,"is--editable":t.can_edit,"is--active":t.can_edit&&t.is_active,"is--beingEdited":t.content_is_edited,"panzoom-exclude":t.can_edit},style:t.module_z_index,attrs:{active:t.can_edit&&t.is_active&&!0!==t.publimodule.locked&&!0!==t.content_is_edited,value:t.transform,parent:!1,acceptRatio:t.aspect_ratio,handlerSize:15,grid:t.grid,id:t.publimodule.$path,zoom:t.scale},on:{dragstart:t.dragStart,drag:t.onDrag,dragend:t.dragEnd,resizestart:t.resizeStart,resizeend:t.resizeEnd,rotateend:t.rotateEnd}},[a("span",{staticClass:"_activator",on:{mousedown:t.setActive,dblclick:t.dblClick}},[a("PublicationModule",{staticClass:"_moveableItem--content",style:t.module_styles,attrs:{publimodule:t.publimodule,can_edit:t.can_edit&&t.is_active,borderRadius:t.turnCMtoPX(t.publimodule.border_radius)||0,context:t.context,page_template:"page_by_page",number_of_max_medias:1,magnification:t.magnification},on:{duplicate:t.onDuplicateModule,contentIsEdited:t.contentIsEdited,contentIsNotEdited:t.contentIsNotEdited}})],1),t.can_edit?a("div",{staticClass:"_unlockBtn"},[!0===t.publimodule.locked?a("button",{staticClass:"u-button u-button_orange u-button_small u-button_round u-colorBlack",attrs:{type:"button"},on:{click:function(e){return t.unlock()}}},[a("sl-icon",{attrs:{name:"lock"}})],1):t._e(),!t.can_edit||!t.is_active||t.content_is_edited||t.publimodule.locked&&!1!==t.publimodule.locked?t._e():a("button",{staticClass:"u-button u-button_orange u-button_small u-button_round u-colorBlack",attrs:{type:"button"},on:{click:function(e){return t.lock()}}},[a("sl-icon",{attrs:{name:"unlock"}})],1)]):t._e()])},o=[];a(2262),a(4506),a(6699),a(7658),a(1703),a(5827);class s{constructor(t){this._values=t}toString(){return`Vector(${this._values.join(", ")})`}get length(){return this._values.length}dot(t){if(t instanceof s&&this.length===t.length)return this._values.map(((e,a)=>e*t._values[a])).reduce(((t,e)=>t+e));throw Error("The param `vector` must instance of Vector")}get(t){return this._values[t]}}var l=s;class d{constructor(t){this._values=t}static zeros(t){return new d(new Array(t[0]).fill(null).map((()=>new Array(t[1]).fill(0))))}valueOf(){return JSON.parse(JSON.stringify(this._values))}toString(){return"Matrix ( "+this._values.map((t=>t.join(" "))).join(", ")+" )"}rows(){return this._values.length}cols(){return this._values[0].length}rowVector(t){return new l(this._values[t].slice(0))}colVector(t){let e=new Array(this.rows()).fill(0);return this._values.forEach(((a,i)=>{e[i]=a[t]})),new l(e)}dot(t){if(t instanceof l&&this.cols()===t.length)return new l(new Array(t.length).fill(null).map(((e,a)=>this.rowVector(a).dot(t))));if(t instanceof d&&this.cols()===t.rows()){let e,a=t.cols(),i=t.rows(),r=d.zeros([i,a]);for(let n=0;n<a;n++){e=this.dot(t.colVector(n));for(let t=0;t<i;t++)r._values[t][n]=e.get(t)}return r}throw Error("expected a Vector or Matrix but got "+typeof t)}get(t,e){return this._values[t][e]}T(){return new d(new Array(this.cols()).fill(null).map(((t,e)=>new Array(this.rows()).fill(0).map(((t,a)=>this.get(a,e))))))}}var c=d;const u={br:0,bm:1,bl:2,l:3,tl:4,tm:5,tr:6,r:7},p={tl:0,tm:1,tr:2,r:3,br:4,bm:5,bl:6,l:7},h={br:0,bm:0,bl:2,l:2,tl:4,tm:4,tr:6,r:6},m={l:1,r:1},f={tm:1,bm:1},g={tr:1,bl:1,r:1,l:1};function v(t){return t*Math.PI/180}function b(t){return 180*t/Math.PI}function y({x:t,y:e,width:a,height:i,rotation:r},n){let o=r*Math.PI/180,s=a/2*n,l=i/2*n,d=new c([[Math.cos(o),Math.sin(o)],[-Math.sin(o),Math.cos(o)]]),u=new c([[-s,l],[0,l],[s,l],[s,0],[s,-l],[0,-l],[-s,-l],[-s,0]]);return d.dot(u.T()).T().valueOf().map((a=>({x:a[0]+s+t*n,y:-(a[1]-l)+e*n})))}function _({type:t,x:e,y:a,dis:i,pressAngle:r,startAngle:n}){let o,s,l=b(Math.atan2(a,e)),d=v(r+l-n);return g[t]?(s=Math.cos(d)*i,o=Math.sin(d)*i):(s=Math.sin(d)*i,o=Math.cos(d)*i),{w:o,h:s}}const w=["nw","n","ne","e","se","s","sw","w"],k={tl:0,tm:1,tr:2,r:3,br:4,bm:5,bl:6,l:7};function x(t,e){let a=k[t],i=(a+Math.floor(e/45))%8;return w[i]}var M,A,E={name:"ddr",props:{value:{default:function(){return{x:0,y:0,width:100,height:100,rotation:0}},type:Object},handlerSize:{type:Number,default:11},active:{default:!0,type:Boolean},resizeHandler:{default:function(){return["tl","tm","tr","r","br","bm","bl","l"]},type:Array},resizable:{default:!0,type:Boolean},rotatable:{default:!0,type:Boolean},draggable:{default:!0,type:Boolean},acceptRatio:{default:!1,type:Boolean},minWidth:{type:Number,default:1},minHeight:{type:Number,default:1},maxWidth:{type:Number,default:1e8},maxHeight:{type:Number,default:1e8},parent:{type:Boolean,default:!1},beforeActive:{type:Function,default:()=>!1},id:[Number,String],renderContent:Function,grid:{type:Array,default:()=>[1,1]},stop:{default:!0,type:Boolean},prevent:{default:!0,type:Boolean},zoom:{default:1,type:Number},axis:{type:String,default:"xy"}},data(){return{transform:Object.assign({},this.value),currentRatio:1,isInitialRatio:!1,isDragging:!1,isResizing:!1,isRotating:!1,isReadyToDrag:!1,isReadyToResize:!1,isReadyToRotate:!1}},created(){this.localeTransform={...this.transform}},watch:{value(t){this.transform={...t}}},computed:{rotateHandler(){let t=Math.ceil(this.handlerSize/this.zoom)+"px";return`width:${t};height:${t};top:-25px;margin-left:${-Math.floor(this.handlerSize/2)}px`},style(){let t=this.transform;return`left:${t.x}px;top:${t.y}px;width:${t.width}px;height:${t.height}px;transform:rotate(${t.rotation}deg)`}},methods:{handleDefaultEvent(t){this.stop&&t.stopPropagation(),this.prevent&&t.preventDefault()},getNewHandler(t){let e=x(t,this.transform.rotation),{handlerSize:a}=this,i={},r=-Math.floor(a/2)+"px";switch(t){case"tl":i={top:r,left:r};break;case"tm":i={top:r,"margin-left":r};break;case"tr":i={right:r,top:r};break;case"r":i={right:r,"margin-top":r};break;case"br":i={bottom:r,right:r};break;case"bm":i={"margin-left":r,bottom:r};break;case"bl":i={left:r,bottom:r};break;case"l":i={"margin-top":r,left:r};break}let n={cursor:e+"-resize",width:Math.ceil(a/this.zoom)+"px",height:Math.ceil(a/this.zoom)+"px",...i};return Object.keys(n).map((t=>`${t}:${n[t]}`)).join(";")},emitChange(){this.$emit("input",{...this.transform})},handleMouseDown(t){if(!this.active&&!this.beforeActive(this.id))return;this.handleDefaultEvent(t);let e=t.touches?t.touches[0]:t,{clientX:a,clientY:i}=e;if(this._lastX=a,this._lastY=i,this._activeTarget=t.target,this._parentRect=this.$refs.wrapper.parentNode.getBoundingClientRect(),this._resizeHandler=t.target.dataset.resizetype,this.localeTransform={...this.transform},this.parent){let t=0,e=this._parentRect.width/this.zoom-this.transform.width,a=0,i=this._parentRect.height/this.zoom-this.transform.height,r=this.transform.x+this.transform.width,n=this._parentRect.width/this.zoom-this.transform.x,o=this.transform.y+this.transform.height,s=this._parentRect.height/this.zoom-this.transform.y;this.bounday={minLeft:t,maxLeft:e,minTop:a,maxTop:i,maxLeftWidth:r,maxRightWidth:n,maxTopHeight:o,maxBottomHeight:s}}document.addEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("touchmove",this.handleMouseMove,!1),document.addEventListener("touchend",this.handleMouseUp,!1),document.addEventListener("mouseup",this.handleMouseUp,!1),"rotate"===t.target.dataset.type?(this._handlerType="rotate",this.isReadyToRotate=!0,this.handleRotateStart(t),this.$emit("rotatestart",t,this.transform)):this._activeTarget.dataset.resizetype?(this._handlerType="resize",this.isReadyToResize=!0,this.handleResizeStart(t),this.$emit("resizestart",t,this.transform)):(this._handlerType="drag",this.isReadyToDrag=!0,this.draggable&&this.$emit("dragstart",t,this.transform))},handleMouseMove(t){this.handleDefaultEvent(t);let{clientX:e,clientY:a}=t.touches?t.touches[0]:t;this.isReadyToDrag=!1,this.isReadyToResize=!1,this.isReadyToRotate=!1,this._deltaX=e-this._lastX,this._deltaY=a-this._lastY,this._lastX=e,this._lastY=a,"resize"===this._handlerType?(this.isResizing=!0,this.handleResizeMove(t),this.$emit("resize",t,this.transform)):"drag"===this._handlerType&&this.draggable?(this.isDragging=!0,this.doMove(t),this.$emit("drag",t,this.transform)):"rotate"===this._handlerType&&(this.isRotating=!0,this.handleRotateMove(t),this.$emit("rotate",t,this.transform)),this.emitChange()},doMove(){let[t,e]=this.grid,a=this._deltaX/this.zoom,i=this._deltaY/this.zoom,r=this.localeTransform.x=Math.round(this.localeTransform.x+a),n=this.localeTransform.y=Math.round(this.localeTransform.y+i);this.axis.includes("x")&&(r>this.transform.x?this.transform.x=this.restrictToLeftOfParent(r-r%t):r<this.transform.x&&(this.transform.x=this.restrictToLeftOfParent(r-(r%t-t)))),this.axis.includes("y")&&(n>this.transform.y?this.transform.y=this.restrictToTopOfParent(n-n%e):n<this.transform.y&&(this.transform.y=this.restrictToTopOfParent(n-(n%e-e))))},restrictToLeftOfParent(t){return this.parent?(t=Math.max(this.bounday.minLeft,t),t=Math.min(this.bounday.maxLeft,t),t):t},restrictToTopOfParent(t){return this.parent?(t=Math.max(this.bounday.minTop,t),t=Math.min(this.bounday.maxTop,t),t):t},restrictHeight(t,e){return!this.parent||this.transform.rotation>0?t:["bl","bm","br"].includes(e)?Math.min(this.bounday.maxBottomHeight,t):["tl","tm","tr"].includes(e)?Math.min(this.bounday.maxTopHeight,t):t},restrictWidth(t,e){return!this.parent||this.transform.rotation>0?t:["tl","l","bl"].includes(e)?Math.min(this.bounday.maxLeftWidth,t):["tr","r","br"].includes(e)?Math.min(this.bounday.maxRightWidth,t):t},handleMouseUp(t){this.handleDefaultEvent(t),document.removeEventListener("mousemove",this.handleMouseMove,!1),document.removeEventListener("mouseup",this.handleMouseUp,!1),document.removeEventListener("touchmove",this.handleMouseMove,!1),document.removeEventListener("touchend",this.handleMouseUp,!1);let e={drag:"draggable",resize:"resizable",rotate:"rotatable"};this.isInitialRatio=this.isDragging=this.isResizing=this.isRotating=!1,this.isReadyToDrag=this.isReadyToResize=this.isReadyToRotate=!1,this[e[this._handlerType]]&&this.$emit(this._handlerType+"end",t,this.transform)},handleResizeStart(t){let e,a=this._resizeHandler,i=this.transform,r=y(i,this.zoom),n=r[u[a]],o=r[h[a]],{clientX:s,clientY:l}=t.touches?t.touches[0]:t,d=r[p[a]],c=s-d.x,v=l-d.y,_=s-o.x-c,w=l-o.y-v,k=i.width,x=i.height;e=g[a]?b(Math.atan2(k,m[a]?x/2:x)):b(Math.atan2(x,f[a]?k/2:k));let M=b(Math.atan2(w,_));this._resizeOpt={matrix:r,rect:i,type:a,opposite:n,opp2:o,pressAngle:e,startAngle:M,offsetX:c,offsetY:v}},handleResizeMove(t){let{clientX:e,clientY:a}=t.touches?t.touches[0]:t,{opposite:i,opp2:r,type:n,pressAngle:o,startAngle:s,offsetX:l,offsetY:d}=this._resizeOpt,c=e-r.x-l,p=a-r.y-d,h=Math.hypot(p,c),g=t.shiftKey||this.acceptRatio,[v,b]=this.grid;!this.isInitialRatio&&g&&(this.currentRatio=this.transform.width/this.transform.height,this.isInitialRatio=!0),g||(this.isInitialRatio=!1);let{w:w,h:k}=_({type:n,dis:h,x:c,y:p,startAngle:s,pressAngle:o}),x={...this.localeTransform};this.isInitialRatio&&(m[n]?k=w/this.currentRatio:w=k*this.currentRatio),w/=this.zoom,k/=this.zoom,w=Math.min(Math.max(Math.round(w),this.minWidth),this.maxWidth),k=Math.min(Math.max(Math.round(k),this.minHeight),this.maxHeight),m[n]&&!g?x.width=w:(f[n]&&!g||(x.width=w),x.height=k);let M=this._resizeHandler;x.width%v>0&&(x.width>this.localeTransform.width?x.width=x.width-x.width%v:x.width=x.width-(x.width%v-v)),x.height%b>0&&(x.height>this.localeTransform.height?x.height=x.height-x.height%b:x.height=x.height-(x.height%b-b)),x.height=this.restrictHeight(x.height,M),x.width=this.restrictWidth(x.width,M);let A=y(x,this.zoom),E=A[u[n]],S=-(E.x-i.x)/this.zoom,L=-(E.y-i.y)/this.zoom;x.x=Math.round(x.x+S),x.y=Math.round(x.y+L),this.transform=x},handleRotateStart(t){let{clientX:e,clientY:a}=t.touches?t.touches[0]:t,i=this.$refs.wrapper.getBoundingClientRect(),r=i.left+i.width/2,n=i.top+i.height/2,o=180/Math.PI*Math.atan2(a-n,e-r),s=this.transform.rotation;this._rotateOpt={cx:r,cy:n,startAngle:o,rotation:s}},handleRotateMove(t){let{cx:e,cy:a,startAngle:i,rotation:r}=this._rotateOpt,{clientX:n,clientY:o}=t.touches?t.touches[0]:t,s=n-e,l=o-a,d=180/Math.PI*Math.atan2(l,s),c=d-i,u=r+c;u%=360,u=u<0?u+360:u,u=this.roundRotate(u),this.transform.rotation=Math.floor(u)},roundRotate(t){const e=5;return t>360-e||t<0+e?0:t>90-e&&t<90+e?90:t>180-e&&t<180+e?180:t>270-e&&t<270+e?270:t},getClassNames(){const t=["yoyoo-ddr"];return this.active&&t.push("active"),this.isDragging&&t.push("ddr-dragging"),this.isResizing&&t.push("ddr-resizing"),this.isRotating&&t.push("ddr-rotating"),this.isReadyToDrag&&t.push("ddr-ready-drag"),this.isReadyToResize&&t.push("ddr-ready-resize"),this.isReadyToRotate&&t.push("ddr-ready-rotate"),t}},render(){const t=arguments[0];return t("div",{ref:"wrapper",style:this.style,class:this.getClassNames(),on:{touchstart:this.handleMouseDown,mousedown:this.handleMouseDown}},[this.renderContent?this.renderContent(this):this.$slots.default,this.resizable&&t("div",{class:"resize-handler-wrapper"},[this.resizeHandler.map((e=>t("span",{attrs:{"data-resizetype":e},key:e,style:this.getNewHandler(e),class:`resize-handler ${e}`})))]),this.rotatable&&t("span",{style:this.rotateHandler,attrs:{"data-type":"rotate"},class:"rotate-handler"})])}},S=E,L=(a(2046),a(1001)),z=(0,L.Z)(S,M,A,!1,null,null,null),C=z.exports,T=(a(3382),a(6843)),$={name:"app",props:{context:String,publimodule:Object,can_edit:Boolean,magnification:Number,gridstep:Number,scale:Number,is_active:Boolean},components:{DDR:C,PublicationModule:T.Z},data(){return{transform:{x:0,y:0,width:300,height:300,rotation:0},component_key:1,aspect_ratio:!0,content_is_edited:!1}},created(){this.setTransformFromPubli(),this.setNewComponentKey()},mounted(){this.$eventHub.$on(`module.panTo.${this.module_meta_filename}`,this.panTo),this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.setActive)},beforeDestroy(){this.$eventHub.$off(`module.panTo.${this.module_meta_filename}`,this.panTo),this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.setActive)},watch:{publimodule:{handler(){const t=this.setTransformFromPubli();t&&this.setNewComponentKey()},deep:!0},magnification(){const t=this.setTransformFromPubli();t&&this.setNewComponentKey()},is_active(){this.is_active||this.contentIsNotEdited()}},computed:{module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},grid(){return[this.gridstep,this.gridstep]},module_z_index(){return`\n        z-index: ${this.publimodule.z_index?this.publimodule.z_index:0}\n      `},module_styles(){return{"--set-fontSize":(this.publimodule.text_size||100)+"%","--set-margins":(this.turnCMtoPX(this.publimodule.margins)||0)+"px","--set-opacity":this.publimodule.opacity||1,"--set-borderRadius":(this.turnCMtoPX(this.publimodule.border_radius)||0)+"px","--set-backgroundColor":this.publimodule.background_color||"transparent","--set-outlineColor":this.publimodule.outline_color||"black","--set-outlineWidth":(this.turnCMtoPX(this.publimodule.outline_width)||0)+"px"}}},methods:{setNewComponentKey(){this.component_key=(new Date).getTime()},setTransformFromPubli(){let t=!1;return Object.keys(this.transform).map((e=>{if("number"===typeof this.publimodule[e])if(["x","y","width","height"].includes(e)){const a=this.turnCMtoPX(this.publimodule[e]);this.transform[e]!==a&&(this.transform[e]=a,t=!0)}else"rotation"===e&&this.transform[e]!==this.publimodule[e]&&(this.transform[e]=this.publimodule[e],t=!0)})),t},turnCMtoPX(t){return!!t&&this.roundToDec(t*this.magnification)},turnPXtoCM(t){return this.roundToDec(t/this.magnification)},contentIsEdited(t){this.$eventHub.$emit("module.text_editing_enabled",t),this.content_is_edited=!0},contentIsNotEdited(){this.$eventHub.$emit("module.text_editing_disabled"),this.content_is_edited=!1},roundToDec(t){return Math.round(100*(t+Number.EPSILON))/100},firstMedia(t){if(!t)return!1;try{const e=t.source_medias[0],a=this.getParent(t.$path);return this.getSourceMedia({source_media:e,folder_path:a})}catch(e){return!1}},dragStart(){},onDrag(t){},dragEnd(t,e){return JSON.stringify(e)!==JSON.stringify(this.transform)&&((this.turnPXtoCM(e.x)!==this.turnPXtoCM(this.transform.x)||this.turnPXtoCM(e.y)!==this.turnPXtoCM(this.transform.y))&&(this.updateTransform(e),void t.stopPropagation()))},resizeStart(t,e){return t.target.classList.contains("br")||t.target.classList.contains("bl")||t.target.classList.contains("tl")||t.target.classList.contains("tr")?this.aspect_ratio=!0:this.aspect_ratio=!1},resizeEnd(t,e){if(JSON.stringify(e)===JSON.stringify(this.transform))return!1;this.updateTransform(e),t.stopPropagation()},rotateEnd(t,e){if(JSON.stringify(e)===JSON.stringify(this.transform))return!1;this.updateTransform(e),t.stopPropagation()},async updateTransform(t){let e=JSON.parse(JSON.stringify(t));Object.keys(e).map((t=>{e[t]!==this.transform[t]?["x","y","width","height"].includes(t)?(e[t]=this.turnPXtoCM(e[t]),this.transform[t]=this.turnCMtoPX(e[t])):this.transform[t]=this.turnCMtoPX(this.turnPXtoCM(e[t])):delete e[t]})),await this.updateModuleMeta({new_meta:e})},panTo(){this.$eventHub.$emit("panzoom.panTo",{x:this.transform.x,y:this.transform.y})},setActive(t){return!this.is_active&&(this.content_is_edited?t.stopPropagation():void(this.can_edit&&!this.is_active&&!0!==this.publimodule.locked&&this.$eventHub.$emit("module.setActive",this.publimodule.$path)))},async dblClick(){if(!this.is_active)return;const t=this.firstMedia(this.publimodule);if(t)if("text"===t.$type)this.editText();else{var e;const a=null===(e=t.$infos)||void 0===e?void 0:e.ratio,i=this.publimodule.width*a;await this.updateModuleMeta({new_meta:{height:i}})}},editText(){const t=this.publimodule.$path.substring(this.publimodule.$path.lastIndexOf("/")+1);this.$eventHub.$emit(`module.enable_edit.${t}`)},async lock(){const t={locked:!0};await this.updateModuleMeta({new_meta:t}),this.$eventHub.$emit("module.setActive",!1)},async unlock(){const t={locked:!1};await this.updateModuleMeta({new_meta:t}),setTimeout((()=>{this.setActive()}),100)},async updateModuleMeta({new_meta:t}){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},onDuplicateModule(t){const e=this.publimodule.$path.substring(0,this.publimodule.$path.lastIndexOf("/")+1)+t;setTimeout((()=>{this.$eventHub.$emit("module.setActive",e)}),100)}}},N=$,I=(a(3010),(0,L.Z)(N,n,o,!1,null,"0daecca8",null)),P=I.exports,R={props:{context:String,page_modules:Array,page_width:Number,page_height:Number,layout_mode:{type:String,default:"print"},page_color:String,hide_pagination:Boolean,zoom:{type:Number,default:1},scale:{type:Number,default:1},show_grid:{type:Boolean,default:!1},snap_to_grid:{type:Boolean,default:!1},gridstep_in_mm:Number,margins:Object,page_number:Number,pagination:[Boolean,Object],active_module:[Boolean,Object],page_is_left:Boolean,can_edit:Boolean},components:{MoveableItem:P},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{l_margins(){return 0!==Object.keys(this.margins).length&&(!0===this.page_is_left?{left:this.margins.right,right:this.margins.left,top:this.margins.top,bottom:this.margins.bottom}:this.margins)},gridstep(){return this.gridstep_in_mm?this.magnify(this.gridstep_in_mm):0},magnification(){return"screen"===this.layout_mode?1:this.$root.page_magnification},page_styles(){const t={};return this.page_width&&this.page_height&&(t["--page-width"]=`${this.magnify(this.page_width)}px`,t["--page-height"]=`${this.magnify(this.page_height)}px`),t["--zoom"]=this.zoom,t["--page-color"]=this.page_color||"#fff",t},page_number_corrected(){return this.page_number-this.pagination.pagination_start_on_page+1},pagination_styles(){const t={};return!0===this.page_is_left?t["--pagination-left"]=`${this.magnify(this.pagination.right)}px`:t["--pagination-right"]=`${this.magnify(this.pagination.right)}px`,t["--pagination-bottom"]=`${this.magnify(this.pagination.bottom)}px`,t}},methods:{magnify(t){return t*this.magnification}}},q=R,B=(a(2627),(0,L.Z)(q,i,r,!1,null,"799340e8",null)),H=B.exports},9208:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_publicationView"},[t.project&&t.publication?t.fetch_project_error?a("div",{key:"err"},[t._v(" "+t._s(t.fetch_project_error)+" ")]):"page_by_page"===t.publication.template?[a("div",{staticClass:"reveal"},[a("div",{staticClass:"slides"},[t.is_spread?t._e():t._l(t.pages,(function(e,i){return a("section",{key:"page-"+e.id,staticClass:"_page"},[a("SinglePage",{attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_color:e.page_color,layout_mode:t.publication.layout_mode,hide_pagination:!0===e.hide_pagination,page_number:i,pagination:t.pagination,can_edit:!1}})],1)})),t._l(t.spreads,(function(e,i){return a("section",{key:i},[a("div",{staticClass:"_spread"},t._l(e,(function(e,r){return a("div",{key:e.id?e.id:r,staticClass:"_spread--page"},[e?[a("SinglePage",{attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_color:e.page_color,layout_mode:t.publication.layout_mode,hide_pagination:!0===e.hide_pagination,page_number:2*i+r,pagination:t.pagination,can_edit:!1}})]:a("div",{staticClass:"_noPage"})],2)})),0)])}))],2)])]:t._e():a("div",{key:"loader",staticClass:"u-divCentered"},[a("LoaderSpinner")],1)],2)},r=[],n=a(5997),o=a(5301),s=a.n(o),l={name:"app",components:{SinglePage:n.Z},data(){return{fetch_project_error:null,project:null,publication:null,projectpanes:[],display_mode:"print"}},async mounted(){var t;"slides"===(null===(t=this.$route.query)||void 0===t?void 0:t.display)&&(this.display_mode="slides"),await this.listProject(),await this.listPublication(),"page_by_page"===this.publication.template&&("screen"===this.publication.layout_mode?document.body.style=`\n          --page-width: ${this.publication.page_width}px;\n          --page-height: ${this.publication.page_height}px;\n        `:"print"===this.publication.layout_mode&&(document.body.style=`\n          --page-width: ${this.publication.page_width}mm;\n          --page-height: calc(${this.publication.page_height}mm - 0.2mm);\n        `),document.addEventListener("keydown",this.keyPressed)),"slides"===this.display_mode&&this.startReveal()},beforeDestroy(){},watch:{},computed:{pagination(){return this.setPaginationFromPublication(this.publication)},project_path(){return this.createPath({space_slug:this.$route.params.space_slug,project_slug:this.$route.params.project_slug})},publication_path(){return`${this.project_path}/publications/${this.$route.params.publication_slug}`},pages(){return this.publication.pages},modules(){return this.publication.$files||[]},is_spread(){return!0===this.publication.page_spreads},spreads(){return!!this.is_spread&&this.makeSpread({pages:this.pages})}},methods:{async startReveal(){const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","https://cdn.jsdelivr.net/npm/reveal.js@3.6.0/css/reveal.css"),document.head.appendChild(t),await new Promise((t=>setTimeout(t,2e3))),await s().initialize({width:this.publication.page_width,height:this.publication.page_height})},async listProject(){const t=await this.$api.getFolder({path:this.project_path}).catch((t=>{this.fetch_project_error=t.response,this.is_loading=!1}));this.project=t},async listPublication(){const t=await this.$api.getFolder({path:this.publication_path}).catch((t=>{this.fetch_publication_error=t.response}));this.publication=t}}},d=l,c=(a(6209),a(1001)),u=(0,c.Z)(d,i,r,!1,null,null,null),p=u.exports},1533:function(t,e,a){"use strict";a.r(e);var i=a(8081),r=a.n(i),n=a(3645),o=a.n(n),s=o()(r());s.push([t.id,".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}",""]),e["default"]=s},1444:function(t,e,a){"use strict";a.r(e);var i=a(8081),r=a.n(i),n=a(3645),o=a.n(n),s=o()(r());s.push([t.id,"._mediaPicker[data-v-89343b6c]{width:100%;margin:0 auto}._addMediaBtn[data-v-89343b6c]{text-align:center;padding:calc(var(--spacing)*1)}",""]),e["default"]=s},2610:function(t,e,a){"use strict";a.r(e);var i=a(8081),r=a.n(i),n=a(3645),o=a.n(n),s=o()(r());s.push([t.id,"._moduleMosaic[data-v-1c4d56c0]{--number_of_medias:1;position:relative}._mediaGrid[data-v-1c4d56c0]{position:relative;width:100%}._moduleMosaic.is--multipleMedias ._mediaGrid[data-v-1c4d56c0]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/4);transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid>._mediaGrid--item[data-v-1c4d56c0]{position:relative;transition:flex .25s cubic-bezier(.19,1,.22,1)}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-1c4d56c0]{aspect-ratio:1/1;overflow:hidden;background:var(--c-gris_clair);flex:1 1 calc(100%/var(--number_of_medias))}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-1c4d56c0]  ._mediaContent{width:100%;height:100%}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-1c4d56c0]  ._mediaContent ._mediaContent--iframe,._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-1c4d56c0]  ._mediaContent ._mediaContent--image,._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-1c4d56c0]  ._mediaContent .plyr--video{position:absolute;height:100%;width:100%;-o-object-fit:cover;object-fit:cover;-o-object-fit:var(--object-fit);object-fit:var(--object-fit)}._mediaPickerTile[data-v-1c4d56c0]{position:absolute;top:0;left:auto;right:0;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-1c4d56c0]{pointer-events:auto}._btnRow[data-v-1c4d56c0]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2)}._btnRow button[data-v-1c4d56c0]{border-radius:4px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8)}._dropzone[data-v-1c4d56c0]{position:absolute;width:100%;height:100%}._dropzone[data-v-1c4d56c0]  ._dropNotice{transform:rotate(-90deg)}sl-icon-button[data-v-1c4d56c0]::part(base){font-size:1.5em;color:var(--c-bleuvert)}",""]),e["default"]=s},2481:function(t,e,a){"use strict";a.r(e);var i=a(8081),r=a.n(i),n=a(3645),o=a.n(n),s=o()(r());s.push([t.id,"._publicationModule[data-v-02d3771c]{position:relative;padding:0 calc(var(--spacing)*1)}._publicationModule.is--shape ._content[data-v-02d3771c],._publicationModule.is--shape svg[data-v-02d3771c]{overflow:visible;stroke-linejoin:arcs;stroke-linecap:round}._publicationModule.is--shape svg[data-v-02d3771c]{width:100%;height:100%}._publicationModule ._content[data-v-02d3771c]{width:calc(var(--module-width)*1%);margin-left:calc(var(--module-margin-left)*1%);transition:all .4s cubic-bezier(.19,1,.22,1)}._sideOptions[data-v-02d3771c]{position:absolute;top:0;height:100%;right:100%;background:var(--active-color);pointer-events:none;display:flex;flex-flow:column nowrap;justify-content:space-between;--side-width:24px;width:var(--side-width);border-radius:calc(var(--side-width)/2)}._sideOptions.is--pageByPage[data-v-02d3771c]{display:none}._sideOptions>*[data-v-02d3771c]{pointer-events:auto}._sideBtns[data-v-02d3771c]{display:block;width:var(--side-width);height:var(--side-width);padding:0;border-radius:calc(var(--side-width)/2);background:transparent}._sideBtns[data-v-02d3771c]:focus,._sideBtns[data-v-02d3771c]:hover{background:rgba(0,0,0,.1)}._advanced_menu[data-v-02d3771c]{position:absolute;z-index:10;left:100%;top:50%;transform:translateY(-50%);background:#fff;background:var(--active-color);flex-flow:column nowrap}._advanced_menu[data-v-02d3771c],._menu[data-v-02d3771c]{padding:calc(var(--spacing)/2);display:flex;gap:calc(var(--spacing)/4)}._menu[data-v-02d3771c]{width:100%;justify-content:flex-end}._menu.is--overlaid[data-v-02d3771c]{position:absolute;top:0;right:0;z-index:10}._options[data-v-02d3771c]{position:relative}._buttonRow[data-v-02d3771c]{display:flex;gap:calc(var(--spacing)/4)}",""]),e["default"]=s},4902:function(t,e,a){"use strict";a.r(e);var i=a(8081),r=a.n(i),n=a(3645),o=a.n(n),s=o()(r());s.push([t.id,'._moveableItem.is--locked[data-v-0daecca8]{pointer-events:none}._moveableItem.is--editable[data-v-0daecca8]  .u-floatingFsButton{display:none}._moveableItem.is--editable[data-v-0daecca8]:not(.is--beingEdited):not(.is--locked){cursor:pointer;cursor:grab}._moveableItem.is--editable[data-v-0daecca8]:hover:not(.is--locked){outline:2px dotted var(--c-noir)}._moveableItem.is--beingEdited[data-v-0daecca8]{outline:2px dotted var(--c-orange)!important}._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-0daecca8]{border:none;outline:2px dotted var(--c-orange)!important}._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-0daecca8]  .bl,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-0daecca8]  .br,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-0daecca8]  .tl,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-0daecca8]  .tr{background:var(--c-orange)}._moveableItem.yoyoo-ddr:not(.is--beingEdited).ddr-dragging[data-v-0daecca8]{cursor:-moz-grabbing;cursor:dragging}._moveableItem--content[data-v-0daecca8]{height:100%;padding:0;transition:all .2s cubic-bezier(.19,1,.22,1)}._moveableItem--content[data-v-0daecca8]  ._content{height:100%;overflow:hidden}._moveableItem--content[data-v-0daecca8]  ._content ._mediaContent,._moveableItem--content[data-v-0daecca8]  ._content ._mediaGrid,._moveableItem--content[data-v-0daecca8]  ._content ._mediaGrid--item,._moveableItem--content[data-v-0daecca8]  ._content ._moduleMosaic{height:100%}._moveableItem--content[data-v-0daecca8]  ._content ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);-o-object-position:center;object-position:center}._moveableItem--content[data-v-0daecca8]  ._content .plyr__poster{background-size:var(--object-fit,cover);background-position:50%;background-color:transparent}._moveableItem--content[data-v-0daecca8]  ._content .plyr--video,._moveableItem--content[data-v-0daecca8]  ._content .plyr__video-wrapper{background-color:transparent}._moveableItem--content[data-v-0daecca8]  ._content .plyr__video-wrapper video{-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);-o-object-position:center;object-position:center}._moveableItem--content[data-v-0daecca8]  ._content .plyr--video{min-width:50px}._moveableItem[data-v-0daecca8]  ._publicationModule:not(.is--shape) .ql-editor{font-size:var(--set-fontSize)}._moveableItem[data-v-0daecca8]  ._publicationModule:not(.is--shape) ._mediaContent--image,._moveableItem[data-v-0daecca8]  ._publicationModule:not(.is--shape) ._mediaContent[data-filetype=audio],._moveableItem[data-v-0daecca8]  ._publicationModule:not(.is--shape) ._mediaContent[data-filetype=pdf],._moveableItem[data-v-0daecca8]  ._publicationModule:not(.is--shape) ._mediaContent[data-filetype=url],._moveableItem[data-v-0daecca8]  ._publicationModule:not(.is--shape) ._mediaContent[data-filetype=video],._moveableItem[data-v-0daecca8]  ._publicationModule:not(.is--shape) .ql-editor{padding:var(--set-margins);opacity:var(--set-opacity);aspect-ratio:unset;border-radius:var(--set-borderRadius);overflow:hidden;background:var(--set-backgroundColor);border-color:var(--set-outlineColor);border-width:var(--set-outlineWidth);border-style:solid}._moveableItem[data-v-0daecca8]  ._publicationModule.is--shape{padding:var(--set-margins);opacity:var(--set-opacity);fill:var(--set-backgroundColor);stroke:var(--set-outlineColor);stroke-width:var(--set-outlineWidth)}._moveableItem.is--editable:not(.is--beingEdited):not(.is--locked) ._activator[data-v-0daecca8]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--c-orange_clair);opacity:0;transition:opacity .4s cubic-bezier(.19,1,.22,1)}._moveableItem.is--editable:not(.is--beingEdited):not(.is--locked) ._activator[data-v-0daecca8]:hover:after{opacity:.15}._coords[data-v-0daecca8]{bottom:0;background:#fff;margin:calc(var(--spacing)*1)}._coords[data-v-0daecca8],._unlockBtn[data-v-0daecca8]{position:absolute;left:0}._unlockBtn[data-v-0daecca8]{top:0;width:100%;pointer-events:none;padding:calc(var(--spacing)/2);display:flex;justify-content:flex-start}._unlockBtn>*[data-v-0daecca8]{pointer-events:auto}',""]),e["default"]=s},5253:function(t,e,a){"use strict";a.r(e);var i=a(8081),r=a.n(i),n=a(3645),o=a.n(n),s=o()(r());s.push([t.id,"._pagecontainer[data-v-799340e8]{width:calc(var(--page-width));height:calc(var(--page-height));padding:0;transform:scale(var(--zoom));transform-origin:0 0;transition:all .4s cubic-bezier(.19,1,.22,1)}.is--preview ._pagecontainer[data-v-799340e8]{width:calc(var(--page-width)*var(--zoom));height:calc(var(--page-height)*var(--zoom));transform-origin:left top;margin:0 auto;padding:0}._pagecontent[data-v-799340e8]{display:block;position:relative;z-index:0;margin:0;width:var(--page-width,100mm);height:var(--page-height,100mm);background:var(--page-color,#fff);overflow:hidden;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);transition:background .4s cubic-bezier(.19,1,.22,1)}._singlePage.is--editable ._pagecontent[data-v-799340e8]{overflow:visible}._grid[data-v-799340e8]{position:absolute;top:0;width:100%;height:100%;pointer-events:none;opacity:.6;z-index:-10000;--c-gridlines:#aaa;--c-gridfiveslines:#111}._margins[data-v-799340e8],._pageBorders[data-v-799340e8]{position:absolute;top:0;width:100%;height:100%;pointer-events:none;stroke-width:2px}._margins[data-v-799340e8]{stroke:#cb68fd}._pagination[data-v-799340e8]{position:absolute;right:var(--pagination-right);left:var(--pagination-left);bottom:var(--pagination-bottom);font-weight:500;line-height:.5;font-size:var(--sl-font-size-large)}",""]),e["default"]=s},4718:function(t,e,a){"use strict";a.r(e);var i=a(8081),r=a.n(i),n=a(3645),o=a.n(n),s=o()(r());s.push([t.id,"@media print{body,html{background:#fff!important}body{width:var(--page-width);height:calc(var(--page-height))}}@page{size:var(--page-width) var(--page-height)}._publicationView{height:100vh}@media print{._singlePage ._pagecontent{box-shadow:none}}._page,._spread{page-break-inside:avoid;-webkit-region-break-inside:avoid}._page:not(:last-child),._spread:not(:last-child){page-break-after:always}._spread{display:flex;flex-flow:row nowrap;width:-moz-max-content;width:max-content}._spread>*{position:relative;flex:1 1 50%}._noPage{width:calc(var(--page-width));height:calc(var(--page-height))}",""]),e["default"]=s},3589:function(t,e,a){"use strict";a.r(e);var i=a(8081),r=a.n(i),n=a(3645),o=a.n(n),s=o()(r());s.push([t.id,".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}",""]),e["default"]=s},5301:function(t,e,a){var i;a(4916),a(7658),a(1703),a(5306),
/*!
 * reveal.js
 * http://revealjs.com
 * MIT licensed
 *
 * Copyright (C) 2020 Hakim El Hattab, http://hakim.se
 */
function(r,n){i=function(){return r.Reveal=n(),r.Reveal}.call(e,a,e,t),void 0===i||(t.exports=i)}(this,(function(){"use strict";var t,e,a,i,r,n,o,s,l,d="3.9.2",c=".slides section",u=".slides>section",p=".slides>section.present>section",h=".slides>section:first-of-type",m=navigator.userAgent,f=/registerPlugin|registerKeyboardShortcut|addKeyBinding|addEventListener/,g={width:960,height:700,margin:.04,minScale:.2,maxScale:2,controls:!0,controlsTutorial:!0,controlsLayout:"bottom-right",controlsBackArrows:"faded",progress:!0,slideNumber:!1,showSlideNumber:"all",hashOneBasedIndex:!1,hash:!1,history:!1,keyboard:!0,keyboardCondition:null,overview:!0,disableLayout:!1,center:!0,touch:!0,loop:!1,rtl:!1,navigationMode:"default",shuffle:!1,fragments:!0,fragmentInURL:!1,embedded:!1,help:!0,pause:!0,showNotes:!1,autoPlayMedia:null,preloadIframes:null,autoSlide:0,autoSlideStoppable:!0,autoSlideMethod:null,defaultTiming:null,mouseWheel:!1,rollingLinks:!1,hideAddressBar:!0,previewLinks:!1,postMessage:!0,postMessageEvents:!1,focusBodyOnPageVisibilityChange:!0,transition:"slide",transitionSpeed:"default",backgroundTransition:"fade",parallaxBackgroundImage:"",parallaxBackgroundSize:"",parallaxBackgroundRepeat:"",parallaxBackgroundPosition:"",parallaxBackgroundHorizontal:null,parallaxBackgroundVertical:null,pdfMaxPagesPerSlide:Number.POSITIVE_INFINITY,pdfSeparateFragments:!0,pdfPageHeightOffset:-1,viewDistance:3,mobileViewDistance:2,display:"block",hideInactiveCursor:!0,hideCursorTime:5e3,dependencies:[]},v=!1,b=!1,y=!1,_=null,w=null,k=!1,x=!1,M=[],A=1,E={layout:"",overview:""},S={},L={},z=[],C={},T=0,$=0,N=!1,I=0,P=!1,R=0,q=0,B=-1,H=!1,D={startX:0,startY:0,startCount:0,captured:!1,threshold:40},O={},j={};function F(e){if(!0!==v)if(v=!0,W(),C.transforms2d||C.transforms3d){S.wrapper=document.querySelector(".reveal"),S.slides=document.querySelector(".reveal .slides"),window.addEventListener("load",qt,!1);var a=t.getQueryHash();"undefined"!==typeof a["dependencies"]&&delete a["dependencies"],mt(g,e),mt(g,a),At(),X()}else{document.body.setAttribute("class","no-transforms");for(var i=ft(document.getElementsByTagName("img")),r=ft(document.getElementsByTagName("iframe")),n=i.concat(r),o=0,s=n.length;o<s;o++){var l=n[o];l.getAttribute("data-src")&&(l.setAttribute("src",l.getAttribute("data-src")),l.removeAttribute("data-src"))}}}function W(){o=/(iphone|ipod|ipad|android)/gi.test(m)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,s=/chrome/i.test(m)&&!/edge/i.test(m);var t=document.createElement("div");C.transforms3d="WebkitPerspective"in t.style||"MozPerspective"in t.style||"msPerspective"in t.style||"OPerspective"in t.style||"perspective"in t.style,C.transforms2d="WebkitTransform"in t.style||"MozTransform"in t.style||"msTransform"in t.style||"OTransform"in t.style||"transform"in t.style,C.requestAnimationFrameMethod=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,C.requestAnimationFrame="function"===typeof C.requestAnimationFrameMethod,C.canvas=!!document.createElement("canvas").getContext,C.overviewTransitions=!/Version\/[\d\.]+.*Safari/.test(m),C.zoom="zoom"in t.style&&!o&&(s||/Version\/[\d\.]+.*Safari/.test(m))}function X(){var t=[],e=0;g.dependencies.forEach((function(e){e.condition&&!e.condition()||(e.async?z.push(e):t.push(e))})),t.length?(e=t.length,t.forEach((function(t){Y(t.src,(function(){"function"===typeof t.callback&&t.callback(),0===--e&&U()}))}))):U()}function U(){var t=Object.keys(L).length;if(0===t)V();else{var e=function(){0===--t&&V()};for(var a in L){var i=L[a];if("function"===typeof i.init){var r=i.init();r&&"function"===typeof r.then?r.then(e):e()}else e()}}}function V(){z.length&&z.forEach((function(t){Y(t.src,t.callback)})),Z()}function Y(t,e){var a=document.createElement("script");a.type="text/javascript",a.async=!1,a.defer=!1,a.src=t,e&&(a.onload=a.onreadystatechange=function(t){("load"===t.type||/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=a.onerror=null,e())},a.onerror=function(t){a.onload=a.onreadystatechange=a.onerror=null,e(new Error("Failed loading script: "+a.src+"\n"+t))});var i=document.querySelector("head");i.insertBefore(a,i.lastChild)}function Z(){b=!0,K(),nt(),tt(),de(),ot(),qe(),ke(!0),setTimeout((function(){S.slides.classList.remove("no-transition"),S.wrapper.classList.add("ready"),St("ready",{indexh:e,indexv:a,currentSlide:r})}),1),Mt()&&(lt(),"complete"===document.readyState?Q():window.addEventListener("load",Q))}function K(){S.slides.classList.add("no-transition"),o?S.wrapper.classList.add("no-hover"):S.wrapper.classList.remove("no-hover"),/iphone/gi.test(m)?S.wrapper.classList.add("ua-iphone"):S.wrapper.classList.remove("ua-iphone"),S.background=et(S.wrapper,"div","backgrounds",null),S.progress=et(S.wrapper,"div","progress","<span></span>"),S.progressbar=S.progress.querySelector("span"),S.controls=et(S.wrapper,"aside","controls",'<button class="navigate-left" aria-label="previous slide"><div class="controls-arrow"></div></button><button class="navigate-right" aria-label="next slide"><div class="controls-arrow"></div></button><button class="navigate-up" aria-label="above slide"><div class="controls-arrow"></div></button><button class="navigate-down" aria-label="below slide"><div class="controls-arrow"></div></button>'),S.slideNumber=et(S.wrapper,"div","slide-number",""),S.speakerNotes=et(S.wrapper,"div","speaker-notes",null),S.speakerNotes.setAttribute("data-prevent-swipe",""),S.speakerNotes.setAttribute("tabindex","0"),S.pauseOverlay=et(S.wrapper,"div","pause-overlay",g.controls?'<button class="resume-button">Resume presentation</button>':null),S.wrapper.setAttribute("role","application"),S.controlsLeft=ft(document.querySelectorAll(".navigate-left")),S.controlsRight=ft(document.querySelectorAll(".navigate-right")),S.controlsUp=ft(document.querySelectorAll(".navigate-up")),S.controlsDown=ft(document.querySelectorAll(".navigate-down")),S.controlsPrev=ft(document.querySelectorAll(".navigate-prev")),S.controlsNext=ft(document.querySelectorAll(".navigate-next")),S.controlsRightArrow=S.controls.querySelector(".navigate-right"),S.controlsDownArrow=S.controls.querySelector(".navigate-down"),S.statusDiv=G()}function G(){var t=document.getElementById("aria-status-div");return t||(t=document.createElement("div"),t.style.position="absolute",t.style.height="1px",t.style.width="1px",t.style.overflow="hidden",t.style.clip="rect( 1px, 1px, 1px, 1px )",t.setAttribute("id","aria-status-div"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),S.wrapper.appendChild(t)),t}function J(t){var e="";if(3===t.nodeType)e+=t.textContent;else if(1===t.nodeType){var a=t.getAttribute("aria-hidden"),i="none"===window.getComputedStyle(t)["display"];"true"===a||i||ft(t.childNodes).forEach((function(t){e+=J(t)}))}return e}function Q(){var t=Ht(window.innerWidth,window.innerHeight),e=Math.floor(t.width*(1+g.margin)),a=Math.floor(t.height*(1+g.margin)),i=t.width,r=t.height;yt("@page{size:"+e+"px "+a+"px; margin: 0px;}"),yt(".reveal section>img, .reveal section>video, .reveal section>iframe{max-width: "+i+"px; max-height:"+r+"px}"),document.body.classList.add("print-pdf"),document.body.style.width=e+"px",document.body.style.height=a+"px",Bt(i,r);var n=g.slideNumber&&/all|print/i.test(g.showSlideNumber);ft(S.wrapper.querySelectorAll(c)).forEach((function(t){t.setAttribute("data-slide-number",ye(t))})),ft(S.wrapper.querySelectorAll(c)).forEach((function(t){if(!1===t.classList.contains("stack")){var o=(e-i)/2,s=(a-r)/2,l=t.scrollHeight,d=Math.max(Math.ceil(l/a),1);d=Math.min(d,g.pdfMaxPagesPerSlide),(1===d&&g.center||t.classList.contains("center"))&&(s=Math.max((a-l)/2,0));var c=document.createElement("div");if(c.className="pdf-page",c.style.height=(a+g.pdfPageHeightOffset)*d+"px",t.parentNode.insertBefore(c,t),c.appendChild(t),t.style.left=o+"px",t.style.top=s+"px",t.style.width=i+"px",t.slideBackgroundElement&&c.insertBefore(t.slideBackgroundElement,t),g.showNotes){var u=Ze(t);if(u){var p=8,h="string"===typeof g.showNotes?g.showNotes:"inline",m=document.createElement("div");m.classList.add("speaker-notes"),m.classList.add("speaker-notes-pdf"),m.setAttribute("data-layout",h),m.innerHTML=u,"separate-page"===h?c.parentNode.insertBefore(m,c.nextSibling):(m.style.left=p+"px",m.style.bottom=p+"px",m.style.width=e-2*p+"px",c.appendChild(m))}}if(n){var f=document.createElement("div");f.classList.add("slide-number"),f.classList.add("slide-number-pdf"),f.innerHTML=t.getAttribute("data-slide-number"),c.appendChild(f)}if(g.pdfSeparateFragments){var v,b,y=Je(c.querySelectorAll(".fragment"),!0);y.forEach((function(t){v&&v.forEach((function(t){t.classList.remove("current-fragment")})),t.forEach((function(t){t.classList.add("visible","current-fragment")}));var e=c.cloneNode(!0);c.parentNode.insertBefore(e,(b||c).nextSibling),v=t,b=e})),y.forEach((function(t){t.forEach((function(t){t.classList.remove("visible","current-fragment")}))}))}else ft(c.querySelectorAll(".fragment:not(.fade-out)")).forEach((function(t){t.classList.add("visible")}))}})),St("pdf-ready")}function tt(){setInterval((function(){0===S.wrapper.scrollTop&&0===S.wrapper.scrollLeft||(S.wrapper.scrollTop=0,S.wrapper.scrollLeft=0)}),1e3)}function et(t,e,a,i){for(var r=t.querySelectorAll("."+a),n=0;n<r.length;n++){var o=r[n];if(o.parentNode===t)return o}var s=document.createElement(e);return s.className=a,"string"===typeof i&&(s.innerHTML=i),t.appendChild(s),s}function at(){Mt();S.background.innerHTML="",S.background.classList.add("no-transition"),ft(S.wrapper.querySelectorAll(u)).forEach((function(t){var e=it(t,S.background);ft(t.querySelectorAll("section")).forEach((function(t){it(t,e),e.classList.add("stack")}))})),g.parallaxBackgroundImage?(S.background.style.backgroundImage='url("'+g.parallaxBackgroundImage+'")',S.background.style.backgroundSize=g.parallaxBackgroundSize,S.background.style.backgroundRepeat=g.parallaxBackgroundRepeat,S.background.style.backgroundPosition=g.parallaxBackgroundPosition,setTimeout((function(){S.wrapper.classList.add("has-parallax-background")}),1)):(S.background.style.backgroundImage="",S.wrapper.classList.remove("has-parallax-background"))}function it(t,e){var a=document.createElement("div");a.className="slide-background "+t.className.replace(/present|past|future/,"");var i=document.createElement("div");return i.className="slide-background-content",a.appendChild(i),e.appendChild(a),t.slideBackgroundElement=a,t.slideBackgroundContentElement=i,rt(t),a}function rt(t){var e=t.slideBackgroundElement,a=t.slideBackgroundContentElement;t.classList.remove("has-dark-background"),t.classList.remove("has-light-background"),e.removeAttribute("data-loaded"),e.removeAttribute("data-background-hash"),e.removeAttribute("data-background-size"),e.removeAttribute("data-background-transition"),e.style.backgroundColor="",a.style.backgroundSize="",a.style.backgroundRepeat="",a.style.backgroundPosition="",a.style.backgroundImage="",a.style.opacity="",a.innerHTML="";var i={background:t.getAttribute("data-background"),backgroundSize:t.getAttribute("data-background-size"),backgroundImage:t.getAttribute("data-background-image"),backgroundVideo:t.getAttribute("data-background-video"),backgroundIframe:t.getAttribute("data-background-iframe"),backgroundColor:t.getAttribute("data-background-color"),backgroundRepeat:t.getAttribute("data-background-repeat"),backgroundPosition:t.getAttribute("data-background-position"),backgroundTransition:t.getAttribute("data-background-transition"),backgroundOpacity:t.getAttribute("data-background-opacity")};i.background&&(/^(http|file|\/\/)/gi.test(i.background)||/\.(svg|png|jpg|jpeg|gif|bmp)([?#\s]|$)/gi.test(i.background)?t.setAttribute("data-background-image",i.background):e.style.background=i.background),(i.background||i.backgroundColor||i.backgroundImage||i.backgroundVideo||i.backgroundIframe)&&e.setAttribute("data-background-hash",i.background+i.backgroundSize+i.backgroundImage+i.backgroundVideo+i.backgroundIframe+i.backgroundColor+i.backgroundRepeat+i.backgroundPosition+i.backgroundTransition+i.backgroundOpacity),i.backgroundSize&&e.setAttribute("data-background-size",i.backgroundSize),i.backgroundColor&&(e.style.backgroundColor=i.backgroundColor),i.backgroundTransition&&e.setAttribute("data-background-transition",i.backgroundTransition),t.hasAttribute("data-preload")&&e.setAttribute("data-preload",""),i.backgroundSize&&(a.style.backgroundSize=i.backgroundSize),i.backgroundRepeat&&(a.style.backgroundRepeat=i.backgroundRepeat),i.backgroundPosition&&(a.style.backgroundPosition=i.backgroundPosition),i.backgroundOpacity&&(a.style.opacity=i.backgroundOpacity);var r=i.backgroundColor;if(!r){var n=window.getComputedStyle(e);n&&n.backgroundColor&&(r=n.backgroundColor)}if(r){var o=wt(r);o&&0!==o.a&&(kt(r)<128?t.classList.add("has-dark-background"):t.classList.add("has-light-background"))}}function nt(){g.postMessage&&window.addEventListener("message",(function(e){var a=e.data;if("string"===typeof a&&"{"===a.charAt(0)&&"}"===a.charAt(a.length-1)&&(a=JSON.parse(a),a.method&&"function"===typeof t[a.method]))if(!1===f.test(a.method)){var i=t[a.method].apply(t,a.args);Lt("callback",{method:a.method,result:i})}else console.warn('reveal.js: "'+a.method+'" is is blacklisted from the postMessage API')}),!1)}function ot(t){var e=g.transition;if("object"===typeof t&&mt(g,t),!1!==b){var a=S.wrapper.querySelectorAll(c).length;S.wrapper.classList.remove(e),!1===C.transforms3d&&(g.transition="linear"),S.wrapper.classList.add(g.transition),S.wrapper.setAttribute("data-transition-speed",g.transitionSpeed),S.wrapper.setAttribute("data-background-transition",g.backgroundTransition),S.controls.style.display=g.controls?"block":"none",S.progress.style.display=g.progress?"block":"none",S.controls.setAttribute("data-controls-layout",g.controlsLayout),S.controls.setAttribute("data-controls-back-arrows",g.controlsBackArrows),g.shuffle&&ue(),g.rtl?S.wrapper.classList.add("rtl"):S.wrapper.classList.remove("rtl"),g.center?S.wrapper.classList.add("center"):S.wrapper.classList.remove("center"),!1===g.pause&&te(),g.showNotes&&S.speakerNotes.setAttribute("data-layout","string"===typeof g.showNotes?g.showNotes:"inline"),g.mouseWheel?(document.addEventListener("DOMMouseScroll",Ma,!1),document.addEventListener("mousewheel",Ma,!1)):(document.removeEventListener("DOMMouseScroll",Ma,!1),document.removeEventListener("mousewheel",Ma,!1)),g.rollingLinks?zt():Ct(),g.hideInactiveCursor?(document.addEventListener("mousemove",fa,!1),document.addEventListener("mousedown",fa,!1)):(Gt(),document.removeEventListener("mousemove",fa,!1),document.removeEventListener("mousedown",fa,!1)),g.previewLinks?(Tt(),$t("[data-preview-link=false]")):($t(),Tt("[data-preview-link]:not([data-preview-link=false])")),l&&(l.destroy(),l=null),a>1&&g.autoSlide&&g.autoSlideStoppable&&C.canvas&&C.requestAnimationFrame&&(l=new Ba(S.wrapper,(function(){return Math.min(Math.max((Date.now()-B)/R,0),1)})),l.on("click",qa),H=!1),!1===g.fragments&&ft(S.slides.querySelectorAll(".fragment")).forEach((function(t){t.classList.add("visible"),t.classList.remove("current-fragment")}));var i="none";g.slideNumber&&!Mt()&&("all"===g.showSlideNumber||"speaker"===g.showSlideNumber&&Re())&&(i="block"),S.slideNumber.style.display=i,"default"!==g.navigationMode?S.wrapper.setAttribute("data-navigation-mode",g.navigationMode):S.wrapper.removeAttribute("data-navigation-mode"),"linear"===g.navigationMode?(O["&#8594;  ,  &#8595;  ,  SPACE  ,  N  ,  L  ,  J"]="Next slide",O["&#8592;  ,  &#8593;  ,  P  ,  H  ,  K"]="Previous slide"):(O["N  ,  SPACE"]="Next slide",O["P"]="Previous slide",O["&#8592;  ,  H"]="Navigate left",O["&#8594;  ,  L"]="Navigate right",O["&#8593;  ,  K"]="Navigate up",O["&#8595;  ,  J"]="Navigate down"),O["Home  ,  Shift &#8592;"]="First slide",O["End  ,  Shift &#8594;"]="Last slide",O["B  ,  ."]="Pause",O["F"]="Fullscreen",O["ESC, O"]="Slide overview",oe()}}function st(){var t;(P=!0,window.addEventListener("hashchange",$a,!1),window.addEventListener("resize",Na,!1),g.touch&&("onpointerdown"in window?(S.wrapper.addEventListener("pointerdown",wa,!1),S.wrapper.addEventListener("pointermove",ka,!1),S.wrapper.addEventListener("pointerup",xa,!1)):window.navigator.msPointerEnabled?(S.wrapper.addEventListener("MSPointerDown",wa,!1),S.wrapper.addEventListener("MSPointerMove",ka,!1),S.wrapper.addEventListener("MSPointerUp",xa,!1)):(S.wrapper.addEventListener("touchstart",ba,!1),S.wrapper.addEventListener("touchmove",ya,!1),S.wrapper.addEventListener("touchend",_a,!1))),g.keyboard&&(document.addEventListener("keydown",va,!1),document.addEventListener("keypress",ga,!1)),g.progress&&S.progress&&S.progress.addEventListener("click",Aa,!1),S.pauseOverlay.addEventListener("click",te,!1),g.focusBodyOnPageVisibilityChange)&&("hidden"in document?t="visibilitychange":"msHidden"in document?t="msvisibilitychange":"webkitHidden"in document&&(t="webkitvisibilitychange"),t&&document.addEventListener(t,Ia,!1));var e=["touchstart","click"];m.match(/android/gi)&&(e=["touchstart"]),e.forEach((function(t){S.controlsLeft.forEach((function(e){e.addEventListener(t,Ea,!1)})),S.controlsRight.forEach((function(e){e.addEventListener(t,Sa,!1)})),S.controlsUp.forEach((function(e){e.addEventListener(t,La,!1)})),S.controlsDown.forEach((function(e){e.addEventListener(t,za,!1)})),S.controlsPrev.forEach((function(e){e.addEventListener(t,Ca,!1)})),S.controlsNext.forEach((function(e){e.addEventListener(t,Ta,!1)}))}))}function lt(){P=!1,document.removeEventListener("keydown",va,!1),document.removeEventListener("keypress",ga,!1),window.removeEventListener("hashchange",$a,!1),window.removeEventListener("resize",Na,!1),S.wrapper.removeEventListener("pointerdown",wa,!1),S.wrapper.removeEventListener("pointermove",ka,!1),S.wrapper.removeEventListener("pointerup",xa,!1),S.wrapper.removeEventListener("MSPointerDown",wa,!1),S.wrapper.removeEventListener("MSPointerMove",ka,!1),S.wrapper.removeEventListener("MSPointerUp",xa,!1),S.wrapper.removeEventListener("touchstart",ba,!1),S.wrapper.removeEventListener("touchmove",ya,!1),S.wrapper.removeEventListener("touchend",_a,!1),S.pauseOverlay.removeEventListener("click",te,!1),g.progress&&S.progress&&S.progress.removeEventListener("click",Aa,!1),["touchstart","click"].forEach((function(t){S.controlsLeft.forEach((function(e){e.removeEventListener(t,Ea,!1)})),S.controlsRight.forEach((function(e){e.removeEventListener(t,Sa,!1)})),S.controlsUp.forEach((function(e){e.removeEventListener(t,La,!1)})),S.controlsDown.forEach((function(e){e.removeEventListener(t,za,!1)})),S.controlsPrev.forEach((function(e){e.removeEventListener(t,Ca,!1)})),S.controlsNext.forEach((function(e){e.removeEventListener(t,Ta,!1)}))}))}function dt(t,e){void 0===L[t]?(L[t]=e,b&&"function"===typeof e.init&&e.init()):console.warn('reveal.js: "'+t+'" plugin has already been registered')}function ct(t){return!!L[t]}function ut(t){return L[t]}function pt(t,e){"object"===typeof t&&t.keyCode?j[t.keyCode]={callback:e,key:t.key,description:t.description}:j[t]={callback:e,key:null,description:null}}function ht(t){delete j[t]}function mt(t,e){for(var a in e)t[a]=e[a];return t}function ft(t){return Array.prototype.slice.call(t)}function gt(t){if("string"===typeof t){if("null"===t)return null;if("true"===t)return!0;if("false"===t)return!1;if(t.match(/^-?[\d\.]+$/))return parseFloat(t)}return t}function vt(t,e){t.style.WebkitTransform=e,t.style.MozTransform=e,t.style.msTransform=e,t.style.transform=e}function bt(t){"string"===typeof t.layout&&(E.layout=t.layout),"string"===typeof t.overview&&(E.overview=t.overview),E.layout?vt(S.slides,E.layout+" "+E.overview):vt(S.slides,E.overview)}function yt(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}function _t(t,e){var a=t.parentNode;while(a){var i=a.matches||a.matchesSelector||a.msMatchesSelector;if(i&&i.call(a,e))return a;a=a.parentNode}return null}function wt(t){var e=t.match(/^#([0-9a-f]{3})$/i);if(e&&e[1])return e=e[1],{r:17*parseInt(e.charAt(0),16),g:17*parseInt(e.charAt(1),16),b:17*parseInt(e.charAt(2),16)};var a=t.match(/^#([0-9a-f]{6})$/i);if(a&&a[1])return a=a[1],{r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16)};var i=t.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);if(i)return{r:parseInt(i[1],10),g:parseInt(i[2],10),b:parseInt(i[3],10)};var r=t.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\,\s*([\d]+|[\d]*.[\d]+)\s*\)$/i);return r?{r:parseInt(r[1],10),g:parseInt(r[2],10),b:parseInt(r[3],10),a:parseFloat(r[4])}:null}function kt(t){return"string"===typeof t&&(t=wt(t)),t?(299*t.r+587*t.g+114*t.b)/1e3:null}function xt(t,e){if(e=e||0,t){var a,i=t.style.height;return t.style.height="0px",t.parentNode.style.height="auto",a=e-t.parentNode.offsetHeight,t.style.height=i+"px",t.parentNode.style.removeProperty("height"),a}return e}function Mt(){return/print-pdf/gi.test(window.location.search)}function At(){g.hideAddressBar&&o&&(window.addEventListener("load",Et,!1),window.addEventListener("orientationchange",Et,!1))}function Et(){setTimeout((function(){window.scrollTo(0,1)}),10)}function St(t,e){var a=document.createEvent("HTMLEvents",1,2);a.initEvent(t,!0,!0),mt(a,e),S.wrapper.dispatchEvent(a),Lt(t)}function Lt(t,e){if(g.postMessageEvents&&window.parent!==window.self){var a={namespace:"reveal",eventName:t,state:Ke()};mt(a,e),window.parent.postMessage(JSON.stringify(a),"*")}}function zt(){if(C.transforms3d&&!("msPerspective"in document.body.style))for(var t=S.wrapper.querySelectorAll(c+" a"),e=0,a=t.length;e<a;e++){var i=t[e];if(i.textContent&&!i.querySelector("*")&&(!i.className||!i.classList.contains(i,"roll"))){var r=document.createElement("span");r.setAttribute("data-title",i.text),r.innerHTML=i.innerHTML,i.classList.add("roll"),i.innerHTML="",i.appendChild(r)}}}function Ct(){for(var t=S.wrapper.querySelectorAll(c+" a.roll"),e=0,a=t.length;e<a;e++){var i=t[e],r=i.querySelector("span");r&&(i.classList.remove("roll"),i.innerHTML=r.innerHTML)}}function Tt(t){var e=ft(document.querySelectorAll(t||"a"));e.forEach((function(t){/^(http|www)/gi.test(t.getAttribute("href"))&&t.addEventListener("click",Ra,!1)}))}function $t(t){var e=ft(document.querySelectorAll(t||"a"));e.forEach((function(t){/^(http|www)/gi.test(t.getAttribute("href"))&&t.removeEventListener("click",Ra,!1)}))}function Nt(t){Rt(),S.overlay=document.createElement("div"),S.overlay.classList.add("overlay"),S.overlay.classList.add("overlay-preview"),S.wrapper.appendChild(S.overlay),S.overlay.innerHTML=["<header>",'<a class="close" href="#"><span class="icon"></span></a>','<a class="external" href="'+t+'" target="_blank"><span class="icon"></span></a>',"</header>",'<div class="spinner"></div>','<div class="viewport">','<iframe src="'+t+'"></iframe>','<small class="viewport-inner">','<span class="x-frame-error">Unable to load iframe. This is likely due to the site\'s policy (x-frame-options).</span>',"</small>","</div>"].join(""),S.overlay.querySelector("iframe").addEventListener("load",(function(t){S.overlay.classList.add("loaded")}),!1),S.overlay.querySelector(".close").addEventListener("click",(function(t){Rt(),t.preventDefault()}),!1),S.overlay.querySelector(".external").addEventListener("click",(function(t){Rt()}),!1),setTimeout((function(){S.overlay.classList.add("visible")}),1)}function It(t){"boolean"===typeof t?t?Pt():Rt():S.overlay?Rt():Pt()}function Pt(){if(g.help){Rt(),S.overlay=document.createElement("div"),S.overlay.classList.add("overlay"),S.overlay.classList.add("overlay-help"),S.wrapper.appendChild(S.overlay);var t='<p class="title">Keyboard Shortcuts</p><br/>';for(var e in t+="<table><th>KEY</th><th>ACTION</th>",O)t+="<tr><td>"+e+"</td><td>"+O[e]+"</td></tr>";for(var a in j)j[a].key&&j[a].description&&(t+="<tr><td>"+j[a].key+"</td><td>"+j[a].description+"</td></tr>");t+="</table>",S.overlay.innerHTML=["<header>",'<a class="close" href="#"><span class="icon"></span></a>',"</header>",'<div class="viewport">','<div class="viewport-inner">'+t+"</div>","</div>"].join(""),S.overlay.querySelector(".close").addEventListener("click",(function(t){Rt(),t.preventDefault()}),!1),setTimeout((function(){S.overlay.classList.add("visible")}),1)}}function Rt(){S.overlay&&(S.overlay.parentNode.removeChild(S.overlay),S.overlay=null)}function qt(){if(S.wrapper&&!Mt()){if(!g.disableLayout){o&&document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px");var t=Ht(),e=A;Bt(g.width,g.height),S.slides.style.width=t.width+"px",S.slides.style.height=t.height+"px",A=Math.min(t.presentationWidth/t.width,t.presentationHeight/t.height),A=Math.max(A,g.minScale),A=Math.min(A,g.maxScale),1===A?(S.slides.style.zoom="",S.slides.style.left="",S.slides.style.top="",S.slides.style.bottom="",S.slides.style.right="",bt({layout:""})):A>1&&C.zoom&&window.devicePixelRatio<2?(S.slides.style.zoom=A,S.slides.style.left="",S.slides.style.top="",S.slides.style.bottom="",S.slides.style.right="",bt({layout:""})):(S.slides.style.zoom="",S.slides.style.left="50%",S.slides.style.top="50%",S.slides.style.bottom="auto",S.slides.style.right="auto",bt({layout:"translate(-50%, -50%) scale("+A+")"}));for(var a=ft(S.wrapper.querySelectorAll(c)),i=0,r=a.length;i<r;i++){var n=a[i];"none"!==n.style.display&&(g.center||n.classList.contains("center")?n.classList.contains("stack")?n.style.top=0:n.style.top=Math.max((t.height-n.scrollHeight)/2,0)+"px":n.style.top="")}e!==A&&St("resize",{oldScale:e,scale:A,size:t})}ve(),xe(),Vt()&&Wt()}}function Bt(t,e){ft(S.slides.querySelectorAll("section > .stretch")).forEach((function(a){var i=xt(a,e);if(/(img|video)/gi.test(a.nodeName)){var r=a.naturalWidth||a.videoWidth,n=a.naturalHeight||a.videoHeight,o=Math.min(t/r,i/n);a.style.width=r*o+"px",a.style.height=n*o+"px"}else a.style.width=t+"px",a.style.height=i+"px"}))}function Ht(t,e){var a={width:g.width,height:g.height,presentationWidth:t||S.wrapper.offsetWidth,presentationHeight:e||S.wrapper.offsetHeight};return a.presentationWidth-=a.presentationWidth*g.margin,a.presentationHeight-=a.presentationHeight*g.margin,"string"===typeof a.width&&/%$/.test(a.width)&&(a.width=parseInt(a.width,10)/100*a.presentationWidth),"string"===typeof a.height&&/%$/.test(a.height)&&(a.height=parseInt(a.height,10)/100*a.presentationHeight),a}function Dt(t,e){"object"===typeof t&&"function"===typeof t.setAttribute&&t.setAttribute("data-previous-indexv",e||0)}function Ot(t){if("object"===typeof t&&"function"===typeof t.setAttribute&&t.classList.contains("stack")){var e=t.hasAttribute("data-start-indexv")?"data-start-indexv":"data-previous-indexv";return parseInt(t.getAttribute(e)||0,10)}return 0}function jt(){if(g.overview&&!Vt()){y=!0,S.wrapper.classList.add("overview"),S.wrapper.classList.remove("overview-deactivating"),C.overviewTransitions&&setTimeout((function(){S.wrapper.classList.add("overview-animated")}),1),ra(),S.slides.appendChild(S.background),ft(S.wrapper.querySelectorAll(c)).forEach((function(t){t.classList.contains("stack")||t.addEventListener("click",Pa,!0)}));var t=70,i=Ht();_=i.width+t,w=i.height+t,g.rtl&&(_=-_),he(),Ft(),Wt(),qt(),St("overviewshown",{indexh:e,indexv:a,currentSlide:r})}}function Ft(){ft(S.wrapper.querySelectorAll(u)).forEach((function(t,e){t.setAttribute("data-index-h",e),vt(t,"translate3d("+e*_+"px, 0, 0)"),t.classList.contains("stack")&&ft(t.querySelectorAll("section")).forEach((function(t,a){t.setAttribute("data-index-h",e),t.setAttribute("data-index-v",a),vt(t,"translate3d(0, "+a*w+"px, 0)")}))})),ft(S.background.childNodes).forEach((function(t,e){vt(t,"translate3d("+e*_+"px, 0, 0)"),ft(t.querySelectorAll(".slide-background")).forEach((function(t,e){vt(t,"translate3d(0, "+e*w+"px, 0)")}))}))}function Wt(){var t=Math.min(window.innerWidth,window.innerHeight),i=Math.max(t/5,150)/t;bt({overview:["scale("+i+")","translateX("+-e*_+"px)","translateY("+-a*w+"px)"].join(" ")})}function Xt(){g.overview&&(y=!1,S.wrapper.classList.remove("overview"),S.wrapper.classList.remove("overview-animated"),S.wrapper.classList.add("overview-deactivating"),setTimeout((function(){S.wrapper.classList.remove("overview-deactivating")}),1),S.wrapper.appendChild(S.background),ft(S.wrapper.querySelectorAll(c)).forEach((function(t){vt(t,""),t.removeEventListener("click",Pa,!0)})),ft(S.background.querySelectorAll(".slide-background")).forEach((function(t){vt(t,"")})),bt({overview:""}),ne(e,a),qt(),ia(),St("overviewhidden",{indexh:e,indexv:a,currentSlide:r}))}function Ut(t){"boolean"===typeof t?t?jt():Xt():Vt()?Xt():jt()}function Vt(){return y}function Yt(t){var e="/",a=t||r,i=a?a.getAttribute("id"):null;i&&(i=encodeURIComponent(i));var n=He(t);if(g.fragmentInURL||(n.f=void 0),"string"===typeof i&&i.length&&void 0===n.f)e="/"+i;else{var o=g.hashOneBasedIndex?1:0;(n.h>0||n.v>0||void 0!==n.f)&&(e+=n.h+o),(n.v>0||void 0!==n.f)&&(e+="/"+(n.v+o)),void 0!==n.f&&(e+="/"+n.f)}return e}function Zt(t){return t=t||r,t&&t.parentNode&&!!t.parentNode.nodeName.match(/section/i)}function Kt(){var t=document.documentElement,e=t.requestFullscreen||t.webkitRequestFullscreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;e&&e.apply(t)}function Gt(){N&&(N=!1,S.wrapper.style.cursor="")}function Jt(){!1===N&&(N=!0,S.wrapper.style.cursor="none")}function Qt(){if(g.pause){var t=S.wrapper.classList.contains("paused");ra(),S.wrapper.classList.add("paused"),!1===t&&St("paused")}}function te(){var t=S.wrapper.classList.contains("paused");S.wrapper.classList.remove("paused"),ia(),t&&St("resumed")}function ee(t){"boolean"===typeof t?t?Qt():te():ae()?te():Qt()}function ae(){return S.wrapper.classList.contains("paused")}function ie(t){"boolean"===typeof t?t?oa():na():H?oa():na()}function re(){return!(!R||H)}function ne(t,n,o,s){i=r;var l=S.wrapper.querySelectorAll(u);if(0!==l.length){void 0!==n||Vt()||(n=Ot(l[t])),i&&i.parentNode&&i.parentNode.classList.contains("stack")&&Dt(i.parentNode,a);var d=M.concat();M.length=0;var c=e||0,m=a||0;e=pe(u,void 0===t?e:t),a=pe(p,void 0===n?a:n),he(),qt(),Vt()&&Wt();var f=l[e],g=f.querySelectorAll("section");r=g[a]||f,"undefined"!==typeof o&&ta(o);var v=e!==c||a!==m;v||(i=null),i&&i!==r&&(i.classList.remove("present"),i.setAttribute("aria-hidden","true"),S.wrapper.querySelector(h).classList.contains("present")&&setTimeout((function(){var t,e=ft(S.wrapper.querySelectorAll(u+".stack"));for(t in e)e[t]&&Dt(e[t],0)}),0));t:for(var b=0,y=M.length;b<y;b++){for(var _=0;_<d.length;_++)if(d[_]===M[b]){d.splice(_,1);continue t}document.documentElement.classList.add(M[b]),St(M[b])}while(d.length)document.documentElement.classList.remove(d.pop());v&&St("slidechanged",{indexh:e,indexv:a,previousSlide:i,currentSlide:r,origin:s}),!v&&i||(Ne(i),Ce(r)),S.statusDiv.textContent=J(r),we(),ve(),ke(),xe(),be(),me(),Qe(),Be(),ia()}}function oe(){lt(),st(),qt(),R=g.autoSlide,ia(),at(),Be(),ce(),we(),ve(),be(),he(),ke(!0),fe(),me(),ze(),!1===g.autoPlayMedia?Ne(r,{unloadIframes:!1}):Ce(r),Vt()&&Ft()}function se(t){t=t||r,rt(t),le(t),Ae(t),ke(),me()}function le(t){return t=t||r,Je(t.querySelectorAll(".fragment"))}function de(){var t=ft(S.wrapper.querySelectorAll(u));t.forEach((function(t){var e=ft(t.querySelectorAll("section"));e.forEach((function(t,e){e>0&&(t.classList.remove("present"),t.classList.remove("past"),t.classList.add("future"),t.setAttribute("aria-hidden","true"))}))}))}function ce(){var t=ft(S.wrapper.querySelectorAll(u));t.forEach((function(t){var e=ft(t.querySelectorAll("section"));e.forEach((function(t,e){Je(t.querySelectorAll(".fragment"))})),0===e.length&&Je(t.querySelectorAll(".fragment"))}))}function ue(){var t=ft(S.wrapper.querySelectorAll(u));t.forEach((function(e){S.slides.insertBefore(e,t[Math.floor(Math.random()*t.length)])}))}function pe(t,e){var a=ft(S.wrapper.querySelectorAll(t)),i=a.length,r=Mt();if(i){g.loop&&(e%=i,e<0&&(e=i+e)),e=Math.max(Math.min(e,i-1),0);for(var n=0;n<i;n++){var o=a[n],s=g.rtl&&!Zt(o);o.classList.remove("past"),o.classList.remove("present"),o.classList.remove("future"),o.setAttribute("hidden",""),o.setAttribute("aria-hidden","true"),o.querySelector("section")&&o.classList.add("stack"),r?o.classList.add("present"):n<e?(o.classList.add(s?"future":"past"),g.fragments&&ft(o.querySelectorAll(".fragment")).forEach((function(t){t.classList.add("visible"),t.classList.remove("current-fragment")}))):n>e&&(o.classList.add(s?"past":"future"),g.fragments&&ft(o.querySelectorAll(".fragment.visible")).forEach((function(t){t.classList.remove("visible"),t.classList.remove("current-fragment")})))}a[e].classList.add("present"),a[e].removeAttribute("hidden"),a[e].removeAttribute("aria-hidden");var l=a[e].getAttribute("data-state");l&&(M=M.concat(l.split(" ")))}else e=0;return e}function he(){var t,i,r=ft(S.wrapper.querySelectorAll(u)),n=r.length;if(n&&"undefined"!==typeof e){var s=Vt()?10:g.viewDistance;o&&(s=Vt()?6:g.mobileViewDistance),Mt()&&(s=Number.MAX_VALUE);for(var l=0;l<n;l++){var d=r[l],c=ft(d.querySelectorAll("section")),p=c.length;if(t=Math.abs((e||0)-l)||0,g.loop&&(t=Math.abs(((e||0)-l)%(n-s))||0),t<s?Ae(d):Ee(d),p)for(var h=Ot(d),m=0;m<p;m++){var f=c[m];i=l===(e||0)?Math.abs((a||0)-m):Math.abs(m-h),t+i<s?Ae(f):Ee(f)}}We()?S.wrapper.classList.add("has-vertical-slides"):S.wrapper.classList.remove("has-vertical-slides"),Fe()?S.wrapper.classList.add("has-horizontal-slides"):S.wrapper.classList.remove("has-horizontal-slides")}}function me(){g.showNotes&&S.speakerNotes&&r&&!Mt()&&(S.speakerNotes.innerHTML=Ze()||'<span class="notes-placeholder">No notes on this slide.</span>')}function fe(){g.showNotes&&ge()?S.wrapper.classList.add("show-notes"):S.wrapper.classList.remove("show-notes")}function ge(){return S.slides.querySelectorAll("[data-notes], aside.notes").length>0}function ve(){g.progress&&S.progressbar&&(S.progressbar.style.width=Pe()*S.wrapper.offsetWidth+"px")}function be(){g.slideNumber&&S.slideNumber&&(S.slideNumber.innerHTML=ye())}function ye(t){var e,a="h.v";if(void 0===t&&(t=r),"function"===typeof g.slideNumber)e=g.slideNumber(t);else switch("string"===typeof g.slideNumber&&(a=g.slideNumber),/c/.test(a)||1!==S.wrapper.querySelectorAll(u).length||(a="c"),e=[],a){case"c":e.push(Ie(t)+1);break;case"c/t":e.push(Ie(t)+1,"/",Ue());break;default:var i=He(t);e.push(i.h+1);var n="h/v"===a?"/":".";Zt(t)&&e.push(n,i.v+1)}var o="#"+Yt(t);return _e(e[0],e[1],e[2],o)}function _e(t,e,a,i){return void 0===i&&(i="#"+Yt()),"number"!==typeof a||isNaN(a)?'<a href="'+i+'"><span class="slide-number-a">'+t+"</span></a>":'<a href="'+i+'"><span class="slide-number-a">'+t+'</span><span class="slide-number-delimiter">'+e+'</span><span class="slide-number-b">'+a+"</span></a>"}function we(){var t=Se(),e=Le();S.controlsLeft.concat(S.controlsRight).concat(S.controlsUp).concat(S.controlsDown).concat(S.controlsPrev).concat(S.controlsNext).forEach((function(t){t.classList.remove("enabled"),t.classList.remove("fragmented"),t.setAttribute("disabled","disabled")})),t.left&&S.controlsLeft.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),t.right&&S.controlsRight.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),t.up&&S.controlsUp.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),t.down&&S.controlsDown.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),(t.left||t.up)&&S.controlsPrev.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),(t.right||t.down)&&S.controlsNext.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),r&&(e.prev&&S.controlsPrev.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")})),e.next&&S.controlsNext.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")})),Zt(r)?(e.prev&&S.controlsUp.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")})),e.next&&S.controlsDown.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")}))):(e.prev&&S.controlsLeft.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")})),e.next&&S.controlsRight.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")})))),g.controlsTutorial&&(!x&&t.down?S.controlsDownArrow.classList.add("highlight"):(S.controlsDownArrow.classList.remove("highlight"),!k&&t.right&&0===a?S.controlsRightArrow.classList.add("highlight"):S.controlsRightArrow.classList.remove("highlight")))}function ke(t){var i=null,o=g.rtl?"future":"past",s=g.rtl?"past":"future";if(ft(S.background.childNodes).forEach((function(r,n){r.classList.remove("past"),r.classList.remove("present"),r.classList.remove("future"),n<e?r.classList.add(o):n>e?r.classList.add(s):(r.classList.add("present"),i=r),(t||n===e)&&ft(r.querySelectorAll(".slide-background")).forEach((function(t,r){t.classList.remove("past"),t.classList.remove("present"),t.classList.remove("future"),r<a?t.classList.add("past"):r>a?t.classList.add("future"):(t.classList.add("present"),n===e&&(i=t))}))})),n&&Ne(n,{unloadIframes:!Me(n)}),i){Ce(i);var l=i.querySelector(".slide-background-content");if(l){var d=l.style.backgroundImage||"";/\.gif/i.test(d)&&(l.style.backgroundImage="",window.getComputedStyle(l).opacity,l.style.backgroundImage=d)}var c=n?n.getAttribute("data-background-hash"):null,u=i.getAttribute("data-background-hash");u&&u===c&&i!==n&&S.background.classList.add("no-transition"),n=i}r&&["has-light-background","has-dark-background"].forEach((function(t){r.classList.contains(t)?S.wrapper.classList.add(t):S.wrapper.classList.remove(t)})),setTimeout((function(){S.background.classList.remove("no-transition")}),1)}function xe(){if(g.parallaxBackgroundImage){var t,i,r=S.wrapper.querySelectorAll(u),n=S.wrapper.querySelectorAll(p),o=S.background.style.backgroundSize.split(" ");1===o.length?t=i=parseInt(o[0],10):(t=parseInt(o[0],10),i=parseInt(o[1],10));var s,l,d=S.background.offsetWidth,c=r.length;s="number"===typeof g.parallaxBackgroundHorizontal?g.parallaxBackgroundHorizontal:c>1?(t-d)/(c-1):0,l=s*e*-1;var h,m,f=S.background.offsetHeight,v=n.length;h="number"===typeof g.parallaxBackgroundVertical?g.parallaxBackgroundVertical:(i-f)/(v-1),m=v>0?h*a:0,S.background.style.backgroundPosition=l+"px "+-m+"px"}}function Me(t){var e=g.preloadIframes;return"boolean"!==typeof e&&(e=t.hasAttribute("data-preload")),e}function Ae(t,e){e=e||{},t.style.display=g.display,ft(t.querySelectorAll("img[data-src], video[data-src], audio[data-src], iframe[data-src]")).forEach((function(t){("IFRAME"!==t.tagName||Me(t))&&(t.setAttribute("src",t.getAttribute("data-src")),t.setAttribute("data-lazy-loaded",""),t.removeAttribute("data-src"))})),ft(t.querySelectorAll("video, audio")).forEach((function(t){var e=0;ft(t.querySelectorAll("source[data-src]")).forEach((function(t){t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src"),t.setAttribute("data-lazy-loaded",""),e+=1})),e>0&&t.load()}));var a=t.slideBackgroundElement;if(a){a.style.display="block";var i=t.slideBackgroundContentElement,r=t.getAttribute("data-background-iframe");if(!1===a.hasAttribute("data-loaded")){a.setAttribute("data-loaded","true");var n=t.getAttribute("data-background-image"),s=t.getAttribute("data-background-video"),l=t.hasAttribute("data-background-video-loop"),d=t.hasAttribute("data-background-video-muted");if(n)i.style.backgroundImage="url("+encodeURI(n)+")";else if(s&&!Re()){var c=document.createElement("video");l&&c.setAttribute("loop",""),d&&(c.muted=!0),o&&(c.muted=!0,c.autoplay=!0,c.setAttribute("playsinline","")),s.split(",").forEach((function(t){c.innerHTML+='<source src="'+t+'">'})),i.appendChild(c)}else if(r&&!0!==e.excludeIframes){var u=document.createElement("iframe");u.setAttribute("allowfullscreen",""),u.setAttribute("mozallowfullscreen",""),u.setAttribute("webkitallowfullscreen",""),u.setAttribute("allow","autoplay"),u.setAttribute("data-src",r),u.style.width="100%",u.style.height="100%",u.style.maxHeight="100%",u.style.maxWidth="100%",i.appendChild(u)}}var p=i.querySelector("iframe[data-src]");p&&Me(a)&&!/autoplay=(1|true|yes)/gi.test(r)&&p.getAttribute("src")!==r&&p.setAttribute("src",r)}}function Ee(t){t.style.display="none";var e=Ye(t);e&&(e.style.display="none",ft(e.querySelectorAll("iframe[src]")).forEach((function(t){t.removeAttribute("src")}))),ft(t.querySelectorAll("video[data-lazy-loaded][src], audio[data-lazy-loaded][src], iframe[data-lazy-loaded][src]")).forEach((function(t){t.setAttribute("data-src",t.getAttribute("src")),t.removeAttribute("src")})),ft(t.querySelectorAll("video[data-lazy-loaded] source[src], audio source[src]")).forEach((function(t){t.setAttribute("data-src",t.getAttribute("src")),t.removeAttribute("src")}))}function Se(){var t=S.wrapper.querySelectorAll(u),i=S.wrapper.querySelectorAll(p),r={left:e>0,right:e<t.length-1,up:a>0,down:a<i.length-1};if(g.loop&&(t.length>1&&(r.left=!0,r.right=!0),i.length>1&&(r.up=!0,r.down=!0)),g.rtl){var n=r.left;r.left=r.right,r.right=n}return r}function Le(){if(r&&g.fragments){var t=r.querySelectorAll(".fragment"),e=r.querySelectorAll(".fragment:not(.visible)");return{prev:t.length-e.length>0,next:!!e.length}}return{prev:!1,next:!1}}function ze(){var t=function(t,e,a){ft(S.slides.querySelectorAll("iframe["+t+'*="'+e+'"]')).forEach((function(e){var i=e.getAttribute(t);i&&-1===i.indexOf(a)&&e.setAttribute(t,i+(/\?/.test(i)?"&":"?")+a)}))};t("src","youtube.com/embed/","enablejsapi=1"),t("data-src","youtube.com/embed/","enablejsapi=1"),t("src","player.vimeo.com/","api=1"),t("data-src","player.vimeo.com/","api=1")}function Ce(t){t&&!Re()&&(ft(t.querySelectorAll('img[src$=".gif"]')).forEach((function(t){t.setAttribute("src",t.getAttribute("src"))})),ft(t.querySelectorAll("video, audio")).forEach((function(t){if(!_t(t,".fragment")||_t(t,".fragment.visible")){var e=g.autoPlayMedia;if("boolean"!==typeof e&&(e=t.hasAttribute("data-autoplay")||!!_t(t,".slide-background")),e&&"function"===typeof t.play)if(t.readyState>1)Te({target:t});else if(o){var a=t.play();a&&"function"===typeof a.catch&&!1===t.controls&&a.catch((function(){t.controls=!0,t.addEventListener("play",(function(){t.controls=!1}))}))}else t.removeEventListener("loadeddata",Te),t.addEventListener("loadeddata",Te)}})),ft(t.querySelectorAll("iframe[src]")).forEach((function(t){_t(t,".fragment")&&!_t(t,".fragment.visible")||$e({target:t})})),ft(t.querySelectorAll("iframe[data-src]")).forEach((function(t){_t(t,".fragment")&&!_t(t,".fragment.visible")||t.getAttribute("src")!==t.getAttribute("data-src")&&(t.removeEventListener("load",$e),t.addEventListener("load",$e),t.setAttribute("src",t.getAttribute("data-src")))})))}function Te(t){var e=!!_t(t.target,"html"),a=!!_t(t.target,".present");e&&a&&(t.target.currentTime=0,t.target.play()),t.target.removeEventListener("loadeddata",Te)}function $e(t){var e=t.target;if(e&&e.contentWindow){var a=!!_t(t.target,"html"),i=!!_t(t.target,".present");if(a&&i){var r=g.autoPlayMedia;"boolean"!==typeof r&&(r=e.hasAttribute("data-autoplay")||!!_t(e,".slide-background")),/youtube\.com\/embed\//.test(e.getAttribute("src"))&&r?e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):/player\.vimeo\.com\//.test(e.getAttribute("src"))&&r?e.contentWindow.postMessage('{"method":"play"}',"*"):e.contentWindow.postMessage("slide:start","*")}}}function Ne(t,e){e=mt({unloadIframes:!0},e||{}),t&&t.parentNode&&(ft(t.querySelectorAll("video, audio")).forEach((function(t){t.hasAttribute("data-ignore")||"function"!==typeof t.pause||(t.setAttribute("data-paused-by-reveal",""),t.pause())})),ft(t.querySelectorAll("iframe")).forEach((function(t){t.contentWindow&&t.contentWindow.postMessage("slide:stop","*"),t.removeEventListener("load",$e)})),ft(t.querySelectorAll('iframe[src*="youtube.com/embed/"]')).forEach((function(t){!t.hasAttribute("data-ignore")&&t.contentWindow&&"function"===typeof t.contentWindow.postMessage&&t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})),ft(t.querySelectorAll('iframe[src*="player.vimeo.com/"]')).forEach((function(t){!t.hasAttribute("data-ignore")&&t.contentWindow&&"function"===typeof t.contentWindow.postMessage&&t.contentWindow.postMessage('{"method":"pause"}',"*")})),!0===e.unloadIframes&&ft(t.querySelectorAll("iframe[data-src]")).forEach((function(t){t.setAttribute("src","about:blank"),t.removeAttribute("src")})))}function Ie(t){void 0===t&&(t=r);var e=ft(S.wrapper.querySelectorAll(u)),a=0;t:for(var i=0;i<e.length;i++){for(var n=e[i],o=ft(n.querySelectorAll("section")),s=0;s<o.length;s++){if(o[s]===t)break t;a++}if(n===t)break;!1===n.classList.contains("stack")&&a++}return a}function Pe(){var t=Ue(),e=Ie();if(r){var a=r.querySelectorAll(".fragment");if(a.length>0){var i=r.querySelectorAll(".fragment.visible"),n=.9;e+=i.length/a.length*n}}return Math.min(e/(t-1),1)}function Re(){return!!window.location.search.match(/receiver/gi)}function qe(){var i=window.location.hash,n=i.slice(2).split("/"),o=i.replace(/#|\//gi,"");if(!/^[0-9]*$/.test(n[0])&&o.length){var s;try{s=document.getElementById(decodeURIComponent(o))}catch(m){}var l=!!r&&r.getAttribute("id")===o;if(s){if(!l){var d=t.getIndices(s);ne(d.h,d.v)}}else ne(e||0,a||0)}else{var c,u=g.hashOneBasedIndex?1:0,p=parseInt(n[0],10)-u||0,h=parseInt(n[1],10)-u||0;g.fragmentInURL&&(c=parseInt(n[2],10),isNaN(c)&&(c=void 0)),p===e&&h===a&&void 0===c||ne(p,h,c)}}function Be(t){clearTimeout($),"number"===typeof t?$=setTimeout(Be,t):r&&(g.history||!window.history?window.location.hash=Yt():g.hash?window.history.replaceState(null,null,"#"+Yt()):window.history.replaceState(null,null,window.location.pathname+window.location.search))}function He(t){var i,n=e,o=a;if(t){var s=Zt(t),l=s?t.parentNode:t,d=ft(S.wrapper.querySelectorAll(u));n=Math.max(d.indexOf(l),0),o=void 0,s&&(o=Math.max(ft(t.parentNode.querySelectorAll("section")).indexOf(t),0))}if(!t&&r){var c=r.querySelectorAll(".fragment").length>0;if(c){var p=r.querySelector(".current-fragment");i=p&&p.hasAttribute("data-fragment-index")?parseInt(p.getAttribute("data-fragment-index"),10):r.querySelectorAll(".fragment.visible").length-1}}return{h:n,v:o,f:i}}function De(){return ft(S.wrapper.querySelectorAll(c+":not(.stack)"))}function Oe(){return ft(S.wrapper.querySelectorAll(u))}function je(){return ft(S.wrapper.querySelectorAll(".slides>section>section"))}function Fe(){return Oe().length>1}function We(){return je().length>1}function Xe(){return De().map((function(t){for(var e={},a=0;a<t.attributes.length;a++){var i=t.attributes[a];e[i.name]=i.value}return e}))}function Ue(){return De().length}function Ve(t,e){var a=S.wrapper.querySelectorAll(u)[t],i=a&&a.querySelectorAll("section");return i&&i.length&&"number"===typeof e?i?i[e]:void 0:a}function Ye(t,e){var a="number"===typeof t?Ve(t,e):t;if(a)return a.slideBackgroundElement}function Ze(t){if(t=t||r,t.hasAttribute("data-notes"))return t.getAttribute("data-notes");var e=t.querySelector("aside.notes");return e?e.innerHTML:null}function Ke(){var t=He();return{indexh:t.h,indexv:t.v,indexf:t.f,paused:ae(),overview:Vt()}}function Ge(t){if("object"===typeof t){ne(gt(t.indexh),gt(t.indexv),gt(t.indexf));var e=gt(t.paused),a=gt(t.overview);"boolean"===typeof e&&e!==ae()&&ee(e),"boolean"===typeof a&&a!==Vt()&&Ut(a)}}function Je(t,e){t=ft(t);var a=[],i=[],r=[];t.forEach((function(t,e){if(t.hasAttribute("data-fragment-index")){var r=parseInt(t.getAttribute("data-fragment-index"),10);a[r]||(a[r]=[]),a[r].push(t)}else i.push([t])})),a=a.concat(i);var n=0;return a.forEach((function(t){t.forEach((function(t){r.push(t),t.setAttribute("data-fragment-index",n)})),n++})),!0===e?a:r}function Qe(t,e){var a={shown:[],hidden:[]};if(r&&g.fragments&&(e=e||Je(r.querySelectorAll(".fragment")),e.length)){var i=0;if("number"!==typeof t){var n=Je(r.querySelectorAll(".fragment.visible")).pop();n&&(t=parseInt(n.getAttribute("data-fragment-index")||0,10))}ft(e).forEach((function(e,r){e.hasAttribute("data-fragment-index")&&(r=parseInt(e.getAttribute("data-fragment-index"),10)),i=Math.max(i,r),r<=t?(e.classList.contains("visible")||a.shown.push(e),e.classList.add("visible"),e.classList.remove("current-fragment"),S.statusDiv.textContent=J(e),r===t&&(e.classList.add("current-fragment"),Ce(e))):(e.classList.contains("visible")&&a.hidden.push(e),e.classList.remove("visible"),e.classList.remove("current-fragment"))})),t="number"===typeof t?t:-1,t=Math.max(Math.min(t,i),-1),r.setAttribute("data-fragment",t)}return a}function ta(t,e){if(r&&g.fragments){var a=Je(r.querySelectorAll(".fragment"));if(a.length){if("number"!==typeof t){var i=Je(r.querySelectorAll(".fragment.visible")).pop();t=i?parseInt(i.getAttribute("data-fragment-index")||0,10):-1}"number"===typeof e&&(t+=e);var n=Qe(t,a);return n.hidden.length&&St("fragmenthidden",{fragment:n.hidden[0],fragments:n.hidden}),n.shown.length&&St("fragmentshown",{fragment:n.shown[0],fragments:n.shown}),we(),ve(),g.fragmentInURL&&Be(),!(!n.shown.length&&!n.hidden.length)}}return!1}function ea(){return ta(null,1)}function aa(){return ta(null,-1)}function ia(){if(ra(),r&&!1!==g.autoSlide){var e=r.querySelector(".current-fragment");e||(e=r.querySelector(".fragment"));var a=e?e.getAttribute("data-autoslide"):null,i=r.parentNode?r.parentNode.getAttribute("data-autoslide"):null,n=r.getAttribute("data-autoslide");R=a?parseInt(a,10):n?parseInt(n,10):i?parseInt(i,10):g.autoSlide,0===r.querySelectorAll(".fragment").length&&ft(r.querySelectorAll("video, audio")).forEach((function(t){t.hasAttribute("data-autoplay")&&R&&1e3*t.duration/t.playbackRate>R&&(R=1e3*t.duration/t.playbackRate+1e3)})),!R||H||ae()||Vt()||t.isLastSlide()&&!Le().next&&!0!==g.loop||(q=setTimeout((function(){"function"===typeof g.autoSlideMethod?g.autoSlideMethod():pa(),ia()}),R),B=Date.now()),l&&l.setPlaying(-1!==q)}}function ra(){clearTimeout(q),q=-1}function na(){R&&!H&&(H=!0,St("autoslidepaused"),clearTimeout(q),l&&l.setPlaying(!1))}function oa(){R&&H&&(H=!1,St("autoslideresumed"),ia())}function sa(){g.rtl?(Vt()||!1===ea())&&Se().left&&ne(e+1,"grid"===g.navigationMode?a:void 0):(Vt()||!1===aa())&&Se().left&&ne(e-1,"grid"===g.navigationMode?a:void 0)}function la(){k=!0,g.rtl?(Vt()||!1===aa())&&Se().right&&ne(e-1,"grid"===g.navigationMode?a:void 0):(Vt()||!1===ea())&&Se().right&&ne(e+1,"grid"===g.navigationMode?a:void 0)}function da(){(Vt()||!1===aa())&&Se().up&&ne(e,a-1)}function ca(){x=!0,(Vt()||!1===ea())&&Se().down&&ne(e,a+1)}function ua(){var t;if(!1===aa())if(Se().up)da();else if(t=g.rtl?ft(S.wrapper.querySelectorAll(u+".future")).pop():ft(S.wrapper.querySelectorAll(u+".past")).pop(),t){var a=t.querySelectorAll("section").length-1||void 0,i=e-1;ne(i,a)}}function pa(){if(k=!0,x=!0,!1===ea()){var e=Se();e.down&&e.right&&g.loop&&t.isLastVerticalSlide(r)&&(e.down=!1),e.down?ca():g.rtl?sa():la()}}function ha(t){while(t&&"function"===typeof t.hasAttribute){if(t.hasAttribute("data-prevent-swipe"))return!0;t=t.parentNode}return!1}function ma(t){g.autoSlideStoppable&&na()}function fa(t){Gt(),clearTimeout(I),I=setTimeout(Jt,g.hideCursorTime)}function ga(t){t.shiftKey&&63===t.charCode&&It()}function va(e){if("function"===typeof g.keyboardCondition&&!1===g.keyboardCondition(e))return!0;var a=e.keyCode,i=H;ma(e);var r=document.activeElement&&"inherit"!==document.activeElement.contentEditable,n=document.activeElement&&document.activeElement.tagName&&/input|textarea/i.test(document.activeElement.tagName),o=document.activeElement&&document.activeElement.className&&/speaker-notes/i.test(document.activeElement.className),s=e.shiftKey&&32===e.keyCode,l=e.shiftKey&&37===a,d=e.shiftKey&&39===a,c=!s&&!l&&!d&&(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey);if(!(r||n||o||c)){var u,p=[66,86,190,191];if("object"===typeof g.keyboard)for(u in g.keyboard)"togglePause"===g.keyboard[u]&&p.push(parseInt(u,10));if(ae()&&-1===p.indexOf(a))return!1;var h="linear"===g.navigationMode||!Fe()||!We(),m=!1;if("object"===typeof g.keyboard)for(u in g.keyboard)if(parseInt(u,10)===a){var f=g.keyboard[u];"function"===typeof f?f.apply(null,[e]):"string"===typeof f&&"function"===typeof t[f]&&t[f].call(),m=!0}if(!1===m)for(u in j)if(parseInt(u,10)===a){var v=j[u].callback;"function"===typeof v?v.apply(null,[e]):"string"===typeof v&&"function"===typeof t[v]&&t[v].call(),m=!0}!1===m&&(m=!0,80===a||33===a?ua():78===a||34===a?pa():72===a||37===a?l?ne(0):!Vt()&&h?ua():sa():76===a||39===a?d?ne(Number.MAX_VALUE):!Vt()&&h?pa():la():75===a||38===a?!Vt()&&h?ua():da():74===a||40===a?!Vt()&&h?pa():ca():36===a?ne(0):35===a?ne(Number.MAX_VALUE):32===a?(Vt()&&Xt(),e.shiftKey?ua():pa()):58===a||59===a||66===a||86===a||190===a||191===a?ee():70===a?Kt():65===a?g.autoSlideStoppable&&ie(i):m=!1),m?e.preventDefault&&e.preventDefault():27!==a&&79!==a||!C.transforms3d||(S.overlay?Rt():Ut(),e.preventDefault&&e.preventDefault()),ia()}}function ba(t){if(ha(t.target))return!0;D.startX=t.touches[0].clientX,D.startY=t.touches[0].clientY,D.startCount=t.touches.length}function ya(t){if(ha(t.target))return!0;if(D.captured)m.match(/android/gi)&&t.preventDefault();else{ma(t);var e=t.touches[0].clientX,a=t.touches[0].clientY;if(1===t.touches.length&&2!==D.startCount){var i=e-D.startX,n=a-D.startY;i>D.threshold&&Math.abs(i)>Math.abs(n)?(D.captured=!0,"linear"===g.navigationMode?g.rtl?pa():ua():sa()):i<-D.threshold&&Math.abs(i)>Math.abs(n)?(D.captured=!0,"linear"===g.navigationMode?g.rtl?ua():pa():la()):n>D.threshold?(D.captured=!0,"linear"===g.navigationMode?ua():da()):n<-D.threshold&&(D.captured=!0,"linear"===g.navigationMode?pa():ca()),g.embedded?(D.captured||Zt(r))&&t.preventDefault():t.preventDefault()}}}function _a(t){D.captured=!1}function wa(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&"touch"!==t.pointerType||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],ba(t))}function ka(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&"touch"!==t.pointerType||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],ya(t))}function xa(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&"touch"!==t.pointerType||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],_a(t))}function Ma(t){if(Date.now()-T>600){T=Date.now();var e=t.detail||-t.wheelDelta;e>0?pa():e<0&&ua()}}function Aa(t){ma(t),t.preventDefault();var e=ft(S.wrapper.querySelectorAll(u)).length,a=Math.floor(t.clientX/S.wrapper.offsetWidth*e);g.rtl&&(a=e-a),ne(a)}function Ea(t){t.preventDefault(),ma(),"linear"===g.navigationMode?ua():sa()}function Sa(t){t.preventDefault(),ma(),"linear"===g.navigationMode?pa():la()}function La(t){t.preventDefault(),ma(),da()}function za(t){t.preventDefault(),ma(),ca()}function Ca(t){t.preventDefault(),ma(),ua()}function Ta(t){t.preventDefault(),ma(),pa()}function $a(t){qe()}function Na(t){qt()}function Ia(t){var e=document.webkitHidden||document.msHidden||document.hidden;!1===e&&document.activeElement!==document.body&&("function"===typeof document.activeElement.blur&&document.activeElement.blur(),document.body.focus())}function Pa(t){if(P&&Vt()){t.preventDefault();var e=t.target;while(e&&!e.nodeName.match(/section/gi))e=e.parentNode;if(e&&!e.classList.contains("disabled")&&(Xt(),e.nodeName.match(/section/gi))){var a=parseInt(e.getAttribute("data-index-h"),10),i=parseInt(e.getAttribute("data-index-v"),10);ne(a,i)}}}function Ra(t){if(t.currentTarget&&t.currentTarget.hasAttribute("href")){var e=t.currentTarget.getAttribute("href");e&&(Nt(e),t.preventDefault())}}function qa(e){t.isLastSlide()&&!1===g.loop?(ne(0,0),oa()):H?oa():na()}function Ba(t,e){this.diameter=100,this.diameter2=this.diameter/2,this.thickness=6,this.playing=!1,this.progress=0,this.progressOffset=1,this.container=t,this.progressCheck=e,this.canvas=document.createElement("canvas"),this.canvas.className="playback",this.canvas.width=this.diameter,this.canvas.height=this.diameter,this.canvas.style.width=this.diameter2+"px",this.canvas.style.height=this.diameter2+"px",this.context=this.canvas.getContext("2d"),this.container.appendChild(this.canvas),this.render()}return Ba.prototype.setPlaying=function(t){var e=this.playing;this.playing=t,!e&&this.playing?this.animate():this.render()},Ba.prototype.animate=function(){var t=this.progress;this.progress=this.progressCheck(),t>.8&&this.progress<.2&&(this.progressOffset=this.progress),this.render(),this.playing&&C.requestAnimationFrameMethod.call(window,this.animate.bind(this))},Ba.prototype.render=function(){var t=this.playing?this.progress:0,e=this.diameter2-this.thickness,a=this.diameter2,i=this.diameter2,r=28;this.progressOffset+=.1*(1-this.progressOffset);var n=-Math.PI/2+t*(2*Math.PI),o=-Math.PI/2+this.progressOffset*(2*Math.PI);this.context.save(),this.context.clearRect(0,0,this.diameter,this.diameter),this.context.beginPath(),this.context.arc(a,i,e+4,0,2*Math.PI,!1),this.context.fillStyle="rgba( 0, 0, 0, 0.4 )",this.context.fill(),this.context.beginPath(),this.context.arc(a,i,e,0,2*Math.PI,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="rgba( 255, 255, 255, 0.2 )",this.context.stroke(),this.playing&&(this.context.beginPath(),this.context.arc(a,i,e,o,n,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="#fff",this.context.stroke()),this.context.translate(a-r/2,i-r/2),this.playing?(this.context.fillStyle="#fff",this.context.fillRect(0,0,r/2-4,r),this.context.fillRect(r/2+4,0,r/2-4,r)):(this.context.beginPath(),this.context.translate(4,0),this.context.moveTo(0,0),this.context.lineTo(r-4,r/2),this.context.lineTo(0,r),this.context.fillStyle="#fff",this.context.fill()),this.context.restore()},Ba.prototype.on=function(t,e){this.canvas.addEventListener(t,e,!1)},Ba.prototype.off=function(t,e){this.canvas.removeEventListener(t,e,!1)},Ba.prototype.destroy=function(){this.playing=!1,this.canvas.parentNode&&this.container.removeChild(this.canvas)},t={VERSION:d,initialize:F,configure:ot,sync:oe,syncSlide:se,syncFragments:le,slide:ne,left:sa,right:la,up:da,down:ca,prev:ua,next:pa,navigateFragment:ta,prevFragment:aa,nextFragment:ea,navigateTo:ne,navigateLeft:sa,navigateRight:la,navigateUp:da,navigateDown:ca,navigatePrev:ua,navigateNext:pa,layout:qt,shuffle:ue,availableRoutes:Se,availableFragments:Le,toggleHelp:It,toggleOverview:Ut,togglePause:ee,toggleAutoSlide:ie,isOverview:Vt,isPaused:ae,isAutoSliding:re,isSpeakerNotes:Re,loadSlide:Ae,unloadSlide:Ee,addEventListeners:st,removeEventListeners:lt,getState:Ke,setState:Ge,getSlidePastCount:Ie,getProgress:Pe,getIndices:He,getSlides:De,getSlidesAttributes:Xe,getTotalSlides:Ue,getSlide:Ve,getSlideBackground:Ye,getSlideNotes:Ze,getHorizontalSlides:Oe,getVerticalSlides:je,hasHorizontalSlides:Fe,hasVerticalSlides:We,getPreviousSlide:function(){return i},getCurrentSlide:function(){return r},getScale:function(){return A},getConfig:function(){return g},getQueryHash:function(){var t={};for(var e in location.search.replace(/[A-Z0-9]+?=([\w\.%-]*)/gi,(function(e){t[e.split("=").shift()]=e.split("=").pop()})),t){var a=t[e];t[e]=gt(unescape(a))}return t},getRevealElement:function(){return S.wrapper||document.querySelector(".reveal")},getPlugins:function(){return L},isFirstSlide:function(){return 0===e&&0===a},isLastSlide:function(){return!!r&&(!r.nextElementSibling&&(!Zt(r)||!r.parentNode.nextElementSibling))},isLastVerticalSlide:function(){return!(!r||!Zt(r))&&!r.nextElementSibling},isReady:function(){return b},addEventListener:function(e,a,i){"addEventListener"in window&&t.getRevealElement().addEventListener(e,a,i)},removeEventListener:function(e,a,i){"addEventListener"in window&&t.getRevealElement().removeEventListener(e,a,i)},addKeyBinding:pt,removeKeyBinding:ht,registerPlugin:dt,hasPlugin:ct,getPlugin:ut,triggerKey:function(t){va({keyCode:t})},registerKeyboardShortcut:function(t,e){O[t]=e}},t}))},3382:function(t,e,a){var i=a(1533);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var r=a(1982).Z;r("9124acb2",i,!0,{sourceMap:!1,shadowMode:!1})},8260:function(t,e,a){var i=a(1444);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var r=a(1982).Z;r("2ebe0dec",i,!0,{sourceMap:!1,shadowMode:!1})},434:function(t,e,a){var i=a(2610);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var r=a(1982).Z;r("4bad9bde",i,!0,{sourceMap:!1,shadowMode:!1})},4284:function(t,e,a){var i=a(2481);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var r=a(1982).Z;r("221901ba",i,!0,{sourceMap:!1,shadowMode:!1})},3010:function(t,e,a){var i=a(4902);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var r=a(1982).Z;r("6568379f",i,!0,{sourceMap:!1,shadowMode:!1})},2627:function(t,e,a){var i=a(5253);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var r=a(1982).Z;r("19bfc455",i,!0,{sourceMap:!1,shadowMode:!1})},6209:function(t,e,a){var i=a(4718);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var r=a(1982).Z;r("924080b2",i,!0,{sourceMap:!1,shadowMode:!1})},2046:function(t,e,a){var i=a(3589);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var r=a(1982).Z;r("7060f4ae",i,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=PublicationView2.js.map