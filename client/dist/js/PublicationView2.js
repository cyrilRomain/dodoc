(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[184],{9026:function(t,e,i){"use strict";i.d(e,{Z:function(){return d}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaPicker"},[i("PickMediaFromProjects",{attrs:{path:t.current_project_path},on:{selectMedia:function(e){return t.$emit("selectMedia",e)},close:function(e){return t.$emit("close")}}})],1)},r=[],n={props:{publication_path:String},components:{},data(){return{}},async created(){},beforeDestroy(){},watch:{},computed:{current_project_path(){const t=this.getParent(this.publication_path);return this.getParent(t)}},methods:{}},o=n,s=(i(8260),i(1001)),l=(0,s.Z)(o,a,r,!1,null,"89343b6c",null),d=l.exports},9731:function(t,e,i){"use strict";i.d(e,{Z:function(){return k}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationModule",class:{"is--shape":t.is_shape}},[t.can_edit&&"page_by_page"!==t.page_template?i("div",{staticClass:"_sideOptions"},[i("span",[t.$listeners.hasOwnProperty("moveUp")&&"first"!==t.module_position&&"alone"!==t.module_position?i("button",{staticClass:"_sideBtns _moveBefore",attrs:{type:"button"},on:{click:function(e){return t.$emit("moveUp")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M87.46,49.46,73.39,64.77a65.3,65.3,0,0,1-6.15,6.15A47.8,47.8,0,0,1,61,75.29H131.6V91.14H61A39.1,39.1,0,0,1,67,95.51q2.81,2.46,6.36,6.15L87.46,117,74.48,128,34.17,83.21,74.48,38.39Z"}})])]):t._e()]),i("div",{staticClass:"_options"},[i("button",{staticClass:"_sideBtns",class:{"is--active":t.show_advanced_menu},attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.show_advanced_menu=!t.show_advanced_menu}}},[i("svg",{staticStyle:{fill:"currentColor"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 48 48","xml:space":"preserve"}},[i("circle",{attrs:{cx:"12",cy:"24",r:"4"}}),i("circle",{attrs:{cx:"24",cy:"24",r:"4"}}),i("circle",{attrs:{cx:"36",cy:"24",r:"4"}})])]),t.show_advanced_menu?i("div",{staticClass:"_advanced_menu"},[i("sl-button",{attrs:{variant:"default",size:"small",pill:""}},[t._v(" "+t._s(t.$t("module.label."+t.publimodule.module_type))+" ")]),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button",disabled:!t.publimodule.size||100===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:100})}}},[t._v(" 100% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:66.6===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:66.6})}}},[t._v(" 66% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:50===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:50})}}},[t._v(" 50% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:33.3===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:33.3})}}},[t._v(" 33% ")])]),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button",disabled:!t.publimodule.align||"left"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"left"})}}},[i("sl-icon",{attrs:{name:"align-start"}})],1),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:"center"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"center"})}}},[i("sl-icon",{attrs:{name:"align-center"}})],1),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:"right"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"right"})}}},[i("sl-icon",{attrs:{name:"align-end"}})],1)]),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.duplicateModule}},[t._v(" "+t._s(t.$t("duplicate"))+" ")]),i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.removeModule}},[t._v(" "+t._s(t.$t("remove"))+" ")])])],1):t._e()]),i("span",[t.$listeners.hasOwnProperty("moveDown")&&"last"!==t.module_position&&"alone"!==t.module_position?i("button",{staticClass:"_sideBtns _moveAfter",attrs:{type:"button"},on:{click:function(e){return t.$emit("moveDown")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M78.31,117l14.07-15.31a65.3,65.3,0,0,1,6.15-6.15,47.52,47.52,0,0,1,6.29-4.37H34.17V75.29h70.65a39.1,39.1,0,0,1-6.08-4.37q-2.8-2.46-6.36-6.15L78.31,49.46l13-11.07L131.6,83.21,91.29,128Z"}})])]):t._e()])]):t._e(),i("div",{staticClass:"_content",style:t.media_styles},["mosaic"===t.publimodule.module_type?i("ModuleMosaic",{attrs:{publimodule:t.publimodule,can_edit:t.can_edit,context:t.context,page_template:t.page_template,number_of_max_medias:t.number_of_max_medias},on:{updateMeta:t.updateMeta,remove:t.removeModule}}):"carousel"===t.publimodule.module_type?i("ModuleCarousel",{attrs:{publimodule:t.publimodule,context:t.context,can_edit:t.can_edit}}):"text"===t.publimodule.module_type&&t.first_media?i("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.first_media.$path,content:t.first_media.$content,scrollingContainer:t.$el,line_selected:!1,can_edit:t.can_edit},on:{lineClicked:function(e){return t.$emit("lineClicked",e)},contentIsEdited:function(e){return t.$emit("contentIsEdited",e)},contentIsNotEdited:function(e){return t.$emit("contentIsNotEdited",e)}}}):t.is_shape?[i("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},["ellipsis"===t.publimodule.module_type?i("circle",{attrs:{cx:"50",cy:"50",r:50-t.publimodule.outline_width*t.magnification/8,"vector-effect":"non-scaling-stroke"}}):"rectangle"===t.publimodule.module_type?i("rect",{attrs:{x:t.publimodule.outline_width*t.magnification/4,y:t.publimodule.outline_width*t.magnification/4,width:100-t.publimodule.outline_width*t.magnification/2,height:100-t.publimodule.outline_width*t.magnification/2,"vector-effect":"non-scaling-stroke",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}):"line"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}})]):"arrow"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}}),i("g",{attrs:{transform:"\n              translate("+(100-(t.publimodule.outline_width*t.magnification/4||0))+", 50)",preserveAspectRatio:""}},[i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"-10","vector-effect":"non-scaling-stroke"}}),i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"10","vector-effect":"non-scaling-stroke"}})])]):t._e()])]:"free_drawing"===t.publimodule.module_type?void 0:i("small",[t._v(t._s(t.$t("nothing_to_show")))])],2)])},r=[],n=(i(2262),i(4506),i(6699),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[i("div",{key:t.is_multiple_medias?"multiple":"single",staticClass:"_moduleMosaic",class:{"is--multipleMedias":t.is_multiple_medias},style:"--number_of_medias: "+t.medias_with_linked.length},[i("div",{staticClass:"_mediaGrid"},[t._l(t.medias_with_linked,(function(e,a){return i("div",{key:e._linked_media.$path||"none",staticClass:"_mediaGrid--item",style:t.itemStyle({media_with_linked:e})},[i("MediaContent",{attrs:{file:e._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fullscreen_button:"preview"!==t.context}}),t.can_edit?i("div",{staticClass:"_btnRow"},[(t.is_multiple_medias||"page_by_page"===t.page_template&&!t.single_media_displayed_at_full_ratio)&&e.objectFit&&"cover"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.frameFit({index:a,opt:{objectFit:"cover"}})}}},[t._v(" "+t._s(t.$t("object_fit_cover"))+" ")]):t._e(),(t.is_multiple_medias||"page_by_page"===t.page_template&&!t.single_media_displayed_at_full_ratio)&&"contain"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.frameFit({index:a,opt:{objectFit:"contain"}})}}},[t._v(" "+t._s(t.$t("object_fit_contain"))+" ")]):t._e(),t.is_multiple_medias?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.removeMediaAtIndex(a)}}},[t._v(" "+t._s(t.$t("remove"))+" ")]):t._e()]):t._e()],1)})),t.can_edit&&(!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias)?i("div",{staticClass:"_mediaPickerTile"},[t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{selectMedia:t.selectMedia,close:function(e){t.show_media_picker=!1}}}):i("sl-icon-button",{staticClass:"u-colorBleuvert",attrs:{name:"plus-circle-fill",label:t.$t("add_media")},on:{click:function(e){t.show_media_picker=!0}}}),i("transition",{attrs:{name:"dropzone",duration:150}},[t.show_dropzone&&t.medias_with_linked.length<t.number_of_max_medias?i("div",{staticClass:"_dropzone"},[i("DropZone",{on:{mediaDropped:t.selectMedia}})],1):t._e()])],1):t._e()],2)])])}),o=[],s=(i(7658),i(9026)),l={props:{publimodule:Object,can_edit:Boolean,context:{type:String,default:"full"},page_template:String,number_of_max_medias:[Boolean,Number]},components:{MediaPicker:s.Z},data(){return{show_media_picker:!1,show_dropzone:!1}},created(){},mounted(){this.$eventHub.$on("mediadrag.start",this.showDropzone),this.$eventHub.$on("mediadrag.end",this.hideDropzone)},beforeDestroy(){this.$eventHub.$off("mediadrag.start",this.showDropzone),this.$eventHub.$off("mediadrag.end",this.hideDropzone)},watch:{},computed:{publication_path(){return this.getParent(this.publimodule.$path)},single_media_displayed_at_full_ratio(){var t;if(this.medias_with_linked.length>1)return!1;const e=null===(t=this.medias_with_linked[0]._linked_media.$infos)||void 0===t?void 0:t.ratio;return Math.round(10*e)===Math.round(this.publimodule.height/this.publimodule.width*10)},medias_with_linked(){return this.publimodule.source_medias?this.publimodule.source_medias.map((t=>{const e=this.getSourceMedia({source_media:t,publication_path:this.publication_path});return Object.assign({},t,{_linked_media:e})})):[]},is_multiple_medias(){return this.medias_with_linked.length>1}},methods:{selectMedia({path_to_source_media:t}){const e=this.publimodule.source_medias.slice();e.push({path:t}),this.$emit("updateMeta",{source_medias:e}),this.show_media_picker=!1},removeMediaAtIndex(t){const e=this.publimodule.source_medias.slice();e.splice(t,1),0===e.length?this.$emit("remove"):this.$emit("updateMeta",{source_medias:e})},frameFit({index:t,opt:e}){const i=this.publimodule.source_medias.slice();Object.assign(i[t],e),this.$emit("updateMeta",{source_medias:i})},itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},showDropzone(){this.show_dropzone=!0},hideDropzone(){this.show_dropzone=!1}}},d=l,c=(i(4760),i(1001)),u=(0,c.Z)(d,n,o,!1,null,"1c8913c0",null),p=u.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v(" ModuleCarousel "),t._l(t.medias,(function(e){return i("div",{key:e.$path},[e?i("MediaContent",{attrs:{file:e,resolution:1600,context:"full"}}):t._e()],1)}))],2)},m=[],f={props:{publimodule:Object,medias:Array},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},g=f,v=(0,c.Z)(g,h,m,!1,null,"1491e03e",null),b=v.exports,y={props:{publimodule:Object,module_position:String,can_edit:Boolean,magnification:Number,borderRadius:Number,context:String,page_template:String,number_of_max_medias:{type:[Boolean,Number],default:!1}},components:{ModuleMosaic:p,ModuleCarousel:b},data(){return{show_advanced_menu:!1}},created(){},mounted(){this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.enableEditForText),this.$eventHub.$on(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$on(`module.remove.${this.module_meta_filename}`,this.removeModule)},beforeDestroy(){this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.enableEditForText),this.$eventHub.$off(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$off(`module.remove.${this.module_meta_filename}`,this.removeModule)},watch:{},computed:{module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},is_shape(){return["ellipsis","rectangle","line","arrow"].includes(this.publimodule.module_type)},first_media(){if(!this.publimodule.source_medias||0===this.publimodule.source_medias.length)return!1;const t=this.publimodule.source_medias[0];if(t){const e=this.getParent(this.publimodule.$path);return this.getSourceMedia({source_media:t,publication_path:e})}return!1},media_styles(){let t=0;return"center"===this.publimodule.align&&(66.6===this.publimodule.size?t=16.6:50===this.publimodule.size?t=25:33.3===this.publimodule.size&&(t=33.3)),"right"===this.publimodule.align&&(66.6===this.publimodule.size?t=33.3:50===this.publimodule.size?t=50:33.3===this.publimodule.size&&(t=66.6)),{"--module-width":this.publimodule.size||100,"--module-margin-left":t}}},methods:{async updateMeta(t){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},enableEditForText(){this.$nextTick((()=>{this.$refs.textBloc&&this.$refs.textBloc.enableEditor()}))},async duplicateModule(){let t={};"page_by_page"===this.page_template&&(t.x=(this.publimodule.x||0)+10,t.y=(this.publimodule.y||0)+10);const e=await this.duplicateModuleWithSourceMedias({og_module:this.publimodule,addtl_meta_to_module:t});this.$emit("duplicate",e)},async removeModule(){await this.$api.deleteItem({path:this.publimodule.$path}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.$emit("remove")}}},_=y,w=(i(4690),(0,c.Z)(_,a,r,!1,null,"2ca1ef5c",null)),k=w.exports},887:function(t,e,i){"use strict";i.d(e,{Z:function(){return H}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_singlePage",class:{"is--preview":"preview"===t.context,"is--editable":t.can_edit}},[i("div",{staticClass:"_pagecontainer",style:t.page_styles},[i("div",{staticClass:"_pagecontent"},[t.can_edit&&t.show_grid?i("svg",{staticClass:"_grid",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"}},[i("defs",[i("pattern",{attrs:{id:"gridSmall",width:t.gridstep,height:t.gridstep,patternUnits:"userSpaceOnUse"}},[i("path",{attrs:{d:"M "+t.gridstep+" 0 L 0 0 0 "+t.gridstep,fill:"none",stroke:"var(--c-gridlines)",strokeWidth:"1"}})]),i("pattern",{attrs:{id:"grid",width:5*t.gridstep,height:5*t.gridstep,patternUnits:"userSpaceOnUse"}},[i("rect",{attrs:{width:5*t.gridstep,height:5*t.gridstep,fill:"url(#gridSmall)"}}),i("path",{attrs:{d:"M "+5*t.gridstep+" 0 L 0 0 0 "+5*t.gridstep,fill:"none",stroke:"var(--c-gridfiveslines)",strokeWidth:"1"}})])]),i("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})]):t._e(),t._l(t.page_modules,(function(e){return i("MoveableItem",{key:e.$path,staticClass:"_item",attrs:{context:t.context,publimodule:e,magnification:t.magnification,gridstep:t.show_grid&&t.snap_to_grid?t.gridstep:1,scale:t.scale,can_edit:t.can_edit,is_active:t.active_module.$path===e.$path}})})),t.can_edit&&t.l_margins?i("svg",{staticClass:"_margins",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"}},[i("rect",{attrs:{x:t.magnify(t.l_margins.left),y:t.magnify(t.l_margins.top),width:t.magnify(t.page_width-t.l_margins.left-t.l_margins.right),height:t.magnify(t.page_height-t.l_margins.top-t.l_margins.bottom)}})]):t._e(),t.pagination&&!t.hide_pagination&&t.page_number_corrected>0?i("div",{staticClass:"_pagination",style:t.pagination_styles},[t._v(" "+t._s(t.page_number_corrected)+" ")]):t._e(),t.can_edit&&t.l_margins?i("svg",{staticClass:"_pageBorders",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"}},[i("rect",{attrs:{x:"0",y:"0",width:t.magnify(t.page_width),height:t.magnify(t.page_height),stroke:"black"}})]):t._e()],2)])])},r=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DDR",{key:t.component_key,staticClass:"_moveableItem",class:{"is--locked":!0===t.publimodule.locked,"is--editable":t.can_edit,"is--active":t.can_edit&&t.is_active,"is--beingEdited":t.content_is_edited,"panzoom-exclude":t.can_edit},style:t.module_z_index,attrs:{active:t.can_edit&&t.is_active&&!0!==t.publimodule.locked&&!0!==t.content_is_edited,value:t.transform,parent:!1,acceptRatio:t.aspect_ratio,handlerSize:15,grid:t.grid,id:t.publimodule.$path,zoom:t.scale},on:{dragstart:t.dragStart,drag:t.onDrag,dragend:t.dragEnd,resizestart:t.resizeStart,resizeend:t.resizeEnd,rotateend:t.rotateEnd}},[i("span",{staticClass:"_activator",on:{mousedown:t.setActive,dblclick:t.dblClick}},[i("PublicationModule",{staticClass:"_moveableItem--content",style:t.module_styles,attrs:{publimodule:t.publimodule,can_edit:t.can_edit&&t.is_active,borderRadius:t.turnCMtoPX(t.publimodule.border_radius)||0,context:t.context,page_template:"page_by_page",number_of_max_medias:1,magnification:t.magnification},on:{duplicate:t.onDuplicateModule,contentIsEdited:t.contentIsEdited,contentIsNotEdited:t.contentIsNotEdited}})],1),t.can_edit?i("div",{staticClass:"_unlockBtn"},[!0===t.publimodule.locked?i("button",{staticClass:"u-button u-button_orange u-button_small u-button_round u-colorBlack",attrs:{type:"button"},on:{click:function(e){return t.unlock()}}},[i("sl-icon",{attrs:{name:"lock"}})],1):t._e(),!t.can_edit||!t.is_active||t.content_is_edited||t.publimodule.locked&&!1!==t.publimodule.locked?t._e():i("button",{staticClass:"u-button u-button_orange u-button_small u-button_round u-colorBlack",attrs:{type:"button"},on:{click:function(e){return t.lock()}}},[i("sl-icon",{attrs:{name:"unlock"}})],1)]):t._e()])},o=[];i(2262),i(4506),i(6699),i(7658),i(1703),i(5827);class s{constructor(t){this._values=t}toString(){return`Vector(${this._values.join(", ")})`}get length(){return this._values.length}dot(t){if(t instanceof s&&this.length===t.length)return this._values.map(((e,i)=>e*t._values[i])).reduce(((t,e)=>t+e));throw Error("The param `vector` must instance of Vector")}get(t){return this._values[t]}}var l=s;class d{constructor(t){this._values=t}static zeros(t){return new d(new Array(t[0]).fill(null).map((()=>new Array(t[1]).fill(0))))}valueOf(){return JSON.parse(JSON.stringify(this._values))}toString(){return"Matrix ( "+this._values.map((t=>t.join(" "))).join(", ")+" )"}rows(){return this._values.length}cols(){return this._values[0].length}rowVector(t){return new l(this._values[t].slice(0))}colVector(t){let e=new Array(this.rows()).fill(0);return this._values.forEach(((i,a)=>{e[a]=i[t]})),new l(e)}dot(t){if(t instanceof l&&this.cols()===t.length)return new l(new Array(t.length).fill(null).map(((e,i)=>this.rowVector(i).dot(t))));if(t instanceof d&&this.cols()===t.rows()){let e,i=t.cols(),a=t.rows(),r=d.zeros([a,i]);for(let n=0;n<i;n++){e=this.dot(t.colVector(n));for(let t=0;t<a;t++)r._values[t][n]=e.get(t)}return r}throw Error("expected a Vector or Matrix but got "+typeof t)}get(t,e){return this._values[t][e]}T(){return new d(new Array(this.cols()).fill(null).map(((t,e)=>new Array(this.rows()).fill(0).map(((t,i)=>this.get(i,e))))))}}var c=d;const u={br:0,bm:1,bl:2,l:3,tl:4,tm:5,tr:6,r:7},p={tl:0,tm:1,tr:2,r:3,br:4,bm:5,bl:6,l:7},h={br:0,bm:0,bl:2,l:2,tl:4,tm:4,tr:6,r:6},m={l:1,r:1},f={tm:1,bm:1},g={tr:1,bl:1,r:1,l:1};function v(t){return t*Math.PI/180}function b(t){return 180*t/Math.PI}function y({x:t,y:e,width:i,height:a,rotation:r},n){let o=r*Math.PI/180,s=i/2*n,l=a/2*n,d=new c([[Math.cos(o),Math.sin(o)],[-Math.sin(o),Math.cos(o)]]),u=new c([[-s,l],[0,l],[s,l],[s,0],[s,-l],[0,-l],[-s,-l],[-s,0]]);return d.dot(u.T()).T().valueOf().map((i=>({x:i[0]+s+t*n,y:-(i[1]-l)+e*n})))}function _({type:t,x:e,y:i,dis:a,pressAngle:r,startAngle:n}){let o,s,l=b(Math.atan2(i,e)),d=v(r+l-n);return g[t]?(s=Math.cos(d)*a,o=Math.sin(d)*a):(s=Math.sin(d)*a,o=Math.cos(d)*a),{w:o,h:s}}const w=["nw","n","ne","e","se","s","sw","w"],k={tl:0,tm:1,tr:2,r:3,br:4,bm:5,bl:6,l:7};function x(t,e){let i=k[t],a=(i+Math.floor(e/45))%8;return w[a]}var M,A,E={name:"ddr",props:{value:{default:function(){return{x:0,y:0,width:100,height:100,rotation:0}},type:Object},handlerSize:{type:Number,default:11},active:{default:!0,type:Boolean},resizeHandler:{default:function(){return["tl","tm","tr","r","br","bm","bl","l"]},type:Array},resizable:{default:!0,type:Boolean},rotatable:{default:!0,type:Boolean},draggable:{default:!0,type:Boolean},acceptRatio:{default:!1,type:Boolean},minWidth:{type:Number,default:1},minHeight:{type:Number,default:1},maxWidth:{type:Number,default:1e8},maxHeight:{type:Number,default:1e8},parent:{type:Boolean,default:!1},beforeActive:{type:Function,default:()=>!1},id:[Number,String],renderContent:Function,grid:{type:Array,default:()=>[1,1]},stop:{default:!0,type:Boolean},prevent:{default:!0,type:Boolean},zoom:{default:1,type:Number},axis:{type:String,default:"xy"}},data(){return{transform:Object.assign({},this.value),currentRatio:1,isInitialRatio:!1,isDragging:!1,isResizing:!1,isRotating:!1,isReadyToDrag:!1,isReadyToResize:!1,isReadyToRotate:!1}},created(){this.localeTransform={...this.transform}},watch:{value(t){this.transform={...t}}},computed:{rotateHandler(){let t=Math.ceil(this.handlerSize/this.zoom)+"px";return`width:${t};height:${t};top:-25px;margin-left:${-Math.floor(this.handlerSize/2)}px`},style(){let t=this.transform;return`left:${t.x}px;top:${t.y}px;width:${t.width}px;height:${t.height}px;transform:rotate(${t.rotation}deg)`}},methods:{handleDefaultEvent(t){this.stop&&t.stopPropagation(),this.prevent&&t.preventDefault()},getNewHandler(t){let e=x(t,this.transform.rotation),{handlerSize:i}=this,a={},r=-Math.floor(i/2)+"px";switch(t){case"tl":a={top:r,left:r};break;case"tm":a={top:r,"margin-left":r};break;case"tr":a={right:r,top:r};break;case"r":a={right:r,"margin-top":r};break;case"br":a={bottom:r,right:r};break;case"bm":a={"margin-left":r,bottom:r};break;case"bl":a={left:r,bottom:r};break;case"l":a={"margin-top":r,left:r};break}let n={cursor:e+"-resize",width:Math.ceil(i/this.zoom)+"px",height:Math.ceil(i/this.zoom)+"px",...a};return Object.keys(n).map((t=>`${t}:${n[t]}`)).join(";")},emitChange(){this.$emit("input",{...this.transform})},handleMouseDown(t){if(!this.active&&!this.beforeActive(this.id))return;this.handleDefaultEvent(t);let e=t.touches?t.touches[0]:t,{clientX:i,clientY:a}=e;if(this._lastX=i,this._lastY=a,this._activeTarget=t.target,this._parentRect=this.$refs.wrapper.parentNode.getBoundingClientRect(),this._resizeHandler=t.target.dataset.resizetype,this.localeTransform={...this.transform},this.parent){let t=0,e=this._parentRect.width/this.zoom-this.transform.width,i=0,a=this._parentRect.height/this.zoom-this.transform.height,r=this.transform.x+this.transform.width,n=this._parentRect.width/this.zoom-this.transform.x,o=this.transform.y+this.transform.height,s=this._parentRect.height/this.zoom-this.transform.y;this.bounday={minLeft:t,maxLeft:e,minTop:i,maxTop:a,maxLeftWidth:r,maxRightWidth:n,maxTopHeight:o,maxBottomHeight:s}}document.addEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("touchmove",this.handleMouseMove,!1),document.addEventListener("touchend",this.handleMouseUp,!1),document.addEventListener("mouseup",this.handleMouseUp,!1),"rotate"===t.target.dataset.type?(this._handlerType="rotate",this.isReadyToRotate=!0,this.handleRotateStart(t),this.$emit("rotatestart",t,this.transform)):this._activeTarget.dataset.resizetype?(this._handlerType="resize",this.isReadyToResize=!0,this.handleResizeStart(t),this.$emit("resizestart",t,this.transform)):(this._handlerType="drag",this.isReadyToDrag=!0,this.draggable&&this.$emit("dragstart",t,this.transform))},handleMouseMove(t){this.handleDefaultEvent(t);let{clientX:e,clientY:i}=t.touches?t.touches[0]:t;this.isReadyToDrag=!1,this.isReadyToResize=!1,this.isReadyToRotate=!1,this._deltaX=e-this._lastX,this._deltaY=i-this._lastY,this._lastX=e,this._lastY=i,"resize"===this._handlerType?(this.isResizing=!0,this.handleResizeMove(t),this.$emit("resize",t,this.transform)):"drag"===this._handlerType&&this.draggable?(this.isDragging=!0,this.doMove(t),this.$emit("drag",t,this.transform)):"rotate"===this._handlerType&&(this.isRotating=!0,this.handleRotateMove(t),this.$emit("rotate",t,this.transform)),this.emitChange()},doMove(){let[t,e]=this.grid,i=this._deltaX/this.zoom,a=this._deltaY/this.zoom,r=this.localeTransform.x=Math.round(this.localeTransform.x+i),n=this.localeTransform.y=Math.round(this.localeTransform.y+a);this.axis.includes("x")&&(r>this.transform.x?this.transform.x=this.restrictToLeftOfParent(r-r%t):r<this.transform.x&&(this.transform.x=this.restrictToLeftOfParent(r-(r%t-t)))),this.axis.includes("y")&&(n>this.transform.y?this.transform.y=this.restrictToTopOfParent(n-n%e):n<this.transform.y&&(this.transform.y=this.restrictToTopOfParent(n-(n%e-e))))},restrictToLeftOfParent(t){return this.parent?(t=Math.max(this.bounday.minLeft,t),t=Math.min(this.bounday.maxLeft,t),t):t},restrictToTopOfParent(t){return this.parent?(t=Math.max(this.bounday.minTop,t),t=Math.min(this.bounday.maxTop,t),t):t},restrictHeight(t,e){return!this.parent||this.transform.rotation>0?t:["bl","bm","br"].includes(e)?Math.min(this.bounday.maxBottomHeight,t):["tl","tm","tr"].includes(e)?Math.min(this.bounday.maxTopHeight,t):t},restrictWidth(t,e){return!this.parent||this.transform.rotation>0?t:["tl","l","bl"].includes(e)?Math.min(this.bounday.maxLeftWidth,t):["tr","r","br"].includes(e)?Math.min(this.bounday.maxRightWidth,t):t},handleMouseUp(t){this.handleDefaultEvent(t),document.removeEventListener("mousemove",this.handleMouseMove,!1),document.removeEventListener("mouseup",this.handleMouseUp,!1),document.removeEventListener("touchmove",this.handleMouseMove,!1),document.removeEventListener("touchend",this.handleMouseUp,!1);let e={drag:"draggable",resize:"resizable",rotate:"rotatable"};this.isInitialRatio=this.isDragging=this.isResizing=this.isRotating=!1,this.isReadyToDrag=this.isReadyToResize=this.isReadyToRotate=!1,this[e[this._handlerType]]&&this.$emit(this._handlerType+"end",t,this.transform)},handleResizeStart(t){let e,i=this._resizeHandler,a=this.transform,r=y(a,this.zoom),n=r[u[i]],o=r[h[i]],{clientX:s,clientY:l}=t.touches?t.touches[0]:t,d=r[p[i]],c=s-d.x,v=l-d.y,_=s-o.x-c,w=l-o.y-v,k=a.width,x=a.height;e=g[i]?b(Math.atan2(k,m[i]?x/2:x)):b(Math.atan2(x,f[i]?k/2:k));let M=b(Math.atan2(w,_));this._resizeOpt={matrix:r,rect:a,type:i,opposite:n,opp2:o,pressAngle:e,startAngle:M,offsetX:c,offsetY:v}},handleResizeMove(t){let{clientX:e,clientY:i}=t.touches?t.touches[0]:t,{opposite:a,opp2:r,type:n,pressAngle:o,startAngle:s,offsetX:l,offsetY:d}=this._resizeOpt,c=e-r.x-l,p=i-r.y-d,h=Math.hypot(p,c),g=t.shiftKey||this.acceptRatio,[v,b]=this.grid;!this.isInitialRatio&&g&&(this.currentRatio=this.transform.width/this.transform.height,this.isInitialRatio=!0),g||(this.isInitialRatio=!1);let{w:w,h:k}=_({type:n,dis:h,x:c,y:p,startAngle:s,pressAngle:o}),x={...this.localeTransform};this.isInitialRatio&&(m[n]?k=w/this.currentRatio:w=k*this.currentRatio),w/=this.zoom,k/=this.zoom,w=Math.min(Math.max(Math.round(w),this.minWidth),this.maxWidth),k=Math.min(Math.max(Math.round(k),this.minHeight),this.maxHeight),m[n]&&!g?x.width=w:(f[n]&&!g||(x.width=w),x.height=k);let M=this._resizeHandler;x.width%v>0&&(x.width>this.localeTransform.width?x.width=x.width-x.width%v:x.width=x.width-(x.width%v-v)),x.height%b>0&&(x.height>this.localeTransform.height?x.height=x.height-x.height%b:x.height=x.height-(x.height%b-b)),x.height=this.restrictHeight(x.height,M),x.width=this.restrictWidth(x.width,M);let A=y(x,this.zoom),E=A[u[n]],S=-(E.x-a.x)/this.zoom,L=-(E.y-a.y)/this.zoom;x.x=Math.round(x.x+S),x.y=Math.round(x.y+L),this.transform=x},handleRotateStart(t){let{clientX:e,clientY:i}=t.touches?t.touches[0]:t,a=this.$refs.wrapper.getBoundingClientRect(),r=a.left+a.width/2,n=a.top+a.height/2,o=180/Math.PI*Math.atan2(i-n,e-r),s=this.transform.rotation;this._rotateOpt={cx:r,cy:n,startAngle:o,rotation:s}},handleRotateMove(t){let{cx:e,cy:i,startAngle:a,rotation:r}=this._rotateOpt,{clientX:n,clientY:o}=t.touches?t.touches[0]:t,s=n-e,l=o-i,d=180/Math.PI*Math.atan2(l,s),c=d-a,u=r+c;u%=360,u=u<0?u+360:u,u=this.roundRotate(u),this.transform.rotation=Math.floor(u)},roundRotate(t){const e=5;return t>360-e||t<0+e?0:t>90-e&&t<90+e?90:t>180-e&&t<180+e?180:t>270-e&&t<270+e?270:t},getClassNames(){const t=["yoyoo-ddr"];return this.active&&t.push("active"),this.isDragging&&t.push("ddr-dragging"),this.isResizing&&t.push("ddr-resizing"),this.isRotating&&t.push("ddr-rotating"),this.isReadyToDrag&&t.push("ddr-ready-drag"),this.isReadyToResize&&t.push("ddr-ready-resize"),this.isReadyToRotate&&t.push("ddr-ready-rotate"),t}},render(){const t=arguments[0];return t("div",{ref:"wrapper",style:this.style,class:this.getClassNames(),on:{touchstart:this.handleMouseDown,mousedown:this.handleMouseDown}},[this.renderContent?this.renderContent(this):this.$slots.default,this.resizable&&t("div",{class:"resize-handler-wrapper"},[this.resizeHandler.map((e=>t("span",{attrs:{"data-resizetype":e},key:e,style:this.getNewHandler(e),class:`resize-handler ${e}`})))]),this.rotatable&&t("span",{style:this.rotateHandler,attrs:{"data-type":"rotate"},class:"rotate-handler"})])}},S=E,L=(i(2046),i(1001)),z=(0,L.Z)(S,M,A,!1,null,null,null),C=z.exports,T=(i(3382),i(9731)),$={name:"app",props:{context:String,publimodule:Object,can_edit:Boolean,magnification:Number,gridstep:Number,scale:Number,is_active:Boolean},components:{DDR:C,PublicationModule:T.Z},data(){return{transform:{x:0,y:0,width:300,height:300,rotation:0},component_key:1,aspect_ratio:!0,content_is_edited:!1}},created(){this.setTransformFromPubli(),this.setNewComponentKey()},mounted(){this.$eventHub.$on(`module.panTo.${this.module_meta_filename}`,this.panTo),this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.setActive)},beforeDestroy(){this.$eventHub.$off(`module.panTo.${this.module_meta_filename}`,this.panTo),this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.setActive)},watch:{publimodule:{handler(){const t=this.setTransformFromPubli();t&&this.setNewComponentKey()},deep:!0},magnification(){const t=this.setTransformFromPubli();t&&this.setNewComponentKey()},is_active(){this.is_active||this.contentIsNotEdited()}},computed:{module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},grid(){return[this.gridstep,this.gridstep]},module_z_index(){return`\n        z-index: ${this.publimodule.z_index?this.publimodule.z_index:0}\n      `},module_styles(){return{"--set-fontSize":(this.publimodule.text_size||100)+"%","--set-margins":(this.turnCMtoPX(this.publimodule.margins)||0)+"px","--set-opacity":this.publimodule.opacity||1,"--set-borderRadius":(this.turnCMtoPX(this.publimodule.border_radius)||0)+"px","--set-backgroundColor":this.publimodule.background_color||"transparent","--set-outlineColor":this.publimodule.outline_color||"black","--set-outlineWidth":(this.turnCMtoPX(this.publimodule.outline_width)||0)+"px"}}},methods:{setNewComponentKey(){this.component_key=(new Date).getTime()},setTransformFromPubli(){let t=!1;return Object.keys(this.transform).map((e=>{if("number"===typeof this.publimodule[e])if(["x","y","width","height"].includes(e)){const i=this.turnCMtoPX(this.publimodule[e]);this.transform[e]!==i&&(this.transform[e]=i,t=!0)}else"rotation"===e&&this.transform[e]!==this.publimodule[e]&&(this.transform[e]=this.publimodule[e],t=!0)})),t},turnCMtoPX(t){return!!t&&this.roundToDec(t*this.magnification)},turnPXtoCM(t){return this.roundToDec(t/this.magnification)},contentIsEdited(t){this.$eventHub.$emit("module.text_editing_enabled",t),this.content_is_edited=!0},contentIsNotEdited(){this.$eventHub.$emit("module.text_editing_disabled"),this.content_is_edited=!1},roundToDec(t){return Math.round(100*(t+Number.EPSILON))/100},firstMedia(t){if(!t)return!1;try{const e=t.source_medias[0],i=this.getParent(t.$path);return this.getSourceMedia({source_media:e,publication_path:i})}catch(e){return!1}},dragStart(){},onDrag(t){},dragEnd(t,e){return JSON.stringify(e)!==JSON.stringify(this.transform)&&((this.turnPXtoCM(e.x)!==this.turnPXtoCM(this.transform.x)||this.turnPXtoCM(e.y)!==this.turnPXtoCM(this.transform.y))&&(this.updateTransform(e),void t.stopPropagation()))},resizeStart(t,e){return t.target.classList.contains("br")||t.target.classList.contains("bl")||t.target.classList.contains("tl")||t.target.classList.contains("tr")?this.aspect_ratio=!0:this.aspect_ratio=!1},resizeEnd(t,e){if(JSON.stringify(e)===JSON.stringify(this.transform))return!1;this.updateTransform(e),t.stopPropagation()},rotateEnd(t,e){if(JSON.stringify(e)===JSON.stringify(this.transform))return!1;this.updateTransform(e),t.stopPropagation()},async updateTransform(t){let e=JSON.parse(JSON.stringify(t));Object.keys(e).map((t=>{e[t]!==this.transform[t]?["x","y","width","height"].includes(t)?(e[t]=this.turnPXtoCM(e[t]),this.transform[t]=this.turnCMtoPX(e[t])):this.transform[t]=this.turnCMtoPX(this.turnPXtoCM(e[t])):delete e[t]})),await this.updateModuleMeta({new_meta:e})},panTo(){this.$eventHub.$emit("panzoom.panTo",{x:this.transform.x,y:this.transform.y})},setActive(t){return!this.is_active&&(this.content_is_edited?t.stopPropagation():void(this.can_edit&&!this.is_active&&!0!==this.publimodule.locked&&this.$eventHub.$emit("module.setActive",this.publimodule.$path)))},async dblClick(){if(!this.is_active)return;const t=this.firstMedia(this.publimodule);if(t)if("text"===t.$type)this.editText();else{var e;const i=null===(e=t.$infos)||void 0===e?void 0:e.ratio,a=this.publimodule.width*i;await this.updateModuleMeta({new_meta:{height:a}})}},editText(){const t=this.publimodule.$path.substring(this.publimodule.$path.lastIndexOf("/")+1);this.$eventHub.$emit(`module.enable_edit.${t}`)},async lock(){const t={locked:!0};await this.updateModuleMeta({new_meta:t}),this.$eventHub.$emit("module.setActive",!1)},async unlock(){const t={locked:!1};await this.updateModuleMeta({new_meta:t}),setTimeout((()=>{this.setActive()}),100)},async updateModuleMeta({new_meta:t}){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},onDuplicateModule(t){const e=this.publimodule.$path.substring(0,this.publimodule.$path.lastIndexOf("/")+1)+t;setTimeout((()=>{this.$eventHub.$emit("module.setActive",e)}),100)}}},N=$,P=(i(5406),(0,L.Z)(N,n,o,!1,null,"2ccd65f4",null)),I=P.exports,R={props:{context:String,page_modules:Array,page_width:Number,page_height:Number,layout_mode:{type:String,default:"print"},page_color:String,hide_pagination:Boolean,zoom:{type:Number,default:1},scale:{type:Number,default:1},show_grid:{type:Boolean,default:!1},snap_to_grid:{type:Boolean,default:!1},gridstep_in_mm:Number,margins:Object,page_number:Number,pagination:[Boolean,Object],active_module:[Boolean,Object],page_is_left:Boolean,can_edit:Boolean},components:{MoveableItem:I},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{l_margins(){return 0!==Object.keys(this.margins).length&&(!0===this.page_is_left?{left:this.margins.right,right:this.margins.left,top:this.margins.top,bottom:this.margins.bottom}:this.margins)},gridstep(){return this.gridstep_in_mm?this.magnify(this.gridstep_in_mm):0},magnification(){return"screen"===this.layout_mode?1:this.$root.page_magnification},page_styles(){const t={};return this.page_width&&this.page_height&&(t["--page-width"]=`${this.magnify(this.page_width)}px`,t["--page-height"]=`${this.magnify(this.page_height)}px`),t["--zoom"]=this.zoom,t["--page-color"]=this.page_color||"#fff",t},page_number_corrected(){return this.page_number-this.pagination.pagination_start_on_page+1},pagination_styles(){const t={};return!0===this.page_is_left?t["--pagination-left"]=`${this.magnify(this.pagination.right)}px`:t["--pagination-right"]=`${this.magnify(this.pagination.right)}px`,t["--pagination-bottom"]=`${this.magnify(this.pagination.bottom)}px`,t}},methods:{magnify(t){return t*this.magnification}}},q=R,B=(i(2627),(0,L.Z)(q,a,r,!1,null,"799340e8",null)),H=B.exports},9208:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return p}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationView"},[t.project&&t.publication?t.fetch_project_error?i("div",{key:"err"},[t._v(" "+t._s(t.fetch_project_error)+" ")]):"page_by_page"===t.publication.template?[i("div",{staticClass:"reveal"},[i("div",{staticClass:"slides"},[t.is_spread?t._e():t._l(t.pages,(function(e,a){return i("section",{key:"page-"+e.id,staticClass:"_page"},[i("SinglePage",{attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_color:e.page_color,layout_mode:t.publication.layout_mode,hide_pagination:!0===e.hide_pagination,page_number:a,pagination:t.pagination,can_edit:!1}})],1)})),t._l(t.spreads,(function(e,a){return i("section",{key:a},[i("div",{staticClass:"_spread"},t._l(e,(function(e,r){return i("div",{key:e.id?e.id:r,staticClass:"_spread--page"},[e?[i("SinglePage",{attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_color:e.page_color,layout_mode:t.publication.layout_mode,hide_pagination:!0===e.hide_pagination,page_number:2*a+r,pagination:t.pagination,can_edit:!1}})]:i("div",{staticClass:"_noPage"})],2)})),0)])}))],2)])]:t._e():i("div",{key:"loader",staticClass:"u-divCentered"},[i("LoaderSpinner")],1)],2)},r=[],n=i(887),o=i(5301),s=i.n(o),l={name:"app",components:{SinglePage:n.Z},data(){return{fetch_project_error:null,project:null,publication:null,projectpanes:[],display_mode:"print"}},async mounted(){var t;"slides"===(null===(t=this.$route.query)||void 0===t?void 0:t.display)&&(this.display_mode="slides"),await this.listProject(),await this.listPublication(),"page_by_page"===this.publication.template&&("screen"===this.publication.layout_mode?document.body.style=`\n          --page-width: ${this.publication.page_width}px;\n          --page-height: ${this.publication.page_height}px;\n        `:"print"===this.publication.layout_mode&&(document.body.style=`\n          --page-width: ${this.publication.page_width}mm;\n          --page-height: calc(${this.publication.page_height}mm - 0.2mm);\n        `),document.addEventListener("keydown",this.keyPressed)),"slides"===this.display_mode&&this.startReveal()},beforeDestroy(){},watch:{},computed:{pagination(){return this.setPaginationFromPublication(this.publication)},project_path(){return this.createPath({space_slug:this.$route.params.space_slug,project_slug:this.$route.params.project_slug})},publication_path(){return`${this.project_path}/publications/${this.$route.params.publication_slug}`},pages(){return this.publication.pages},modules(){return this.publication.$files||[]},is_spread(){return!0===this.publication.page_spreads},spreads(){return!!this.is_spread&&this.makeSpread({pages:this.pages})}},methods:{async startReveal(){const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","https://cdn.jsdelivr.net/npm/reveal.js@3.6.0/css/reveal.css"),document.head.appendChild(t),await new Promise((t=>setTimeout(t,2e3))),await s().initialize({width:this.publication.page_width,height:this.publication.page_height})},async listProject(){const t=await this.$api.getFolder({path:this.project_path}).catch((t=>{this.fetch_project_error=t.response,this.is_loading=!1}));this.project=t},async listPublication(){const t=await this.$api.getFolder({path:this.publication_path}).catch((t=>{this.fetch_publication_error=t.response}));this.publication=t}}},d=l,c=(i(6209),i(1001)),u=(0,c.Z)(d,a,r,!1,null,null,null),p=u.exports},1533:function(t,e,i){"use strict";i.r(e);var a=i(8081),r=i.n(a),n=i(3645),o=i.n(n),s=o()(r());s.push([t.id,".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}",""]),e["default"]=s},1444:function(t,e,i){"use strict";i.r(e);var a=i(8081),r=i.n(a),n=i(3645),o=i.n(n),s=o()(r());s.push([t.id,"._mediaPicker[data-v-89343b6c]{width:100%;margin:0 auto}._addMediaBtn[data-v-89343b6c]{text-align:center;padding:calc(var(--spacing)*1)}",""]),e["default"]=s},7924:function(t,e,i){"use strict";i.r(e);var a=i(8081),r=i.n(a),n=i(3645),o=i.n(n),s=o()(r());s.push([t.id,"._moduleMosaic[data-v-1c8913c0]{--number_of_medias:1;position:relative}._mediaGrid[data-v-1c8913c0]{position:relative;width:100%}._moduleMosaic.is--multipleMedias ._mediaGrid[data-v-1c8913c0]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/4);transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid>._mediaGrid--item[data-v-1c8913c0]{position:relative;transition:flex .25s cubic-bezier(.19,1,.22,1)}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-1c8913c0]{aspect-ratio:1/1;overflow:hidden;background:var(--c-gris_clair);flex:1 1 calc(100%/var(--number_of_medias))}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-1c8913c0]  ._mediaContent{width:100%;height:100%}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-1c8913c0]  ._mediaContent ._mediaContent--iframe,._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-1c8913c0]  ._mediaContent ._mediaContent--image,._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-1c8913c0]  ._mediaContent .plyr--video{position:absolute;height:100%;width:100%;-o-object-fit:cover;object-fit:cover;-o-object-fit:var(--object-fit);object-fit:var(--object-fit)}._mediaPickerTile[data-v-1c8913c0]{position:absolute;top:0;left:auto;right:0;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-1c8913c0]{pointer-events:auto}._btnRow[data-v-1c8913c0]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2)}._btnRow button[data-v-1c8913c0]{border-radius:4px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8)}._dropzone[data-v-1c8913c0]{position:absolute;width:100%;height:100%}._dropzone[data-v-1c8913c0]  ._dropNotice{transform:rotate(-90deg)}sl-icon-button[data-v-1c8913c0]::part(base){font-size:1.5em;color:var(--c-bleuvert)}",""]),e["default"]=s},8163:function(t,e,i){"use strict";i.r(e);var a=i(8081),r=i.n(a),n=i(3645),o=i.n(n),s=o()(r());s.push([t.id,"._publicationModule[data-v-2ca1ef5c]{position:relative;padding:0 calc(var(--spacing)*1)}._publicationModule.is--shape ._content[data-v-2ca1ef5c],._publicationModule.is--shape svg[data-v-2ca1ef5c]{overflow:visible;stroke-linejoin:arcs;stroke-linecap:round}._publicationModule.is--shape svg[data-v-2ca1ef5c]{width:100%;height:100%}._publicationModule ._content[data-v-2ca1ef5c]{width:calc(var(--module-width)*1%);margin-left:calc(var(--module-margin-left)*1%);transition:all .4s cubic-bezier(.19,1,.22,1)}._sideOptions[data-v-2ca1ef5c]{position:absolute;top:0;height:100%;right:100%;background:var(--active-color);pointer-events:none;display:flex;flex-flow:column nowrap;justify-content:space-between;--side-width:24px;width:var(--side-width);border-radius:calc(var(--side-width)/2)}._sideOptions.is--pageByPage[data-v-2ca1ef5c]{display:none}._sideOptions>*[data-v-2ca1ef5c]{pointer-events:auto}._sideBtns[data-v-2ca1ef5c]{display:block;width:var(--side-width);height:var(--side-width);padding:0;border-radius:calc(var(--side-width)/2);background:transparent}._sideBtns[data-v-2ca1ef5c]:focus,._sideBtns[data-v-2ca1ef5c]:hover{background:rgba(0,0,0,.1)}._advanced_menu[data-v-2ca1ef5c]{position:absolute;z-index:10;left:100%;top:50%;transform:translateY(-50%);background:#fff;background:var(--active-color);flex-flow:column nowrap}._advanced_menu[data-v-2ca1ef5c],._menu[data-v-2ca1ef5c]{padding:calc(var(--spacing)/2);display:flex;gap:calc(var(--spacing)/4)}._menu[data-v-2ca1ef5c]{width:100%;justify-content:flex-end}._menu.is--overlaid[data-v-2ca1ef5c]{position:absolute;top:0;right:0;z-index:10}._options[data-v-2ca1ef5c]{position:relative}._buttonRow[data-v-2ca1ef5c]{display:flex;gap:calc(var(--spacing)/4)}",""]),e["default"]=s},7005:function(t,e,i){"use strict";i.r(e);var a=i(8081),r=i.n(a),n=i(3645),o=i.n(n),s=o()(r());s.push([t.id,'._moveableItem.is--locked[data-v-2ccd65f4]{pointer-events:none}._moveableItem.is--editable[data-v-2ccd65f4]  .u-floatingFsButton{display:none}._moveableItem.is--editable[data-v-2ccd65f4]:not(.is--beingEdited):not(.is--locked){cursor:pointer;cursor:grab}._moveableItem.is--editable[data-v-2ccd65f4]:hover:not(.is--locked){outline:2px dotted var(--c-noir)}._moveableItem.is--beingEdited[data-v-2ccd65f4]{outline:2px dotted var(--c-orange)!important}._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-2ccd65f4]{border:none;outline:2px dotted var(--c-orange)!important}._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-2ccd65f4]  .bl,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-2ccd65f4]  .br,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-2ccd65f4]  .tl,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-2ccd65f4]  .tr{background:var(--c-orange)}._moveableItem.yoyoo-ddr:not(.is--beingEdited).ddr-dragging[data-v-2ccd65f4]{cursor:-moz-grabbing;cursor:dragging}._moveableItem--content[data-v-2ccd65f4]{height:100%;padding:0;transition:all .2s cubic-bezier(.19,1,.22,1)}._moveableItem--content[data-v-2ccd65f4]  ._content{height:100%;overflow:hidden}._moveableItem--content[data-v-2ccd65f4]  ._content ._mediaContent,._moveableItem--content[data-v-2ccd65f4]  ._content ._mediaGrid,._moveableItem--content[data-v-2ccd65f4]  ._content ._mediaGrid--item,._moveableItem--content[data-v-2ccd65f4]  ._content ._moduleMosaic{height:100%}._moveableItem--content[data-v-2ccd65f4]  ._content ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);-o-object-position:center;object-position:center}._moveableItem--content[data-v-2ccd65f4]  ._content .plyr__poster{background-size:var(--object-fit,cover);background-position:50%;background-color:transparent}._moveableItem--content[data-v-2ccd65f4]  ._content .plyr--video,._moveableItem--content[data-v-2ccd65f4]  ._content .plyr__video-wrapper{background-color:transparent}._moveableItem--content[data-v-2ccd65f4]  ._content .plyr__video-wrapper video{-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);-o-object-position:center;object-position:center}._moveableItem--content[data-v-2ccd65f4]  ._content .plyr--video{min-width:50px}._moveableItem[data-v-2ccd65f4]  ._publicationModule:not(.is--shape) .ql-editor{font-size:var(--set-fontSize)}._moveableItem[data-v-2ccd65f4]  ._publicationModule:not(.is--shape) ._mediaContent--image,._moveableItem[data-v-2ccd65f4]  ._publicationModule:not(.is--shape) ._mediaContent[data-filetype=audio],._moveableItem[data-v-2ccd65f4]  ._publicationModule:not(.is--shape) ._mediaContent[data-filetype=url],._moveableItem[data-v-2ccd65f4]  ._publicationModule:not(.is--shape) ._mediaContent[data-filetype=video],._moveableItem[data-v-2ccd65f4]  ._publicationModule:not(.is--shape) .ql-editor{padding:var(--set-margins);opacity:var(--set-opacity);aspect-ratio:unset;border-radius:var(--set-borderRadius);overflow:hidden;background:var(--set-backgroundColor);border-color:var(--set-outlineColor);border-width:var(--set-outlineWidth);border-style:solid}._moveableItem[data-v-2ccd65f4]  ._publicationModule.is--shape{padding:var(--set-margins);opacity:var(--set-opacity);fill:var(--set-backgroundColor);stroke:var(--set-outlineColor);stroke-width:var(--set-outlineWidth)}._moveableItem.is--editable:not(.is--beingEdited):not(.is--locked) ._activator[data-v-2ccd65f4]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--c-orange_clair);opacity:0;transition:opacity .4s cubic-bezier(.19,1,.22,1)}._moveableItem.is--editable:not(.is--beingEdited):not(.is--locked) ._activator[data-v-2ccd65f4]:hover:after{opacity:.15}._coords[data-v-2ccd65f4]{bottom:0;background:#fff;margin:calc(var(--spacing)*1)}._coords[data-v-2ccd65f4],._unlockBtn[data-v-2ccd65f4]{position:absolute;left:0}._unlockBtn[data-v-2ccd65f4]{top:0;width:100%;pointer-events:none;padding:calc(var(--spacing)/2);display:flex;justify-content:flex-start}._unlockBtn>*[data-v-2ccd65f4]{pointer-events:auto}',""]),e["default"]=s},5253:function(t,e,i){"use strict";i.r(e);var a=i(8081),r=i.n(a),n=i(3645),o=i.n(n),s=o()(r());s.push([t.id,"._pagecontainer[data-v-799340e8]{width:calc(var(--page-width));height:calc(var(--page-height));padding:0;transform:scale(var(--zoom));transform-origin:0 0;transition:all .4s cubic-bezier(.19,1,.22,1)}.is--preview ._pagecontainer[data-v-799340e8]{width:calc(var(--page-width)*var(--zoom));height:calc(var(--page-height)*var(--zoom));transform-origin:left top;margin:0 auto;padding:0}._pagecontent[data-v-799340e8]{display:block;position:relative;z-index:0;margin:0;width:var(--page-width,100mm);height:var(--page-height,100mm);background:var(--page-color,#fff);overflow:hidden;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);transition:background .4s cubic-bezier(.19,1,.22,1)}._singlePage.is--editable ._pagecontent[data-v-799340e8]{overflow:visible}._grid[data-v-799340e8]{position:absolute;top:0;width:100%;height:100%;pointer-events:none;opacity:.6;z-index:-10000;--c-gridlines:#aaa;--c-gridfiveslines:#111}._margins[data-v-799340e8],._pageBorders[data-v-799340e8]{position:absolute;top:0;width:100%;height:100%;pointer-events:none;stroke-width:2px}._margins[data-v-799340e8]{stroke:#cb68fd}._pagination[data-v-799340e8]{position:absolute;right:var(--pagination-right);left:var(--pagination-left);bottom:var(--pagination-bottom);font-weight:500;line-height:.5;font-size:var(--sl-font-size-large)}",""]),e["default"]=s},4718:function(t,e,i){"use strict";i.r(e);var a=i(8081),r=i.n(a),n=i(3645),o=i.n(n),s=o()(r());s.push([t.id,"@media print{body,html{background:#fff!important}body{width:var(--page-width);height:calc(var(--page-height))}}@page{size:var(--page-width) var(--page-height)}._publicationView{height:100vh}@media print{._singlePage ._pagecontent{box-shadow:none}}._page,._spread{page-break-inside:avoid;-webkit-region-break-inside:avoid}._page:not(:last-child),._spread:not(:last-child){page-break-after:always}._spread{display:flex;flex-flow:row nowrap;width:-moz-max-content;width:max-content}._spread>*{position:relative;flex:1 1 50%}._noPage{width:calc(var(--page-width));height:calc(var(--page-height))}",""]),e["default"]=s},3589:function(t,e,i){"use strict";i.r(e);var a=i(8081),r=i.n(a),n=i(3645),o=i.n(n),s=o()(r());s.push([t.id,".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}",""]),e["default"]=s},5301:function(t,e,i){var a;i(4916),i(7658),i(1703),i(5306),
/*!
 * reveal.js
 * http://revealjs.com
 * MIT licensed
 *
 * Copyright (C) 2020 Hakim El Hattab, http://hakim.se
 */
function(r,n){a=function(){return r.Reveal=n(),r.Reveal}.call(e,i,e,t),void 0===a||(t.exports=a)}(this,(function(){"use strict";var t,e,i,a,r,n,o,s,l,d="3.9.2",c=".slides section",u=".slides>section",p=".slides>section.present>section",h=".slides>section:first-of-type",m=navigator.userAgent,f=/registerPlugin|registerKeyboardShortcut|addKeyBinding|addEventListener/,g={width:960,height:700,margin:.04,minScale:.2,maxScale:2,controls:!0,controlsTutorial:!0,controlsLayout:"bottom-right",controlsBackArrows:"faded",progress:!0,slideNumber:!1,showSlideNumber:"all",hashOneBasedIndex:!1,hash:!1,history:!1,keyboard:!0,keyboardCondition:null,overview:!0,disableLayout:!1,center:!0,touch:!0,loop:!1,rtl:!1,navigationMode:"default",shuffle:!1,fragments:!0,fragmentInURL:!1,embedded:!1,help:!0,pause:!0,showNotes:!1,autoPlayMedia:null,preloadIframes:null,autoSlide:0,autoSlideStoppable:!0,autoSlideMethod:null,defaultTiming:null,mouseWheel:!1,rollingLinks:!1,hideAddressBar:!0,previewLinks:!1,postMessage:!0,postMessageEvents:!1,focusBodyOnPageVisibilityChange:!0,transition:"slide",transitionSpeed:"default",backgroundTransition:"fade",parallaxBackgroundImage:"",parallaxBackgroundSize:"",parallaxBackgroundRepeat:"",parallaxBackgroundPosition:"",parallaxBackgroundHorizontal:null,parallaxBackgroundVertical:null,pdfMaxPagesPerSlide:Number.POSITIVE_INFINITY,pdfSeparateFragments:!0,pdfPageHeightOffset:-1,viewDistance:3,mobileViewDistance:2,display:"block",hideInactiveCursor:!0,hideCursorTime:5e3,dependencies:[]},v=!1,b=!1,y=!1,_=null,w=null,k=!1,x=!1,M=[],A=1,E={layout:"",overview:""},S={},L={},z=[],C={},T=0,$=0,N=!1,P=0,I=!1,R=0,q=0,B=-1,H=!1,D={startX:0,startY:0,startCount:0,captured:!1,threshold:40},O={},j={};function F(e){if(!0!==v)if(v=!0,W(),C.transforms2d||C.transforms3d){S.wrapper=document.querySelector(".reveal"),S.slides=document.querySelector(".reveal .slides"),window.addEventListener("load",qt,!1);var i=t.getQueryHash();"undefined"!==typeof i["dependencies"]&&delete i["dependencies"],mt(g,e),mt(g,i),At(),X()}else{document.body.setAttribute("class","no-transforms");for(var a=ft(document.getElementsByTagName("img")),r=ft(document.getElementsByTagName("iframe")),n=a.concat(r),o=0,s=n.length;o<s;o++){var l=n[o];l.getAttribute("data-src")&&(l.setAttribute("src",l.getAttribute("data-src")),l.removeAttribute("data-src"))}}}function W(){o=/(iphone|ipod|ipad|android)/gi.test(m)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,s=/chrome/i.test(m)&&!/edge/i.test(m);var t=document.createElement("div");C.transforms3d="WebkitPerspective"in t.style||"MozPerspective"in t.style||"msPerspective"in t.style||"OPerspective"in t.style||"perspective"in t.style,C.transforms2d="WebkitTransform"in t.style||"MozTransform"in t.style||"msTransform"in t.style||"OTransform"in t.style||"transform"in t.style,C.requestAnimationFrameMethod=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,C.requestAnimationFrame="function"===typeof C.requestAnimationFrameMethod,C.canvas=!!document.createElement("canvas").getContext,C.overviewTransitions=!/Version\/[\d\.]+.*Safari/.test(m),C.zoom="zoom"in t.style&&!o&&(s||/Version\/[\d\.]+.*Safari/.test(m))}function X(){var t=[],e=0;g.dependencies.forEach((function(e){e.condition&&!e.condition()||(e.async?z.push(e):t.push(e))})),t.length?(e=t.length,t.forEach((function(t){Y(t.src,(function(){"function"===typeof t.callback&&t.callback(),0===--e&&U()}))}))):U()}function U(){var t=Object.keys(L).length;if(0===t)V();else{var e=function(){0===--t&&V()};for(var i in L){var a=L[i];if("function"===typeof a.init){var r=a.init();r&&"function"===typeof r.then?r.then(e):e()}else e()}}}function V(){z.length&&z.forEach((function(t){Y(t.src,t.callback)})),Z()}function Y(t,e){var i=document.createElement("script");i.type="text/javascript",i.async=!1,i.defer=!1,i.src=t,e&&(i.onload=i.onreadystatechange=function(t){("load"===t.type||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=i.onerror=null,e())},i.onerror=function(t){i.onload=i.onreadystatechange=i.onerror=null,e(new Error("Failed loading script: "+i.src+"\n"+t))});var a=document.querySelector("head");a.insertBefore(i,a.lastChild)}function Z(){b=!0,K(),nt(),tt(),de(),ot(),qe(),ke(!0),setTimeout((function(){S.slides.classList.remove("no-transition"),S.wrapper.classList.add("ready"),St("ready",{indexh:e,indexv:i,currentSlide:r})}),1),Mt()&&(lt(),"complete"===document.readyState?Q():window.addEventListener("load",Q))}function K(){S.slides.classList.add("no-transition"),o?S.wrapper.classList.add("no-hover"):S.wrapper.classList.remove("no-hover"),/iphone/gi.test(m)?S.wrapper.classList.add("ua-iphone"):S.wrapper.classList.remove("ua-iphone"),S.background=et(S.wrapper,"div","backgrounds",null),S.progress=et(S.wrapper,"div","progress","<span></span>"),S.progressbar=S.progress.querySelector("span"),S.controls=et(S.wrapper,"aside","controls",'<button class="navigate-left" aria-label="previous slide"><div class="controls-arrow"></div></button><button class="navigate-right" aria-label="next slide"><div class="controls-arrow"></div></button><button class="navigate-up" aria-label="above slide"><div class="controls-arrow"></div></button><button class="navigate-down" aria-label="below slide"><div class="controls-arrow"></div></button>'),S.slideNumber=et(S.wrapper,"div","slide-number",""),S.speakerNotes=et(S.wrapper,"div","speaker-notes",null),S.speakerNotes.setAttribute("data-prevent-swipe",""),S.speakerNotes.setAttribute("tabindex","0"),S.pauseOverlay=et(S.wrapper,"div","pause-overlay",g.controls?'<button class="resume-button">Resume presentation</button>':null),S.wrapper.setAttribute("role","application"),S.controlsLeft=ft(document.querySelectorAll(".navigate-left")),S.controlsRight=ft(document.querySelectorAll(".navigate-right")),S.controlsUp=ft(document.querySelectorAll(".navigate-up")),S.controlsDown=ft(document.querySelectorAll(".navigate-down")),S.controlsPrev=ft(document.querySelectorAll(".navigate-prev")),S.controlsNext=ft(document.querySelectorAll(".navigate-next")),S.controlsRightArrow=S.controls.querySelector(".navigate-right"),S.controlsDownArrow=S.controls.querySelector(".navigate-down"),S.statusDiv=G()}function G(){var t=document.getElementById("aria-status-div");return t||(t=document.createElement("div"),t.style.position="absolute",t.style.height="1px",t.style.width="1px",t.style.overflow="hidden",t.style.clip="rect( 1px, 1px, 1px, 1px )",t.setAttribute("id","aria-status-div"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),S.wrapper.appendChild(t)),t}function J(t){var e="";if(3===t.nodeType)e+=t.textContent;else if(1===t.nodeType){var i=t.getAttribute("aria-hidden"),a="none"===window.getComputedStyle(t)["display"];"true"===i||a||ft(t.childNodes).forEach((function(t){e+=J(t)}))}return e}function Q(){var t=Ht(window.innerWidth,window.innerHeight),e=Math.floor(t.width*(1+g.margin)),i=Math.floor(t.height*(1+g.margin)),a=t.width,r=t.height;yt("@page{size:"+e+"px "+i+"px; margin: 0px;}"),yt(".reveal section>img, .reveal section>video, .reveal section>iframe{max-width: "+a+"px; max-height:"+r+"px}"),document.body.classList.add("print-pdf"),document.body.style.width=e+"px",document.body.style.height=i+"px",Bt(a,r);var n=g.slideNumber&&/all|print/i.test(g.showSlideNumber);ft(S.wrapper.querySelectorAll(c)).forEach((function(t){t.setAttribute("data-slide-number",ye(t))})),ft(S.wrapper.querySelectorAll(c)).forEach((function(t){if(!1===t.classList.contains("stack")){var o=(e-a)/2,s=(i-r)/2,l=t.scrollHeight,d=Math.max(Math.ceil(l/i),1);d=Math.min(d,g.pdfMaxPagesPerSlide),(1===d&&g.center||t.classList.contains("center"))&&(s=Math.max((i-l)/2,0));var c=document.createElement("div");if(c.className="pdf-page",c.style.height=(i+g.pdfPageHeightOffset)*d+"px",t.parentNode.insertBefore(c,t),c.appendChild(t),t.style.left=o+"px",t.style.top=s+"px",t.style.width=a+"px",t.slideBackgroundElement&&c.insertBefore(t.slideBackgroundElement,t),g.showNotes){var u=Ze(t);if(u){var p=8,h="string"===typeof g.showNotes?g.showNotes:"inline",m=document.createElement("div");m.classList.add("speaker-notes"),m.classList.add("speaker-notes-pdf"),m.setAttribute("data-layout",h),m.innerHTML=u,"separate-page"===h?c.parentNode.insertBefore(m,c.nextSibling):(m.style.left=p+"px",m.style.bottom=p+"px",m.style.width=e-2*p+"px",c.appendChild(m))}}if(n){var f=document.createElement("div");f.classList.add("slide-number"),f.classList.add("slide-number-pdf"),f.innerHTML=t.getAttribute("data-slide-number"),c.appendChild(f)}if(g.pdfSeparateFragments){var v,b,y=Je(c.querySelectorAll(".fragment"),!0);y.forEach((function(t){v&&v.forEach((function(t){t.classList.remove("current-fragment")})),t.forEach((function(t){t.classList.add("visible","current-fragment")}));var e=c.cloneNode(!0);c.parentNode.insertBefore(e,(b||c).nextSibling),v=t,b=e})),y.forEach((function(t){t.forEach((function(t){t.classList.remove("visible","current-fragment")}))}))}else ft(c.querySelectorAll(".fragment:not(.fade-out)")).forEach((function(t){t.classList.add("visible")}))}})),St("pdf-ready")}function tt(){setInterval((function(){0===S.wrapper.scrollTop&&0===S.wrapper.scrollLeft||(S.wrapper.scrollTop=0,S.wrapper.scrollLeft=0)}),1e3)}function et(t,e,i,a){for(var r=t.querySelectorAll("."+i),n=0;n<r.length;n++){var o=r[n];if(o.parentNode===t)return o}var s=document.createElement(e);return s.className=i,"string"===typeof a&&(s.innerHTML=a),t.appendChild(s),s}function it(){Mt();S.background.innerHTML="",S.background.classList.add("no-transition"),ft(S.wrapper.querySelectorAll(u)).forEach((function(t){var e=at(t,S.background);ft(t.querySelectorAll("section")).forEach((function(t){at(t,e),e.classList.add("stack")}))})),g.parallaxBackgroundImage?(S.background.style.backgroundImage='url("'+g.parallaxBackgroundImage+'")',S.background.style.backgroundSize=g.parallaxBackgroundSize,S.background.style.backgroundRepeat=g.parallaxBackgroundRepeat,S.background.style.backgroundPosition=g.parallaxBackgroundPosition,setTimeout((function(){S.wrapper.classList.add("has-parallax-background")}),1)):(S.background.style.backgroundImage="",S.wrapper.classList.remove("has-parallax-background"))}function at(t,e){var i=document.createElement("div");i.className="slide-background "+t.className.replace(/present|past|future/,"");var a=document.createElement("div");return a.className="slide-background-content",i.appendChild(a),e.appendChild(i),t.slideBackgroundElement=i,t.slideBackgroundContentElement=a,rt(t),i}function rt(t){var e=t.slideBackgroundElement,i=t.slideBackgroundContentElement;t.classList.remove("has-dark-background"),t.classList.remove("has-light-background"),e.removeAttribute("data-loaded"),e.removeAttribute("data-background-hash"),e.removeAttribute("data-background-size"),e.removeAttribute("data-background-transition"),e.style.backgroundColor="",i.style.backgroundSize="",i.style.backgroundRepeat="",i.style.backgroundPosition="",i.style.backgroundImage="",i.style.opacity="",i.innerHTML="";var a={background:t.getAttribute("data-background"),backgroundSize:t.getAttribute("data-background-size"),backgroundImage:t.getAttribute("data-background-image"),backgroundVideo:t.getAttribute("data-background-video"),backgroundIframe:t.getAttribute("data-background-iframe"),backgroundColor:t.getAttribute("data-background-color"),backgroundRepeat:t.getAttribute("data-background-repeat"),backgroundPosition:t.getAttribute("data-background-position"),backgroundTransition:t.getAttribute("data-background-transition"),backgroundOpacity:t.getAttribute("data-background-opacity")};a.background&&(/^(http|file|\/\/)/gi.test(a.background)||/\.(svg|png|jpg|jpeg|gif|bmp)([?#\s]|$)/gi.test(a.background)?t.setAttribute("data-background-image",a.background):e.style.background=a.background),(a.background||a.backgroundColor||a.backgroundImage||a.backgroundVideo||a.backgroundIframe)&&e.setAttribute("data-background-hash",a.background+a.backgroundSize+a.backgroundImage+a.backgroundVideo+a.backgroundIframe+a.backgroundColor+a.backgroundRepeat+a.backgroundPosition+a.backgroundTransition+a.backgroundOpacity),a.backgroundSize&&e.setAttribute("data-background-size",a.backgroundSize),a.backgroundColor&&(e.style.backgroundColor=a.backgroundColor),a.backgroundTransition&&e.setAttribute("data-background-transition",a.backgroundTransition),t.hasAttribute("data-preload")&&e.setAttribute("data-preload",""),a.backgroundSize&&(i.style.backgroundSize=a.backgroundSize),a.backgroundRepeat&&(i.style.backgroundRepeat=a.backgroundRepeat),a.backgroundPosition&&(i.style.backgroundPosition=a.backgroundPosition),a.backgroundOpacity&&(i.style.opacity=a.backgroundOpacity);var r=a.backgroundColor;if(!r){var n=window.getComputedStyle(e);n&&n.backgroundColor&&(r=n.backgroundColor)}if(r){var o=wt(r);o&&0!==o.a&&(kt(r)<128?t.classList.add("has-dark-background"):t.classList.add("has-light-background"))}}function nt(){g.postMessage&&window.addEventListener("message",(function(e){var i=e.data;if("string"===typeof i&&"{"===i.charAt(0)&&"}"===i.charAt(i.length-1)&&(i=JSON.parse(i),i.method&&"function"===typeof t[i.method]))if(!1===f.test(i.method)){var a=t[i.method].apply(t,i.args);Lt("callback",{method:i.method,result:a})}else console.warn('reveal.js: "'+i.method+'" is is blacklisted from the postMessage API')}),!1)}function ot(t){var e=g.transition;if("object"===typeof t&&mt(g,t),!1!==b){var i=S.wrapper.querySelectorAll(c).length;S.wrapper.classList.remove(e),!1===C.transforms3d&&(g.transition="linear"),S.wrapper.classList.add(g.transition),S.wrapper.setAttribute("data-transition-speed",g.transitionSpeed),S.wrapper.setAttribute("data-background-transition",g.backgroundTransition),S.controls.style.display=g.controls?"block":"none",S.progress.style.display=g.progress?"block":"none",S.controls.setAttribute("data-controls-layout",g.controlsLayout),S.controls.setAttribute("data-controls-back-arrows",g.controlsBackArrows),g.shuffle&&ue(),g.rtl?S.wrapper.classList.add("rtl"):S.wrapper.classList.remove("rtl"),g.center?S.wrapper.classList.add("center"):S.wrapper.classList.remove("center"),!1===g.pause&&te(),g.showNotes&&S.speakerNotes.setAttribute("data-layout","string"===typeof g.showNotes?g.showNotes:"inline"),g.mouseWheel?(document.addEventListener("DOMMouseScroll",Mi,!1),document.addEventListener("mousewheel",Mi,!1)):(document.removeEventListener("DOMMouseScroll",Mi,!1),document.removeEventListener("mousewheel",Mi,!1)),g.rollingLinks?zt():Ct(),g.hideInactiveCursor?(document.addEventListener("mousemove",fi,!1),document.addEventListener("mousedown",fi,!1)):(Gt(),document.removeEventListener("mousemove",fi,!1),document.removeEventListener("mousedown",fi,!1)),g.previewLinks?(Tt(),$t("[data-preview-link=false]")):($t(),Tt("[data-preview-link]:not([data-preview-link=false])")),l&&(l.destroy(),l=null),i>1&&g.autoSlide&&g.autoSlideStoppable&&C.canvas&&C.requestAnimationFrame&&(l=new Bi(S.wrapper,(function(){return Math.min(Math.max((Date.now()-B)/R,0),1)})),l.on("click",qi),H=!1),!1===g.fragments&&ft(S.slides.querySelectorAll(".fragment")).forEach((function(t){t.classList.add("visible"),t.classList.remove("current-fragment")}));var a="none";g.slideNumber&&!Mt()&&("all"===g.showSlideNumber||"speaker"===g.showSlideNumber&&Re())&&(a="block"),S.slideNumber.style.display=a,"default"!==g.navigationMode?S.wrapper.setAttribute("data-navigation-mode",g.navigationMode):S.wrapper.removeAttribute("data-navigation-mode"),"linear"===g.navigationMode?(O["&#8594;  ,  &#8595;  ,  SPACE  ,  N  ,  L  ,  J"]="Next slide",O["&#8592;  ,  &#8593;  ,  P  ,  H  ,  K"]="Previous slide"):(O["N  ,  SPACE"]="Next slide",O["P"]="Previous slide",O["&#8592;  ,  H"]="Navigate left",O["&#8594;  ,  L"]="Navigate right",O["&#8593;  ,  K"]="Navigate up",O["&#8595;  ,  J"]="Navigate down"),O["Home  ,  Shift &#8592;"]="First slide",O["End  ,  Shift &#8594;"]="Last slide",O["B  ,  ."]="Pause",O["F"]="Fullscreen",O["ESC, O"]="Slide overview",oe()}}function st(){var t;(I=!0,window.addEventListener("hashchange",$i,!1),window.addEventListener("resize",Ni,!1),g.touch&&("onpointerdown"in window?(S.wrapper.addEventListener("pointerdown",wi,!1),S.wrapper.addEventListener("pointermove",ki,!1),S.wrapper.addEventListener("pointerup",xi,!1)):window.navigator.msPointerEnabled?(S.wrapper.addEventListener("MSPointerDown",wi,!1),S.wrapper.addEventListener("MSPointerMove",ki,!1),S.wrapper.addEventListener("MSPointerUp",xi,!1)):(S.wrapper.addEventListener("touchstart",bi,!1),S.wrapper.addEventListener("touchmove",yi,!1),S.wrapper.addEventListener("touchend",_i,!1))),g.keyboard&&(document.addEventListener("keydown",vi,!1),document.addEventListener("keypress",gi,!1)),g.progress&&S.progress&&S.progress.addEventListener("click",Ai,!1),S.pauseOverlay.addEventListener("click",te,!1),g.focusBodyOnPageVisibilityChange)&&("hidden"in document?t="visibilitychange":"msHidden"in document?t="msvisibilitychange":"webkitHidden"in document&&(t="webkitvisibilitychange"),t&&document.addEventListener(t,Pi,!1));var e=["touchstart","click"];m.match(/android/gi)&&(e=["touchstart"]),e.forEach((function(t){S.controlsLeft.forEach((function(e){e.addEventListener(t,Ei,!1)})),S.controlsRight.forEach((function(e){e.addEventListener(t,Si,!1)})),S.controlsUp.forEach((function(e){e.addEventListener(t,Li,!1)})),S.controlsDown.forEach((function(e){e.addEventListener(t,zi,!1)})),S.controlsPrev.forEach((function(e){e.addEventListener(t,Ci,!1)})),S.controlsNext.forEach((function(e){e.addEventListener(t,Ti,!1)}))}))}function lt(){I=!1,document.removeEventListener("keydown",vi,!1),document.removeEventListener("keypress",gi,!1),window.removeEventListener("hashchange",$i,!1),window.removeEventListener("resize",Ni,!1),S.wrapper.removeEventListener("pointerdown",wi,!1),S.wrapper.removeEventListener("pointermove",ki,!1),S.wrapper.removeEventListener("pointerup",xi,!1),S.wrapper.removeEventListener("MSPointerDown",wi,!1),S.wrapper.removeEventListener("MSPointerMove",ki,!1),S.wrapper.removeEventListener("MSPointerUp",xi,!1),S.wrapper.removeEventListener("touchstart",bi,!1),S.wrapper.removeEventListener("touchmove",yi,!1),S.wrapper.removeEventListener("touchend",_i,!1),S.pauseOverlay.removeEventListener("click",te,!1),g.progress&&S.progress&&S.progress.removeEventListener("click",Ai,!1),["touchstart","click"].forEach((function(t){S.controlsLeft.forEach((function(e){e.removeEventListener(t,Ei,!1)})),S.controlsRight.forEach((function(e){e.removeEventListener(t,Si,!1)})),S.controlsUp.forEach((function(e){e.removeEventListener(t,Li,!1)})),S.controlsDown.forEach((function(e){e.removeEventListener(t,zi,!1)})),S.controlsPrev.forEach((function(e){e.removeEventListener(t,Ci,!1)})),S.controlsNext.forEach((function(e){e.removeEventListener(t,Ti,!1)}))}))}function dt(t,e){void 0===L[t]?(L[t]=e,b&&"function"===typeof e.init&&e.init()):console.warn('reveal.js: "'+t+'" plugin has already been registered')}function ct(t){return!!L[t]}function ut(t){return L[t]}function pt(t,e){"object"===typeof t&&t.keyCode?j[t.keyCode]={callback:e,key:t.key,description:t.description}:j[t]={callback:e,key:null,description:null}}function ht(t){delete j[t]}function mt(t,e){for(var i in e)t[i]=e[i];return t}function ft(t){return Array.prototype.slice.call(t)}function gt(t){if("string"===typeof t){if("null"===t)return null;if("true"===t)return!0;if("false"===t)return!1;if(t.match(/^-?[\d\.]+$/))return parseFloat(t)}return t}function vt(t,e){t.style.WebkitTransform=e,t.style.MozTransform=e,t.style.msTransform=e,t.style.transform=e}function bt(t){"string"===typeof t.layout&&(E.layout=t.layout),"string"===typeof t.overview&&(E.overview=t.overview),E.layout?vt(S.slides,E.layout+" "+E.overview):vt(S.slides,E.overview)}function yt(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}function _t(t,e){var i=t.parentNode;while(i){var a=i.matches||i.matchesSelector||i.msMatchesSelector;if(a&&a.call(i,e))return i;i=i.parentNode}return null}function wt(t){var e=t.match(/^#([0-9a-f]{3})$/i);if(e&&e[1])return e=e[1],{r:17*parseInt(e.charAt(0),16),g:17*parseInt(e.charAt(1),16),b:17*parseInt(e.charAt(2),16)};var i=t.match(/^#([0-9a-f]{6})$/i);if(i&&i[1])return i=i[1],{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16)};var a=t.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);if(a)return{r:parseInt(a[1],10),g:parseInt(a[2],10),b:parseInt(a[3],10)};var r=t.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\,\s*([\d]+|[\d]*.[\d]+)\s*\)$/i);return r?{r:parseInt(r[1],10),g:parseInt(r[2],10),b:parseInt(r[3],10),a:parseFloat(r[4])}:null}function kt(t){return"string"===typeof t&&(t=wt(t)),t?(299*t.r+587*t.g+114*t.b)/1e3:null}function xt(t,e){if(e=e||0,t){var i,a=t.style.height;return t.style.height="0px",t.parentNode.style.height="auto",i=e-t.parentNode.offsetHeight,t.style.height=a+"px",t.parentNode.style.removeProperty("height"),i}return e}function Mt(){return/print-pdf/gi.test(window.location.search)}function At(){g.hideAddressBar&&o&&(window.addEventListener("load",Et,!1),window.addEventListener("orientationchange",Et,!1))}function Et(){setTimeout((function(){window.scrollTo(0,1)}),10)}function St(t,e){var i=document.createEvent("HTMLEvents",1,2);i.initEvent(t,!0,!0),mt(i,e),S.wrapper.dispatchEvent(i),Lt(t)}function Lt(t,e){if(g.postMessageEvents&&window.parent!==window.self){var i={namespace:"reveal",eventName:t,state:Ke()};mt(i,e),window.parent.postMessage(JSON.stringify(i),"*")}}function zt(){if(C.transforms3d&&!("msPerspective"in document.body.style))for(var t=S.wrapper.querySelectorAll(c+" a"),e=0,i=t.length;e<i;e++){var a=t[e];if(a.textContent&&!a.querySelector("*")&&(!a.className||!a.classList.contains(a,"roll"))){var r=document.createElement("span");r.setAttribute("data-title",a.text),r.innerHTML=a.innerHTML,a.classList.add("roll"),a.innerHTML="",a.appendChild(r)}}}function Ct(){for(var t=S.wrapper.querySelectorAll(c+" a.roll"),e=0,i=t.length;e<i;e++){var a=t[e],r=a.querySelector("span");r&&(a.classList.remove("roll"),a.innerHTML=r.innerHTML)}}function Tt(t){var e=ft(document.querySelectorAll(t||"a"));e.forEach((function(t){/^(http|www)/gi.test(t.getAttribute("href"))&&t.addEventListener("click",Ri,!1)}))}function $t(t){var e=ft(document.querySelectorAll(t||"a"));e.forEach((function(t){/^(http|www)/gi.test(t.getAttribute("href"))&&t.removeEventListener("click",Ri,!1)}))}function Nt(t){Rt(),S.overlay=document.createElement("div"),S.overlay.classList.add("overlay"),S.overlay.classList.add("overlay-preview"),S.wrapper.appendChild(S.overlay),S.overlay.innerHTML=["<header>",'<a class="close" href="#"><span class="icon"></span></a>','<a class="external" href="'+t+'" target="_blank"><span class="icon"></span></a>',"</header>",'<div class="spinner"></div>','<div class="viewport">','<iframe src="'+t+'"></iframe>','<small class="viewport-inner">','<span class="x-frame-error">Unable to load iframe. This is likely due to the site\'s policy (x-frame-options).</span>',"</small>","</div>"].join(""),S.overlay.querySelector("iframe").addEventListener("load",(function(t){S.overlay.classList.add("loaded")}),!1),S.overlay.querySelector(".close").addEventListener("click",(function(t){Rt(),t.preventDefault()}),!1),S.overlay.querySelector(".external").addEventListener("click",(function(t){Rt()}),!1),setTimeout((function(){S.overlay.classList.add("visible")}),1)}function Pt(t){"boolean"===typeof t?t?It():Rt():S.overlay?Rt():It()}function It(){if(g.help){Rt(),S.overlay=document.createElement("div"),S.overlay.classList.add("overlay"),S.overlay.classList.add("overlay-help"),S.wrapper.appendChild(S.overlay);var t='<p class="title">Keyboard Shortcuts</p><br/>';for(var e in t+="<table><th>KEY</th><th>ACTION</th>",O)t+="<tr><td>"+e+"</td><td>"+O[e]+"</td></tr>";for(var i in j)j[i].key&&j[i].description&&(t+="<tr><td>"+j[i].key+"</td><td>"+j[i].description+"</td></tr>");t+="</table>",S.overlay.innerHTML=["<header>",'<a class="close" href="#"><span class="icon"></span></a>',"</header>",'<div class="viewport">','<div class="viewport-inner">'+t+"</div>","</div>"].join(""),S.overlay.querySelector(".close").addEventListener("click",(function(t){Rt(),t.preventDefault()}),!1),setTimeout((function(){S.overlay.classList.add("visible")}),1)}}function Rt(){S.overlay&&(S.overlay.parentNode.removeChild(S.overlay),S.overlay=null)}function qt(){if(S.wrapper&&!Mt()){if(!g.disableLayout){o&&document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px");var t=Ht(),e=A;Bt(g.width,g.height),S.slides.style.width=t.width+"px",S.slides.style.height=t.height+"px",A=Math.min(t.presentationWidth/t.width,t.presentationHeight/t.height),A=Math.max(A,g.minScale),A=Math.min(A,g.maxScale),1===A?(S.slides.style.zoom="",S.slides.style.left="",S.slides.style.top="",S.slides.style.bottom="",S.slides.style.right="",bt({layout:""})):A>1&&C.zoom&&window.devicePixelRatio<2?(S.slides.style.zoom=A,S.slides.style.left="",S.slides.style.top="",S.slides.style.bottom="",S.slides.style.right="",bt({layout:""})):(S.slides.style.zoom="",S.slides.style.left="50%",S.slides.style.top="50%",S.slides.style.bottom="auto",S.slides.style.right="auto",bt({layout:"translate(-50%, -50%) scale("+A+")"}));for(var i=ft(S.wrapper.querySelectorAll(c)),a=0,r=i.length;a<r;a++){var n=i[a];"none"!==n.style.display&&(g.center||n.classList.contains("center")?n.classList.contains("stack")?n.style.top=0:n.style.top=Math.max((t.height-n.scrollHeight)/2,0)+"px":n.style.top="")}e!==A&&St("resize",{oldScale:e,scale:A,size:t})}ve(),xe(),Vt()&&Wt()}}function Bt(t,e){ft(S.slides.querySelectorAll("section > .stretch")).forEach((function(i){var a=xt(i,e);if(/(img|video)/gi.test(i.nodeName)){var r=i.naturalWidth||i.videoWidth,n=i.naturalHeight||i.videoHeight,o=Math.min(t/r,a/n);i.style.width=r*o+"px",i.style.height=n*o+"px"}else i.style.width=t+"px",i.style.height=a+"px"}))}function Ht(t,e){var i={width:g.width,height:g.height,presentationWidth:t||S.wrapper.offsetWidth,presentationHeight:e||S.wrapper.offsetHeight};return i.presentationWidth-=i.presentationWidth*g.margin,i.presentationHeight-=i.presentationHeight*g.margin,"string"===typeof i.width&&/%$/.test(i.width)&&(i.width=parseInt(i.width,10)/100*i.presentationWidth),"string"===typeof i.height&&/%$/.test(i.height)&&(i.height=parseInt(i.height,10)/100*i.presentationHeight),i}function Dt(t,e){"object"===typeof t&&"function"===typeof t.setAttribute&&t.setAttribute("data-previous-indexv",e||0)}function Ot(t){if("object"===typeof t&&"function"===typeof t.setAttribute&&t.classList.contains("stack")){var e=t.hasAttribute("data-start-indexv")?"data-start-indexv":"data-previous-indexv";return parseInt(t.getAttribute(e)||0,10)}return 0}function jt(){if(g.overview&&!Vt()){y=!0,S.wrapper.classList.add("overview"),S.wrapper.classList.remove("overview-deactivating"),C.overviewTransitions&&setTimeout((function(){S.wrapper.classList.add("overview-animated")}),1),ri(),S.slides.appendChild(S.background),ft(S.wrapper.querySelectorAll(c)).forEach((function(t){t.classList.contains("stack")||t.addEventListener("click",Ii,!0)}));var t=70,a=Ht();_=a.width+t,w=a.height+t,g.rtl&&(_=-_),he(),Ft(),Wt(),qt(),St("overviewshown",{indexh:e,indexv:i,currentSlide:r})}}function Ft(){ft(S.wrapper.querySelectorAll(u)).forEach((function(t,e){t.setAttribute("data-index-h",e),vt(t,"translate3d("+e*_+"px, 0, 0)"),t.classList.contains("stack")&&ft(t.querySelectorAll("section")).forEach((function(t,i){t.setAttribute("data-index-h",e),t.setAttribute("data-index-v",i),vt(t,"translate3d(0, "+i*w+"px, 0)")}))})),ft(S.background.childNodes).forEach((function(t,e){vt(t,"translate3d("+e*_+"px, 0, 0)"),ft(t.querySelectorAll(".slide-background")).forEach((function(t,e){vt(t,"translate3d(0, "+e*w+"px, 0)")}))}))}function Wt(){var t=Math.min(window.innerWidth,window.innerHeight),a=Math.max(t/5,150)/t;bt({overview:["scale("+a+")","translateX("+-e*_+"px)","translateY("+-i*w+"px)"].join(" ")})}function Xt(){g.overview&&(y=!1,S.wrapper.classList.remove("overview"),S.wrapper.classList.remove("overview-animated"),S.wrapper.classList.add("overview-deactivating"),setTimeout((function(){S.wrapper.classList.remove("overview-deactivating")}),1),S.wrapper.appendChild(S.background),ft(S.wrapper.querySelectorAll(c)).forEach((function(t){vt(t,""),t.removeEventListener("click",Ii,!0)})),ft(S.background.querySelectorAll(".slide-background")).forEach((function(t){vt(t,"")})),bt({overview:""}),ne(e,i),qt(),ai(),St("overviewhidden",{indexh:e,indexv:i,currentSlide:r}))}function Ut(t){"boolean"===typeof t?t?jt():Xt():Vt()?Xt():jt()}function Vt(){return y}function Yt(t){var e="/",i=t||r,a=i?i.getAttribute("id"):null;a&&(a=encodeURIComponent(a));var n=He(t);if(g.fragmentInURL||(n.f=void 0),"string"===typeof a&&a.length&&void 0===n.f)e="/"+a;else{var o=g.hashOneBasedIndex?1:0;(n.h>0||n.v>0||void 0!==n.f)&&(e+=n.h+o),(n.v>0||void 0!==n.f)&&(e+="/"+(n.v+o)),void 0!==n.f&&(e+="/"+n.f)}return e}function Zt(t){return t=t||r,t&&t.parentNode&&!!t.parentNode.nodeName.match(/section/i)}function Kt(){var t=document.documentElement,e=t.requestFullscreen||t.webkitRequestFullscreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;e&&e.apply(t)}function Gt(){N&&(N=!1,S.wrapper.style.cursor="")}function Jt(){!1===N&&(N=!0,S.wrapper.style.cursor="none")}function Qt(){if(g.pause){var t=S.wrapper.classList.contains("paused");ri(),S.wrapper.classList.add("paused"),!1===t&&St("paused")}}function te(){var t=S.wrapper.classList.contains("paused");S.wrapper.classList.remove("paused"),ai(),t&&St("resumed")}function ee(t){"boolean"===typeof t?t?Qt():te():ie()?te():Qt()}function ie(){return S.wrapper.classList.contains("paused")}function ae(t){"boolean"===typeof t?t?oi():ni():H?oi():ni()}function re(){return!(!R||H)}function ne(t,n,o,s){a=r;var l=S.wrapper.querySelectorAll(u);if(0!==l.length){void 0!==n||Vt()||(n=Ot(l[t])),a&&a.parentNode&&a.parentNode.classList.contains("stack")&&Dt(a.parentNode,i);var d=M.concat();M.length=0;var c=e||0,m=i||0;e=pe(u,void 0===t?e:t),i=pe(p,void 0===n?i:n),he(),qt(),Vt()&&Wt();var f=l[e],g=f.querySelectorAll("section");r=g[i]||f,"undefined"!==typeof o&&ti(o);var v=e!==c||i!==m;v||(a=null),a&&a!==r&&(a.classList.remove("present"),a.setAttribute("aria-hidden","true"),S.wrapper.querySelector(h).classList.contains("present")&&setTimeout((function(){var t,e=ft(S.wrapper.querySelectorAll(u+".stack"));for(t in e)e[t]&&Dt(e[t],0)}),0));t:for(var b=0,y=M.length;b<y;b++){for(var _=0;_<d.length;_++)if(d[_]===M[b]){d.splice(_,1);continue t}document.documentElement.classList.add(M[b]),St(M[b])}while(d.length)document.documentElement.classList.remove(d.pop());v&&St("slidechanged",{indexh:e,indexv:i,previousSlide:a,currentSlide:r,origin:s}),!v&&a||(Ne(a),Ce(r)),S.statusDiv.textContent=J(r),we(),ve(),ke(),xe(),be(),me(),Qe(),Be(),ai()}}function oe(){lt(),st(),qt(),R=g.autoSlide,ai(),it(),Be(),ce(),we(),ve(),be(),he(),ke(!0),fe(),me(),ze(),!1===g.autoPlayMedia?Ne(r,{unloadIframes:!1}):Ce(r),Vt()&&Ft()}function se(t){t=t||r,rt(t),le(t),Ae(t),ke(),me()}function le(t){return t=t||r,Je(t.querySelectorAll(".fragment"))}function de(){var t=ft(S.wrapper.querySelectorAll(u));t.forEach((function(t){var e=ft(t.querySelectorAll("section"));e.forEach((function(t,e){e>0&&(t.classList.remove("present"),t.classList.remove("past"),t.classList.add("future"),t.setAttribute("aria-hidden","true"))}))}))}function ce(){var t=ft(S.wrapper.querySelectorAll(u));t.forEach((function(t){var e=ft(t.querySelectorAll("section"));e.forEach((function(t,e){Je(t.querySelectorAll(".fragment"))})),0===e.length&&Je(t.querySelectorAll(".fragment"))}))}function ue(){var t=ft(S.wrapper.querySelectorAll(u));t.forEach((function(e){S.slides.insertBefore(e,t[Math.floor(Math.random()*t.length)])}))}function pe(t,e){var i=ft(S.wrapper.querySelectorAll(t)),a=i.length,r=Mt();if(a){g.loop&&(e%=a,e<0&&(e=a+e)),e=Math.max(Math.min(e,a-1),0);for(var n=0;n<a;n++){var o=i[n],s=g.rtl&&!Zt(o);o.classList.remove("past"),o.classList.remove("present"),o.classList.remove("future"),o.setAttribute("hidden",""),o.setAttribute("aria-hidden","true"),o.querySelector("section")&&o.classList.add("stack"),r?o.classList.add("present"):n<e?(o.classList.add(s?"future":"past"),g.fragments&&ft(o.querySelectorAll(".fragment")).forEach((function(t){t.classList.add("visible"),t.classList.remove("current-fragment")}))):n>e&&(o.classList.add(s?"past":"future"),g.fragments&&ft(o.querySelectorAll(".fragment.visible")).forEach((function(t){t.classList.remove("visible"),t.classList.remove("current-fragment")})))}i[e].classList.add("present"),i[e].removeAttribute("hidden"),i[e].removeAttribute("aria-hidden");var l=i[e].getAttribute("data-state");l&&(M=M.concat(l.split(" ")))}else e=0;return e}function he(){var t,a,r=ft(S.wrapper.querySelectorAll(u)),n=r.length;if(n&&"undefined"!==typeof e){var s=Vt()?10:g.viewDistance;o&&(s=Vt()?6:g.mobileViewDistance),Mt()&&(s=Number.MAX_VALUE);for(var l=0;l<n;l++){var d=r[l],c=ft(d.querySelectorAll("section")),p=c.length;if(t=Math.abs((e||0)-l)||0,g.loop&&(t=Math.abs(((e||0)-l)%(n-s))||0),t<s?Ae(d):Ee(d),p)for(var h=Ot(d),m=0;m<p;m++){var f=c[m];a=l===(e||0)?Math.abs((i||0)-m):Math.abs(m-h),t+a<s?Ae(f):Ee(f)}}We()?S.wrapper.classList.add("has-vertical-slides"):S.wrapper.classList.remove("has-vertical-slides"),Fe()?S.wrapper.classList.add("has-horizontal-slides"):S.wrapper.classList.remove("has-horizontal-slides")}}function me(){g.showNotes&&S.speakerNotes&&r&&!Mt()&&(S.speakerNotes.innerHTML=Ze()||'<span class="notes-placeholder">No notes on this slide.</span>')}function fe(){g.showNotes&&ge()?S.wrapper.classList.add("show-notes"):S.wrapper.classList.remove("show-notes")}function ge(){return S.slides.querySelectorAll("[data-notes], aside.notes").length>0}function ve(){g.progress&&S.progressbar&&(S.progressbar.style.width=Ie()*S.wrapper.offsetWidth+"px")}function be(){g.slideNumber&&S.slideNumber&&(S.slideNumber.innerHTML=ye())}function ye(t){var e,i="h.v";if(void 0===t&&(t=r),"function"===typeof g.slideNumber)e=g.slideNumber(t);else switch("string"===typeof g.slideNumber&&(i=g.slideNumber),/c/.test(i)||1!==S.wrapper.querySelectorAll(u).length||(i="c"),e=[],i){case"c":e.push(Pe(t)+1);break;case"c/t":e.push(Pe(t)+1,"/",Ue());break;default:var a=He(t);e.push(a.h+1);var n="h/v"===i?"/":".";Zt(t)&&e.push(n,a.v+1)}var o="#"+Yt(t);return _e(e[0],e[1],e[2],o)}function _e(t,e,i,a){return void 0===a&&(a="#"+Yt()),"number"!==typeof i||isNaN(i)?'<a href="'+a+'"><span class="slide-number-a">'+t+"</span></a>":'<a href="'+a+'"><span class="slide-number-a">'+t+'</span><span class="slide-number-delimiter">'+e+'</span><span class="slide-number-b">'+i+"</span></a>"}function we(){var t=Se(),e=Le();S.controlsLeft.concat(S.controlsRight).concat(S.controlsUp).concat(S.controlsDown).concat(S.controlsPrev).concat(S.controlsNext).forEach((function(t){t.classList.remove("enabled"),t.classList.remove("fragmented"),t.setAttribute("disabled","disabled")})),t.left&&S.controlsLeft.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),t.right&&S.controlsRight.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),t.up&&S.controlsUp.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),t.down&&S.controlsDown.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),(t.left||t.up)&&S.controlsPrev.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),(t.right||t.down)&&S.controlsNext.forEach((function(t){t.classList.add("enabled"),t.removeAttribute("disabled")})),r&&(e.prev&&S.controlsPrev.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")})),e.next&&S.controlsNext.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")})),Zt(r)?(e.prev&&S.controlsUp.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")})),e.next&&S.controlsDown.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")}))):(e.prev&&S.controlsLeft.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")})),e.next&&S.controlsRight.forEach((function(t){t.classList.add("fragmented","enabled"),t.removeAttribute("disabled")})))),g.controlsTutorial&&(!x&&t.down?S.controlsDownArrow.classList.add("highlight"):(S.controlsDownArrow.classList.remove("highlight"),!k&&t.right&&0===i?S.controlsRightArrow.classList.add("highlight"):S.controlsRightArrow.classList.remove("highlight")))}function ke(t){var a=null,o=g.rtl?"future":"past",s=g.rtl?"past":"future";if(ft(S.background.childNodes).forEach((function(r,n){r.classList.remove("past"),r.classList.remove("present"),r.classList.remove("future"),n<e?r.classList.add(o):n>e?r.classList.add(s):(r.classList.add("present"),a=r),(t||n===e)&&ft(r.querySelectorAll(".slide-background")).forEach((function(t,r){t.classList.remove("past"),t.classList.remove("present"),t.classList.remove("future"),r<i?t.classList.add("past"):r>i?t.classList.add("future"):(t.classList.add("present"),n===e&&(a=t))}))})),n&&Ne(n,{unloadIframes:!Me(n)}),a){Ce(a);var l=a.querySelector(".slide-background-content");if(l){var d=l.style.backgroundImage||"";/\.gif/i.test(d)&&(l.style.backgroundImage="",window.getComputedStyle(l).opacity,l.style.backgroundImage=d)}var c=n?n.getAttribute("data-background-hash"):null,u=a.getAttribute("data-background-hash");u&&u===c&&a!==n&&S.background.classList.add("no-transition"),n=a}r&&["has-light-background","has-dark-background"].forEach((function(t){r.classList.contains(t)?S.wrapper.classList.add(t):S.wrapper.classList.remove(t)})),setTimeout((function(){S.background.classList.remove("no-transition")}),1)}function xe(){if(g.parallaxBackgroundImage){var t,a,r=S.wrapper.querySelectorAll(u),n=S.wrapper.querySelectorAll(p),o=S.background.style.backgroundSize.split(" ");1===o.length?t=a=parseInt(o[0],10):(t=parseInt(o[0],10),a=parseInt(o[1],10));var s,l,d=S.background.offsetWidth,c=r.length;s="number"===typeof g.parallaxBackgroundHorizontal?g.parallaxBackgroundHorizontal:c>1?(t-d)/(c-1):0,l=s*e*-1;var h,m,f=S.background.offsetHeight,v=n.length;h="number"===typeof g.parallaxBackgroundVertical?g.parallaxBackgroundVertical:(a-f)/(v-1),m=v>0?h*i:0,S.background.style.backgroundPosition=l+"px "+-m+"px"}}function Me(t){var e=g.preloadIframes;return"boolean"!==typeof e&&(e=t.hasAttribute("data-preload")),e}function Ae(t,e){e=e||{},t.style.display=g.display,ft(t.querySelectorAll("img[data-src], video[data-src], audio[data-src], iframe[data-src]")).forEach((function(t){("IFRAME"!==t.tagName||Me(t))&&(t.setAttribute("src",t.getAttribute("data-src")),t.setAttribute("data-lazy-loaded",""),t.removeAttribute("data-src"))})),ft(t.querySelectorAll("video, audio")).forEach((function(t){var e=0;ft(t.querySelectorAll("source[data-src]")).forEach((function(t){t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src"),t.setAttribute("data-lazy-loaded",""),e+=1})),e>0&&t.load()}));var i=t.slideBackgroundElement;if(i){i.style.display="block";var a=t.slideBackgroundContentElement,r=t.getAttribute("data-background-iframe");if(!1===i.hasAttribute("data-loaded")){i.setAttribute("data-loaded","true");var n=t.getAttribute("data-background-image"),s=t.getAttribute("data-background-video"),l=t.hasAttribute("data-background-video-loop"),d=t.hasAttribute("data-background-video-muted");if(n)a.style.backgroundImage="url("+encodeURI(n)+")";else if(s&&!Re()){var c=document.createElement("video");l&&c.setAttribute("loop",""),d&&(c.muted=!0),o&&(c.muted=!0,c.autoplay=!0,c.setAttribute("playsinline","")),s.split(",").forEach((function(t){c.innerHTML+='<source src="'+t+'">'})),a.appendChild(c)}else if(r&&!0!==e.excludeIframes){var u=document.createElement("iframe");u.setAttribute("allowfullscreen",""),u.setAttribute("mozallowfullscreen",""),u.setAttribute("webkitallowfullscreen",""),u.setAttribute("allow","autoplay"),u.setAttribute("data-src",r),u.style.width="100%",u.style.height="100%",u.style.maxHeight="100%",u.style.maxWidth="100%",a.appendChild(u)}}var p=a.querySelector("iframe[data-src]");p&&Me(i)&&!/autoplay=(1|true|yes)/gi.test(r)&&p.getAttribute("src")!==r&&p.setAttribute("src",r)}}function Ee(t){t.style.display="none";var e=Ye(t);e&&(e.style.display="none",ft(e.querySelectorAll("iframe[src]")).forEach((function(t){t.removeAttribute("src")}))),ft(t.querySelectorAll("video[data-lazy-loaded][src], audio[data-lazy-loaded][src], iframe[data-lazy-loaded][src]")).forEach((function(t){t.setAttribute("data-src",t.getAttribute("src")),t.removeAttribute("src")})),ft(t.querySelectorAll("video[data-lazy-loaded] source[src], audio source[src]")).forEach((function(t){t.setAttribute("data-src",t.getAttribute("src")),t.removeAttribute("src")}))}function Se(){var t=S.wrapper.querySelectorAll(u),a=S.wrapper.querySelectorAll(p),r={left:e>0,right:e<t.length-1,up:i>0,down:i<a.length-1};if(g.loop&&(t.length>1&&(r.left=!0,r.right=!0),a.length>1&&(r.up=!0,r.down=!0)),g.rtl){var n=r.left;r.left=r.right,r.right=n}return r}function Le(){if(r&&g.fragments){var t=r.querySelectorAll(".fragment"),e=r.querySelectorAll(".fragment:not(.visible)");return{prev:t.length-e.length>0,next:!!e.length}}return{prev:!1,next:!1}}function ze(){var t=function(t,e,i){ft(S.slides.querySelectorAll("iframe["+t+'*="'+e+'"]')).forEach((function(e){var a=e.getAttribute(t);a&&-1===a.indexOf(i)&&e.setAttribute(t,a+(/\?/.test(a)?"&":"?")+i)}))};t("src","youtube.com/embed/","enablejsapi=1"),t("data-src","youtube.com/embed/","enablejsapi=1"),t("src","player.vimeo.com/","api=1"),t("data-src","player.vimeo.com/","api=1")}function Ce(t){t&&!Re()&&(ft(t.querySelectorAll('img[src$=".gif"]')).forEach((function(t){t.setAttribute("src",t.getAttribute("src"))})),ft(t.querySelectorAll("video, audio")).forEach((function(t){if(!_t(t,".fragment")||_t(t,".fragment.visible")){var e=g.autoPlayMedia;if("boolean"!==typeof e&&(e=t.hasAttribute("data-autoplay")||!!_t(t,".slide-background")),e&&"function"===typeof t.play)if(t.readyState>1)Te({target:t});else if(o){var i=t.play();i&&"function"===typeof i.catch&&!1===t.controls&&i.catch((function(){t.controls=!0,t.addEventListener("play",(function(){t.controls=!1}))}))}else t.removeEventListener("loadeddata",Te),t.addEventListener("loadeddata",Te)}})),ft(t.querySelectorAll("iframe[src]")).forEach((function(t){_t(t,".fragment")&&!_t(t,".fragment.visible")||$e({target:t})})),ft(t.querySelectorAll("iframe[data-src]")).forEach((function(t){_t(t,".fragment")&&!_t(t,".fragment.visible")||t.getAttribute("src")!==t.getAttribute("data-src")&&(t.removeEventListener("load",$e),t.addEventListener("load",$e),t.setAttribute("src",t.getAttribute("data-src")))})))}function Te(t){var e=!!_t(t.target,"html"),i=!!_t(t.target,".present");e&&i&&(t.target.currentTime=0,t.target.play()),t.target.removeEventListener("loadeddata",Te)}function $e(t){var e=t.target;if(e&&e.contentWindow){var i=!!_t(t.target,"html"),a=!!_t(t.target,".present");if(i&&a){var r=g.autoPlayMedia;"boolean"!==typeof r&&(r=e.hasAttribute("data-autoplay")||!!_t(e,".slide-background")),/youtube\.com\/embed\//.test(e.getAttribute("src"))&&r?e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):/player\.vimeo\.com\//.test(e.getAttribute("src"))&&r?e.contentWindow.postMessage('{"method":"play"}',"*"):e.contentWindow.postMessage("slide:start","*")}}}function Ne(t,e){e=mt({unloadIframes:!0},e||{}),t&&t.parentNode&&(ft(t.querySelectorAll("video, audio")).forEach((function(t){t.hasAttribute("data-ignore")||"function"!==typeof t.pause||(t.setAttribute("data-paused-by-reveal",""),t.pause())})),ft(t.querySelectorAll("iframe")).forEach((function(t){t.contentWindow&&t.contentWindow.postMessage("slide:stop","*"),t.removeEventListener("load",$e)})),ft(t.querySelectorAll('iframe[src*="youtube.com/embed/"]')).forEach((function(t){!t.hasAttribute("data-ignore")&&t.contentWindow&&"function"===typeof t.contentWindow.postMessage&&t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})),ft(t.querySelectorAll('iframe[src*="player.vimeo.com/"]')).forEach((function(t){!t.hasAttribute("data-ignore")&&t.contentWindow&&"function"===typeof t.contentWindow.postMessage&&t.contentWindow.postMessage('{"method":"pause"}',"*")})),!0===e.unloadIframes&&ft(t.querySelectorAll("iframe[data-src]")).forEach((function(t){t.setAttribute("src","about:blank"),t.removeAttribute("src")})))}function Pe(t){void 0===t&&(t=r);var e=ft(S.wrapper.querySelectorAll(u)),i=0;t:for(var a=0;a<e.length;a++){for(var n=e[a],o=ft(n.querySelectorAll("section")),s=0;s<o.length;s++){if(o[s]===t)break t;i++}if(n===t)break;!1===n.classList.contains("stack")&&i++}return i}function Ie(){var t=Ue(),e=Pe();if(r){var i=r.querySelectorAll(".fragment");if(i.length>0){var a=r.querySelectorAll(".fragment.visible"),n=.9;e+=a.length/i.length*n}}return Math.min(e/(t-1),1)}function Re(){return!!window.location.search.match(/receiver/gi)}function qe(){var a=window.location.hash,n=a.slice(2).split("/"),o=a.replace(/#|\//gi,"");if(!/^[0-9]*$/.test(n[0])&&o.length){var s;try{s=document.getElementById(decodeURIComponent(o))}catch(m){}var l=!!r&&r.getAttribute("id")===o;if(s){if(!l){var d=t.getIndices(s);ne(d.h,d.v)}}else ne(e||0,i||0)}else{var c,u=g.hashOneBasedIndex?1:0,p=parseInt(n[0],10)-u||0,h=parseInt(n[1],10)-u||0;g.fragmentInURL&&(c=parseInt(n[2],10),isNaN(c)&&(c=void 0)),p===e&&h===i&&void 0===c||ne(p,h,c)}}function Be(t){clearTimeout($),"number"===typeof t?$=setTimeout(Be,t):r&&(g.history||!window.history?window.location.hash=Yt():g.hash?window.history.replaceState(null,null,"#"+Yt()):window.history.replaceState(null,null,window.location.pathname+window.location.search))}function He(t){var a,n=e,o=i;if(t){var s=Zt(t),l=s?t.parentNode:t,d=ft(S.wrapper.querySelectorAll(u));n=Math.max(d.indexOf(l),0),o=void 0,s&&(o=Math.max(ft(t.parentNode.querySelectorAll("section")).indexOf(t),0))}if(!t&&r){var c=r.querySelectorAll(".fragment").length>0;if(c){var p=r.querySelector(".current-fragment");a=p&&p.hasAttribute("data-fragment-index")?parseInt(p.getAttribute("data-fragment-index"),10):r.querySelectorAll(".fragment.visible").length-1}}return{h:n,v:o,f:a}}function De(){return ft(S.wrapper.querySelectorAll(c+":not(.stack)"))}function Oe(){return ft(S.wrapper.querySelectorAll(u))}function je(){return ft(S.wrapper.querySelectorAll(".slides>section>section"))}function Fe(){return Oe().length>1}function We(){return je().length>1}function Xe(){return De().map((function(t){for(var e={},i=0;i<t.attributes.length;i++){var a=t.attributes[i];e[a.name]=a.value}return e}))}function Ue(){return De().length}function Ve(t,e){var i=S.wrapper.querySelectorAll(u)[t],a=i&&i.querySelectorAll("section");return a&&a.length&&"number"===typeof e?a?a[e]:void 0:i}function Ye(t,e){var i="number"===typeof t?Ve(t,e):t;if(i)return i.slideBackgroundElement}function Ze(t){if(t=t||r,t.hasAttribute("data-notes"))return t.getAttribute("data-notes");var e=t.querySelector("aside.notes");return e?e.innerHTML:null}function Ke(){var t=He();return{indexh:t.h,indexv:t.v,indexf:t.f,paused:ie(),overview:Vt()}}function Ge(t){if("object"===typeof t){ne(gt(t.indexh),gt(t.indexv),gt(t.indexf));var e=gt(t.paused),i=gt(t.overview);"boolean"===typeof e&&e!==ie()&&ee(e),"boolean"===typeof i&&i!==Vt()&&Ut(i)}}function Je(t,e){t=ft(t);var i=[],a=[],r=[];t.forEach((function(t,e){if(t.hasAttribute("data-fragment-index")){var r=parseInt(t.getAttribute("data-fragment-index"),10);i[r]||(i[r]=[]),i[r].push(t)}else a.push([t])})),i=i.concat(a);var n=0;return i.forEach((function(t){t.forEach((function(t){r.push(t),t.setAttribute("data-fragment-index",n)})),n++})),!0===e?i:r}function Qe(t,e){var i={shown:[],hidden:[]};if(r&&g.fragments&&(e=e||Je(r.querySelectorAll(".fragment")),e.length)){var a=0;if("number"!==typeof t){var n=Je(r.querySelectorAll(".fragment.visible")).pop();n&&(t=parseInt(n.getAttribute("data-fragment-index")||0,10))}ft(e).forEach((function(e,r){e.hasAttribute("data-fragment-index")&&(r=parseInt(e.getAttribute("data-fragment-index"),10)),a=Math.max(a,r),r<=t?(e.classList.contains("visible")||i.shown.push(e),e.classList.add("visible"),e.classList.remove("current-fragment"),S.statusDiv.textContent=J(e),r===t&&(e.classList.add("current-fragment"),Ce(e))):(e.classList.contains("visible")&&i.hidden.push(e),e.classList.remove("visible"),e.classList.remove("current-fragment"))})),t="number"===typeof t?t:-1,t=Math.max(Math.min(t,a),-1),r.setAttribute("data-fragment",t)}return i}function ti(t,e){if(r&&g.fragments){var i=Je(r.querySelectorAll(".fragment"));if(i.length){if("number"!==typeof t){var a=Je(r.querySelectorAll(".fragment.visible")).pop();t=a?parseInt(a.getAttribute("data-fragment-index")||0,10):-1}"number"===typeof e&&(t+=e);var n=Qe(t,i);return n.hidden.length&&St("fragmenthidden",{fragment:n.hidden[0],fragments:n.hidden}),n.shown.length&&St("fragmentshown",{fragment:n.shown[0],fragments:n.shown}),we(),ve(),g.fragmentInURL&&Be(),!(!n.shown.length&&!n.hidden.length)}}return!1}function ei(){return ti(null,1)}function ii(){return ti(null,-1)}function ai(){if(ri(),r&&!1!==g.autoSlide){var e=r.querySelector(".current-fragment");e||(e=r.querySelector(".fragment"));var i=e?e.getAttribute("data-autoslide"):null,a=r.parentNode?r.parentNode.getAttribute("data-autoslide"):null,n=r.getAttribute("data-autoslide");R=i?parseInt(i,10):n?parseInt(n,10):a?parseInt(a,10):g.autoSlide,0===r.querySelectorAll(".fragment").length&&ft(r.querySelectorAll("video, audio")).forEach((function(t){t.hasAttribute("data-autoplay")&&R&&1e3*t.duration/t.playbackRate>R&&(R=1e3*t.duration/t.playbackRate+1e3)})),!R||H||ie()||Vt()||t.isLastSlide()&&!Le().next&&!0!==g.loop||(q=setTimeout((function(){"function"===typeof g.autoSlideMethod?g.autoSlideMethod():pi(),ai()}),R),B=Date.now()),l&&l.setPlaying(-1!==q)}}function ri(){clearTimeout(q),q=-1}function ni(){R&&!H&&(H=!0,St("autoslidepaused"),clearTimeout(q),l&&l.setPlaying(!1))}function oi(){R&&H&&(H=!1,St("autoslideresumed"),ai())}function si(){g.rtl?(Vt()||!1===ei())&&Se().left&&ne(e+1,"grid"===g.navigationMode?i:void 0):(Vt()||!1===ii())&&Se().left&&ne(e-1,"grid"===g.navigationMode?i:void 0)}function li(){k=!0,g.rtl?(Vt()||!1===ii())&&Se().right&&ne(e-1,"grid"===g.navigationMode?i:void 0):(Vt()||!1===ei())&&Se().right&&ne(e+1,"grid"===g.navigationMode?i:void 0)}function di(){(Vt()||!1===ii())&&Se().up&&ne(e,i-1)}function ci(){x=!0,(Vt()||!1===ei())&&Se().down&&ne(e,i+1)}function ui(){var t;if(!1===ii())if(Se().up)di();else if(t=g.rtl?ft(S.wrapper.querySelectorAll(u+".future")).pop():ft(S.wrapper.querySelectorAll(u+".past")).pop(),t){var i=t.querySelectorAll("section").length-1||void 0,a=e-1;ne(a,i)}}function pi(){if(k=!0,x=!0,!1===ei()){var e=Se();e.down&&e.right&&g.loop&&t.isLastVerticalSlide(r)&&(e.down=!1),e.down?ci():g.rtl?si():li()}}function hi(t){while(t&&"function"===typeof t.hasAttribute){if(t.hasAttribute("data-prevent-swipe"))return!0;t=t.parentNode}return!1}function mi(t){g.autoSlideStoppable&&ni()}function fi(t){Gt(),clearTimeout(P),P=setTimeout(Jt,g.hideCursorTime)}function gi(t){t.shiftKey&&63===t.charCode&&Pt()}function vi(e){if("function"===typeof g.keyboardCondition&&!1===g.keyboardCondition(e))return!0;var i=e.keyCode,a=H;mi(e);var r=document.activeElement&&"inherit"!==document.activeElement.contentEditable,n=document.activeElement&&document.activeElement.tagName&&/input|textarea/i.test(document.activeElement.tagName),o=document.activeElement&&document.activeElement.className&&/speaker-notes/i.test(document.activeElement.className),s=e.shiftKey&&32===e.keyCode,l=e.shiftKey&&37===i,d=e.shiftKey&&39===i,c=!s&&!l&&!d&&(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey);if(!(r||n||o||c)){var u,p=[66,86,190,191];if("object"===typeof g.keyboard)for(u in g.keyboard)"togglePause"===g.keyboard[u]&&p.push(parseInt(u,10));if(ie()&&-1===p.indexOf(i))return!1;var h="linear"===g.navigationMode||!Fe()||!We(),m=!1;if("object"===typeof g.keyboard)for(u in g.keyboard)if(parseInt(u,10)===i){var f=g.keyboard[u];"function"===typeof f?f.apply(null,[e]):"string"===typeof f&&"function"===typeof t[f]&&t[f].call(),m=!0}if(!1===m)for(u in j)if(parseInt(u,10)===i){var v=j[u].callback;"function"===typeof v?v.apply(null,[e]):"string"===typeof v&&"function"===typeof t[v]&&t[v].call(),m=!0}!1===m&&(m=!0,80===i||33===i?ui():78===i||34===i?pi():72===i||37===i?l?ne(0):!Vt()&&h?ui():si():76===i||39===i?d?ne(Number.MAX_VALUE):!Vt()&&h?pi():li():75===i||38===i?!Vt()&&h?ui():di():74===i||40===i?!Vt()&&h?pi():ci():36===i?ne(0):35===i?ne(Number.MAX_VALUE):32===i?(Vt()&&Xt(),e.shiftKey?ui():pi()):58===i||59===i||66===i||86===i||190===i||191===i?ee():70===i?Kt():65===i?g.autoSlideStoppable&&ae(a):m=!1),m?e.preventDefault&&e.preventDefault():27!==i&&79!==i||!C.transforms3d||(S.overlay?Rt():Ut(),e.preventDefault&&e.preventDefault()),ai()}}function bi(t){if(hi(t.target))return!0;D.startX=t.touches[0].clientX,D.startY=t.touches[0].clientY,D.startCount=t.touches.length}function yi(t){if(hi(t.target))return!0;if(D.captured)m.match(/android/gi)&&t.preventDefault();else{mi(t);var e=t.touches[0].clientX,i=t.touches[0].clientY;if(1===t.touches.length&&2!==D.startCount){var a=e-D.startX,n=i-D.startY;a>D.threshold&&Math.abs(a)>Math.abs(n)?(D.captured=!0,"linear"===g.navigationMode?g.rtl?pi():ui():si()):a<-D.threshold&&Math.abs(a)>Math.abs(n)?(D.captured=!0,"linear"===g.navigationMode?g.rtl?ui():pi():li()):n>D.threshold?(D.captured=!0,"linear"===g.navigationMode?ui():di()):n<-D.threshold&&(D.captured=!0,"linear"===g.navigationMode?pi():ci()),g.embedded?(D.captured||Zt(r))&&t.preventDefault():t.preventDefault()}}}function _i(t){D.captured=!1}function wi(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&"touch"!==t.pointerType||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],bi(t))}function ki(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&"touch"!==t.pointerType||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],yi(t))}function xi(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&"touch"!==t.pointerType||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],_i(t))}function Mi(t){if(Date.now()-T>600){T=Date.now();var e=t.detail||-t.wheelDelta;e>0?pi():e<0&&ui()}}function Ai(t){mi(t),t.preventDefault();var e=ft(S.wrapper.querySelectorAll(u)).length,i=Math.floor(t.clientX/S.wrapper.offsetWidth*e);g.rtl&&(i=e-i),ne(i)}function Ei(t){t.preventDefault(),mi(),"linear"===g.navigationMode?ui():si()}function Si(t){t.preventDefault(),mi(),"linear"===g.navigationMode?pi():li()}function Li(t){t.preventDefault(),mi(),di()}function zi(t){t.preventDefault(),mi(),ci()}function Ci(t){t.preventDefault(),mi(),ui()}function Ti(t){t.preventDefault(),mi(),pi()}function $i(t){qe()}function Ni(t){qt()}function Pi(t){var e=document.webkitHidden||document.msHidden||document.hidden;!1===e&&document.activeElement!==document.body&&("function"===typeof document.activeElement.blur&&document.activeElement.blur(),document.body.focus())}function Ii(t){if(I&&Vt()){t.preventDefault();var e=t.target;while(e&&!e.nodeName.match(/section/gi))e=e.parentNode;if(e&&!e.classList.contains("disabled")&&(Xt(),e.nodeName.match(/section/gi))){var i=parseInt(e.getAttribute("data-index-h"),10),a=parseInt(e.getAttribute("data-index-v"),10);ne(i,a)}}}function Ri(t){if(t.currentTarget&&t.currentTarget.hasAttribute("href")){var e=t.currentTarget.getAttribute("href");e&&(Nt(e),t.preventDefault())}}function qi(e){t.isLastSlide()&&!1===g.loop?(ne(0,0),oi()):H?oi():ni()}function Bi(t,e){this.diameter=100,this.diameter2=this.diameter/2,this.thickness=6,this.playing=!1,this.progress=0,this.progressOffset=1,this.container=t,this.progressCheck=e,this.canvas=document.createElement("canvas"),this.canvas.className="playback",this.canvas.width=this.diameter,this.canvas.height=this.diameter,this.canvas.style.width=this.diameter2+"px",this.canvas.style.height=this.diameter2+"px",this.context=this.canvas.getContext("2d"),this.container.appendChild(this.canvas),this.render()}return Bi.prototype.setPlaying=function(t){var e=this.playing;this.playing=t,!e&&this.playing?this.animate():this.render()},Bi.prototype.animate=function(){var t=this.progress;this.progress=this.progressCheck(),t>.8&&this.progress<.2&&(this.progressOffset=this.progress),this.render(),this.playing&&C.requestAnimationFrameMethod.call(window,this.animate.bind(this))},Bi.prototype.render=function(){var t=this.playing?this.progress:0,e=this.diameter2-this.thickness,i=this.diameter2,a=this.diameter2,r=28;this.progressOffset+=.1*(1-this.progressOffset);var n=-Math.PI/2+t*(2*Math.PI),o=-Math.PI/2+this.progressOffset*(2*Math.PI);this.context.save(),this.context.clearRect(0,0,this.diameter,this.diameter),this.context.beginPath(),this.context.arc(i,a,e+4,0,2*Math.PI,!1),this.context.fillStyle="rgba( 0, 0, 0, 0.4 )",this.context.fill(),this.context.beginPath(),this.context.arc(i,a,e,0,2*Math.PI,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="rgba( 255, 255, 255, 0.2 )",this.context.stroke(),this.playing&&(this.context.beginPath(),this.context.arc(i,a,e,o,n,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="#fff",this.context.stroke()),this.context.translate(i-r/2,a-r/2),this.playing?(this.context.fillStyle="#fff",this.context.fillRect(0,0,r/2-4,r),this.context.fillRect(r/2+4,0,r/2-4,r)):(this.context.beginPath(),this.context.translate(4,0),this.context.moveTo(0,0),this.context.lineTo(r-4,r/2),this.context.lineTo(0,r),this.context.fillStyle="#fff",this.context.fill()),this.context.restore()},Bi.prototype.on=function(t,e){this.canvas.addEventListener(t,e,!1)},Bi.prototype.off=function(t,e){this.canvas.removeEventListener(t,e,!1)},Bi.prototype.destroy=function(){this.playing=!1,this.canvas.parentNode&&this.container.removeChild(this.canvas)},t={VERSION:d,initialize:F,configure:ot,sync:oe,syncSlide:se,syncFragments:le,slide:ne,left:si,right:li,up:di,down:ci,prev:ui,next:pi,navigateFragment:ti,prevFragment:ii,nextFragment:ei,navigateTo:ne,navigateLeft:si,navigateRight:li,navigateUp:di,navigateDown:ci,navigatePrev:ui,navigateNext:pi,layout:qt,shuffle:ue,availableRoutes:Se,availableFragments:Le,toggleHelp:Pt,toggleOverview:Ut,togglePause:ee,toggleAutoSlide:ae,isOverview:Vt,isPaused:ie,isAutoSliding:re,isSpeakerNotes:Re,loadSlide:Ae,unloadSlide:Ee,addEventListeners:st,removeEventListeners:lt,getState:Ke,setState:Ge,getSlidePastCount:Pe,getProgress:Ie,getIndices:He,getSlides:De,getSlidesAttributes:Xe,getTotalSlides:Ue,getSlide:Ve,getSlideBackground:Ye,getSlideNotes:Ze,getHorizontalSlides:Oe,getVerticalSlides:je,hasHorizontalSlides:Fe,hasVerticalSlides:We,getPreviousSlide:function(){return a},getCurrentSlide:function(){return r},getScale:function(){return A},getConfig:function(){return g},getQueryHash:function(){var t={};for(var e in location.search.replace(/[A-Z0-9]+?=([\w\.%-]*)/gi,(function(e){t[e.split("=").shift()]=e.split("=").pop()})),t){var i=t[e];t[e]=gt(unescape(i))}return t},getRevealElement:function(){return S.wrapper||document.querySelector(".reveal")},getPlugins:function(){return L},isFirstSlide:function(){return 0===e&&0===i},isLastSlide:function(){return!!r&&(!r.nextElementSibling&&(!Zt(r)||!r.parentNode.nextElementSibling))},isLastVerticalSlide:function(){return!(!r||!Zt(r))&&!r.nextElementSibling},isReady:function(){return b},addEventListener:function(e,i,a){"addEventListener"in window&&t.getRevealElement().addEventListener(e,i,a)},removeEventListener:function(e,i,a){"addEventListener"in window&&t.getRevealElement().removeEventListener(e,i,a)},addKeyBinding:pt,removeKeyBinding:ht,registerPlugin:dt,hasPlugin:ct,getPlugin:ut,triggerKey:function(t){vi({keyCode:t})},registerKeyboardShortcut:function(t,e){O[t]=e}},t}))},3382:function(t,e,i){var a=i(1533);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var r=i(1982).Z;r("9124acb2",a,!0,{sourceMap:!1,shadowMode:!1})},8260:function(t,e,i){var a=i(1444);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var r=i(1982).Z;r("2ebe0dec",a,!0,{sourceMap:!1,shadowMode:!1})},4760:function(t,e,i){var a=i(7924);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var r=i(1982).Z;r("061fbe70",a,!0,{sourceMap:!1,shadowMode:!1})},4690:function(t,e,i){var a=i(8163);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var r=i(1982).Z;r("4e12e394",a,!0,{sourceMap:!1,shadowMode:!1})},5406:function(t,e,i){var a=i(7005);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var r=i(1982).Z;r("59447ba2",a,!0,{sourceMap:!1,shadowMode:!1})},2627:function(t,e,i){var a=i(5253);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var r=i(1982).Z;r("19bfc455",a,!0,{sourceMap:!1,shadowMode:!1})},6209:function(t,e,i){var a=i(4718);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var r=i(1982).Z;r("924080b2",a,!0,{sourceMap:!1,shadowMode:!1})},2046:function(t,e,i){var a=i(3589);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var r=i(1982).Z;r("7060f4ae",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=PublicationView2.js.map