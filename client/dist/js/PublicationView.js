(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[724,432],{5512:function(t,e,i){"use strict";i.d(e,{Z:function(){return d}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaPicker"},[i("PickMediaFromProjects",{attrs:{path:t.current_project_path,select_mode:"multiple"},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){return t.$emit("close")}}})],1)},s=[],o={props:{publication_path:String},components:{},data(){return{}},async created(){},beforeDestroy(){},watch:{},computed:{current_project_path(){const t=this.getParent(this.publication_path);return this.getParent(t)}},methods:{}},n=o,r=i(1001),l=(0,r.Z)(n,a,s,!1,null,"631237e0",null),d=l.exports},79:function(t,e,i){"use strict";i.d(e,{Z:function(){return f}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_topbar"},[i("TitleField",{attrs:{label:t.$t("title"),field_name:"title",tag:"h2",content:t.publication.title,path:t.publication.$path,can_edit:t.can_edit}}),i("div",{staticClass:"_buttonRow"},[t.can_edit&&"parent_contributors"!==t.publication.$admins?i("div",{},[i("small",[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.setCorrectPermForAdmins}},[t._v(" set perm to parent ")]),t._v(" "+t._s(t.publication.$admins)+" ")])]):t._e(),t.can_edit?i("div",{},[i("button",{staticClass:"u-buttonLink _exportBtn",attrs:{type:"button",disabled:t.is_exporting},on:{click:t.exportPublication}},[i("sl-icon",{attrs:{name:"filetype-pdf"}}),t._v(" "+t._s(t.$t("export"))+" "),i("transition",{attrs:{name:"fade_fast",duration:150,mode:"out-in"}},[t.is_exporting?i("LoaderSpinner"):t._e()],1)],1)]):t._e(),i("div",{},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_qr_code_modal=!0}}},[i("sl-icon",{attrs:{name:"qr-code"}}),t._v(" "+t._s(t.$t("share"))+" ")],1),t.show_qr_code_modal?i("QRModal",{attrs:{url_to_access:t.share_url},on:{close:function(e){t.show_qr_code_modal=!1}}}):t._e()],1),i("DuplicatePublication",{attrs:{path:t.publication.$path,source_title:t.publication.title,publication:t.publication},on:{close:function(e){return t.$emit("close")}}}),t.can_edit?i("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:t.removePublication}}):t._e()],1)],1)},s=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_modal=!0}}},[i("sl-icon",{attrs:{name:"file-plus"}}),t._v(" "+t._s(t.$t("duplicate_or_move"))+" ")],1),t.show_modal?i("BaseModal2",{attrs:{title:t.$t("duplicate_or_move")},on:{close:function(e){t.show_modal=!1}}},[t.navigation_to_copy?[i("router-link",{staticClass:"u-button u-button_bleumarine",attrs:{to:t.navigation_to_copy}},[t._v(" "+t._s(t.$t("open_copy"))+" ")])]:[i("div",{staticClass:"u-spacingBottom"},[i("div",{staticClass:"u-instructions"},[i("small",[t._v(" "+t._s(t.$t("dmp_instr"))+" ")])]),i("br"),i("SpaceProjectPicker",{staticClass:"u-spacingBottom",attrs:{path:t.path},on:{newProjectSelected:function(e){t.destination_project_path=e}}}),i("div",{staticClass:"u-spacingBottom"},[i("DLabel",{attrs:{str:t.$t("title_of_copy")}}),i("TextInput",{ref:"titleInput",attrs:{content:t.new_title,maxlength:40,required:!0},on:{"update:content":function(e){t.new_title=e}}})],1),i("div",{},[i("ToggleInput",{attrs:{content:t.remove_original,label:t.$t("remove_original"),options:{true:t.$t("remove_original_after_copy"),false:t.$t("keep_original_after_copy")}},on:{"update:content":function(e){t.remove_original=e}}})],1)],1),i("div",{staticClass:"u-sameRow",attrs:{slot:"footer"},slot:"footer"},[t.is_copying?i("LoaderSpinner"):[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_modal=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_red",attrs:{type:"button",autofocus:"",disabled:!t.destination_project_path},on:{click:t.confirm}},[t.remove_original?[t._v(" "+t._s(t.$t("move"))+" ")]:[t._v(" "+t._s(t.$t("duplicate"))+" ")]],2)]],2)]],2):t._e()],1)},n=[],r=(i(85827),i(26699),i(57658),i(81045)),l={props:{path:String,source_title:String,publication:Object},components:{SpaceProjectPicker:r.Z},data(){return{navigation_to_copy:!1,show_modal:!1,destination_project_path:void 0,remove_original:!1,new_title:this.$t("copy_of")+" "+this.source_title,is_copying:!1}},created(){},async mounted(){},beforeDestroy(){},watch:{},computed:{project_medias_to_copy(){return this.publication.$files.reduce(((t,e)=>(Object.prototype.hasOwnProperty.call(e,"source_medias")&&e.source_medias.map((e=>{const i=this.getSourceMedia({source_media:e,folder_path:this.publication.$path});t.includes(i.$path)||t.push(i.$path)})),t)),[])}},methods:{async confirm(){this.is_copying=!0;const t=this.destination_project_path+"/publications",e=await this.$api.copyFolder({path:this.path,path_to_destination_type:t,new_meta:{title:this.new_title}}).catch((t=>{throw"unique_field_taken"===t?(this.$alertify.delay(4e3).error(this.$t("notifications.title_taken")),this.$refs.titleInput.$el.querySelector("input").select()):"not_allowed_to_copy_to_space"===t&&this.$alertify.delay(4e3).error(this.$t("notifications.not_allowed_to_copy_to_space")),this.is_copying=!1,"fail"})),i=await this.$api.getFolder({path:e});if(this.$alertify.closeLogOnClick(!0).delay(4e3).success("publication_copy_success"),this.getParent(this.path)!==this.destination_project_path+"/publications"){this.$alertify.closeLogOnClick(!0).delay(4e3).log("has_linked_media_to_copy");for(let t of this.project_medias_to_copy){const a=await this.$api.copyFile({path:t,path_to_destination_folder:this.destination_project_path,new_meta:{group:"imported_from_"+e}}).catch((t=>{this.$alertify.delay(4e3).error(t)})),s=this.getFilename(t);if(a!==s)for(let t of i.$files){if(!Object.prototype.hasOwnProperty.call(t,"source_medias"))continue;if(!t.source_medias.some((t=>t.meta_filename_in_project&&t.meta_filename_in_project===s)))continue;const e=t.source_medias.map((t=>(t.meta_filename_in_project===s&&(t.meta_filename_in_project=a),t)));await this.$api.updateMeta({path:t.$path,new_meta:{source_medias:e}})}}this.$alertify.closeLogOnClick(!0).delay(4e3).success("linked media copied")}let a={};a.projectpanes=JSON.stringify([{type:"publish",size:100,folder:this.getFilename(i.$path)}]);const s={path:this.createURLFromPath(this.destination_project_path),query:a};this.remove_original?(this.is_copying=!1,await this.$api.deleteItem({path:this.path}),this.$emit("close")):(this.is_copying=!1,this.navigation_to_copy=s)}}},d=l,c=i(1001),u=(0,c.Z)(d,o,n,!1,null,"500902ff",null),p=u.exports,h={props:{publication:Object,can_edit:Boolean},components:{DuplicatePublication:p},data(){return{show_qr_code_modal:!1,is_exporting:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{share_url(){let t={};"page_by_page"===this.publication.template?t={display:"slides"}:"story_with_sections"===this.publication.template&&(t={display:"section"});const e=this.$router.resolve({path:this.createURLFromPath(this.publication.$path),query:t});return window.location.origin+e.href}},methods:{async exportPublication(){let t={recipe:"pdf",page_width:this.publication.page_width,page_height:this.publication.page_height,layout_mode:this.publication.layout_mode||"print"};!0===this.publication.page_spreads&&(t.page_width*=2);const e=await this.$api.exportFolder({path:this.publication.$path,instructions:t});this.$alertify.delay(4e3).log(this.$t("compilation_started")),this.is_exporting=!0;const i=({task_id:t})=>{t===e&&(this.is_exporting=!1,this.$eventHub.$off("task.ended",i))};this.$eventHub.$on("task.ended",i)},async removePublication(){this.fetch_status="pending",this.fetch_error=null;try{const t=await this.$api.deleteItem({path:this.publication.$path});this.response=t.data,this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}},async setCorrectPermForAdmins(){await this.$api.updateMeta({path:this.publication.$path,new_meta:{$admins:"parent_contributors"}})}}},_=h,m=(i(32099),(0,c.Z)(_,a,s,!1,null,"ed127818",null)),f=m.exports},68115:function(t,e,i){"use strict";i.d(e,{Z:function(){return f}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_moduleCreator"},[t.show_module_selector||!t.is_collapsed?i("div",{staticClass:"_typePicker"},[i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:t.createText}},[i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:"fonts",label:t.$t("add_text")}})],1),i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:"image",label:t.$t("add_medias")}})],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:t.createMosaic,close:function(e){t.show_media_picker=!1}}}):t._e(),i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(e){t.show_file_picker=!0}}},[i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:"file-earmark-binary-fill",label:t.$t("add_files")}})],1),t.show_file_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:t.createFiles,close:function(e){t.show_file_picker=!1}}}):t._e(),i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(e){t.show_link_picker=!0}}},[i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:"link",label:t.$t("add_link")}})],1),t.show_link_picker?i("LinkPicker",{attrs:{publication_path:t.publication_path},on:{embed:t.createEmbed,close:function(e){t.show_link_picker=!1}}}):t._e(),!0===t.show_shapes?t._l(t.shapes,(function(e){return i("button",{key:e.type,staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(i){return t.createModule({module_type:e.type,addtl_meta:e.addtl_meta})}}},[i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:e.icon,label:t.$t(e.type)}})],1)})):t._e()],2):t._e(),t.is_collapsed?i("button",{staticClass:"u-button u-button_transparent u-addBtn",style:t.show_module_selector?"transform: rotate(45deg);":"",attrs:{type:"button"},on:{click:function(e){t.show_module_selector=!t.show_module_selector}}},[i("sl-icon",{attrs:{name:"plus-circle"}})],1):t._e(),i("DropZone",{on:{mediaDropped:t.createMosaic}})],1)},s=[],o=(i(57658),i(5512)),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseModal2",{on:{close:function(e){return t.$emit("close")}}},[i("div",{staticClass:"_linkPicker"},[i("div",{staticClass:"_urlBox"},[i("DLabel",{attrs:{str:t.$t("input_url"),instructions:t.$t("input_url_instr")}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.full_url,expression:"full_url"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:t.full_url},on:{input:function(e){e.target.composing||(t.full_url=e.target.value)}}})],1),i("div",{staticClass:"u-instructions"},[t._v(" PeerTube, YouTube, Vimeo, etc. "+t._s(t.$t("for_example"))+"  "),t._l(["https://peertube.fr/w/wB6M6CHdfpWXpozVnqjbde","https://www.youtube.com/watch?v=Bn6zdyCAwJs","https://vimeo.com/447785086","https://observablehq.com/embed/@fil/bertin1953-glsl?cells=canvas"],(function(e,a){return i("button",{key:a,staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{innerHTML:t._s(e)},on:{click:function(i){t.full_url=e}}})}))],2),i("br"),i("div",{key:t.full_url},["any"===t.url_to_site.type?[i("iframe",{staticClass:"_siteIframe",attrs:{src:t.url_to_site.src,frameborder:"0"}})]:i("vue-plyr",[i("div",{staticClass:"plyr__video-embed"},[i("iframe",{attrs:{src:t.url_to_site.src,allowfullscreen:"",allowtransparency:"",allow:"autoplay; fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups",frameborder:"0"}})])])],2),i("br"),t.full_url?i("div",{staticClass:"_selectBtn"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){return t.$emit("embed",t.full_url)}}},[t._v(" "+t._s(t.$t("embed"))+" ")])]):t._e()])])},r=[],l={props:{publication_path:String},components:{},data(){return{full_url:"https://"}},async created(){},beforeDestroy(){},watch:{},computed:{url_to_site(){return!!this.full_url&&this.transformURL({url:this.full_url,autoplay:!1})}},methods:{}},d=l,c=(i(70586),i(1001)),u=(0,c.Z)(d,n,r,!1,null,"5f9b4bb8",null),p=u.exports,h={props:{publication_path:String,addtl_meta:Object,context:String,show_shapes:Boolean,is_collapsed:{type:Boolean,default:!0}},components:{MediaPicker:o.Z,LinkPicker:p},data(){return{show_module_selector:!1,show_media_picker:!1,show_file_picker:!1,show_link_picker:!1,shapes:[{type:"ellipsis",icon:"circle-fill",addtl_meta:{background_color:"#1d327f"}},{type:"rectangle",icon:"square-fill",addtl_meta:{background_color:"#ffbe32"}},{type:"line",icon:"dash-lg",addtl_meta:{outline_width:1,outline_color:"#000000"}},{type:"arrow",icon:"arrow-right-square",addtl_meta:{outline_width:1,outline_color:"#000000"}}],is_saving:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async createMosaic({meta_filename:t,path_to_source_media_metas:e}){let i=[];if(t?i.push({meta_filename:t}):e&&e.map((t=>{const e=this.getFilename(t);i.push({meta_filename_in_project:e})})),"page_by_page"===this.context&&(i=i.map((t=>(t.objectFit="contain",t)))),"page_by_page"===this.context)for(const s of i){var a;const t=this.getSourceMedia({source_media:s,folder_path:this.publication_path});let e={};null!==t&&void 0!==t&&null!==(a=t.$infos)&&void 0!==a&&a.ratio&&(e.height=this.$root.default_new_module_width*t.$infos.ratio),await this.createModule({module_type:"mosaic",source_medias:[s],addtl_meta:e})}else await this.createModule({module_type:"mosaic",source_medias:i});this.show_media_picker=!1},async createEmbed(t){const e=await this.$api.uploadText({path:this.publication_path,filename:"url.txt",content:t,additional_meta:{module_type:this.module_type,$type:"url"}});this.createMosaic({meta_filename:e})},async createFiles({path_to_source_media_metas:t}){let e=[];t.map((t=>{const i=this.getFilename(t);e.push({meta_filename_in_project:i})})),await this.createModule({module_type:"files",source_medias:e}),this.show_file_picker=!1},async createText(){const t=await this.$api.uploadText({path:this.publication_path,filename:"text.txt",content:"",additional_meta:{caption:"plip",module_type:this.module_type}}),e=[{meta_filename:t}];await this.createModule({module_type:"text",source_medias:e})},async createModule({module_type:t,source_medias:e=[],addtl_meta:i={}}){const a=await this.createMetaForModule({module_type:t,source_medias:e,addtl_meta:i});this.$emit("addModule",{meta_filename:a}),this.show_module_selector=!1},async createMetaForModule({module_type:t,source_medias:e,addtl_meta:i}){let a={module_type:t,source_medias:e,requested_slug:"module"};return this.addtl_meta&&Object.assign(a,this.addtl_meta,i),await this.$api.uploadFile({path:this.publication_path,additional_meta:a}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))}}},_=h,m=(i(65006),(0,c.Z)(_,a,s,!1,null,"5fe0d5e8",null)),f=m.exports},70621:function(t,e,i){"use strict";i.d(e,{Z:function(){return P}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationModule",class:{"is--shape":t.is_shape,"is--mosaic":t.is_mosaic,"has--fsButton":t.show_fs_button}},[t.can_edit&&"page_by_page"!==t.page_template?i("div",{staticClass:"_sideOptions"},[i("span",[t.$listeners.hasOwnProperty("moveUp")&&"first"!==t.module_position&&"alone"!==t.module_position?i("button",{staticClass:"_sideBtns _moveBefore",attrs:{type:"button"},on:{click:function(e){return t.$emit("moveUp")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M87.46,49.46,73.39,64.77a65.3,65.3,0,0,1-6.15,6.15A47.8,47.8,0,0,1,61,75.29H131.6V91.14H61A39.1,39.1,0,0,1,67,95.51q2.81,2.46,6.36,6.15L87.46,117,74.48,128,34.17,83.21,74.48,38.39Z"}})])]):t._e()]),i("div",{staticClass:"_options"},[i("button",{staticClass:"_sideBtns",class:{"is--active":t.show_advanced_menu},attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.show_advanced_menu=!t.show_advanced_menu}}},[i("svg",{staticStyle:{fill:"currentColor"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 48 48","xml:space":"preserve"}},[i("circle",{attrs:{cx:"12",cy:"24",r:"4"}}),i("circle",{attrs:{cx:"24",cy:"24",r:"4"}}),i("circle",{attrs:{cx:"36",cy:"24",r:"4"}})])]),t.show_advanced_menu?i("div",{staticClass:"_advanced_menu"},[i("sl-button",{attrs:{variant:"default",size:"small",pill:""}},[t._v(" "+t._s(t.$t("module.label."+t.publimodule.module_type))+" ")]),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button",disabled:!t.publimodule.size||100===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:100})}}},[t._v(" 100% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:66.6===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:66.6})}}},[t._v(" 66% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:50===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:50})}}},[t._v(" 50% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:33.3===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:33.3})}}},[t._v(" 33% ")])]),t.publimodule.size&&100!==t.publimodule.size?i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button",disabled:!t.publimodule.align||"left"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"left"})}}},[i("sl-icon",{attrs:{name:"align-start"}})],1),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:"center"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"center"})}}},[i("sl-icon",{attrs:{name:"align-center"}})],1),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:"right"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"right"})}}},[i("sl-icon",{attrs:{name:"align-end"}})],1)]):t._e(),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.duplicateModule}},[t._v(" "+t._s(t.$t("duplicate"))+" ")]),i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.removeModule}},[t._v(" "+t._s(t.$t("remove"))+" ")])])],1):t._e()]),i("span",[t.$listeners.hasOwnProperty("moveDown")&&"last"!==t.module_position&&"alone"!==t.module_position?i("button",{staticClass:"_sideBtns _moveAfter",attrs:{type:"button"},on:{click:function(e){return t.$emit("moveDown")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M78.31,117l14.07-15.31a65.3,65.3,0,0,1,6.15-6.15,47.52,47.52,0,0,1,6.29-4.37H34.17V75.29h70.65a39.1,39.1,0,0,1-6.08-4.37q-2.8-2.46-6.36-6.15L78.31,49.46l13-11.07L131.6,83.21,91.29,128Z"}})])]):t._e()])]):t._e(),i("div",{staticClass:"_content",style:t.media_styles},[["mosaic","files"].includes(t.publimodule.module_type)?i("MediasModule",{attrs:{publimodule:t.publimodule,can_edit:t.can_edit,context:t.context,page_template:t.page_template,number_of_max_medias:t.number_of_max_medias,show_fs_button:t.show_fs_button},on:{updateMeta:t.updateMeta,remove:t.removeModule}}):"text"===t.publimodule.module_type&&t.first_media?i("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.first_media.$path,content:t.first_media.$content,scrollingContainer:t.$el,line_selected:!1,can_edit:t.can_edit},on:{lineClicked:function(e){return t.$emit("lineClicked",e)},contentIsEdited:function(e){return t.$emit("contentIsEdited",e)},contentIsNotEdited:function(e){return t.$emit("contentIsNotEdited",e)}}}):t.is_shape?[i("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},["ellipsis"===t.publimodule.module_type?i("circle",{attrs:{cx:"50",cy:"50",r:50-t.publimodule.outline_width*t.magnification/8,"vector-effect":"non-scaling-stroke"}}):"rectangle"===t.publimodule.module_type?i("rect",{attrs:{x:t.publimodule.outline_width*t.magnification/4,y:t.publimodule.outline_width*t.magnification/4,width:100-t.publimodule.outline_width*t.magnification/2,height:100-t.publimodule.outline_width*t.magnification/2,"vector-effect":"non-scaling-stroke",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}):"line"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}})]):"arrow"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}}),i("g",{attrs:{transform:"\n              translate("+(100-(t.publimodule.outline_width*t.magnification/4||0))+", 50)",preserveAspectRatio:""}},[i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"-10","vector-effect":"non-scaling-stroke"}}),i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"10","vector-effect":"non-scaling-stroke"}})])]):t._e()])]:"free_drawing"===t.publimodule.module_type?void 0:i("small",[t._v(t._s(t.$t("nothing_to_show")))])],2)])},s=[],o=(i(52262),i(24506),i(26699),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[i("div",{key:t.medias_with_linked.length>1?"multiple":"single",staticClass:"_mediasModule",style:"--number_of_medias: "+t.medias_with_linked.length},["mosaic"===t.publimodule.module_type?i("MosaicMediaGrid",{attrs:{medias_with_linked:t.medias_with_linked,context:t.context,page_template:t.page_template,show_fs_button:t.show_fs_button,number_of_max_medias:t.number_of_max_medias,publication_path:t.publication_path,can_edit:t.can_edit},on:{addMedias:t.addMedias,removeMediaAtIndex:t.removeMediaAtIndex,updateMediaOpt:t.updateMediaOpt}}):t._e(),"files"===t.publimodule.module_type?i("FilesList",{attrs:{medias_with_linked:t.medias_with_linked,publication_path:t.publication_path,can_edit:t.can_edit},on:{addMedias:t.addMedias,reorderMedias:t.reorderMedias,removeMediaAtIndex:t.removeMediaAtIndex}}):t._e()],1)])}),n=[],r=(i(85827),i(57658),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaGrid",class:{"is--multipleMedias":t.is_multiple_medias}},[t._l(t.medias_with_linked,(function(e,a){return[i("div",{key:e._linked_media&&e._linked_media.$path||"no_media_"+a,staticClass:"_mediaGrid--item",style:t.itemStyle({media_with_linked:e})},[e._linked_media?i("MediaContent",{attrs:{file:e._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fs_button:t.show_fs_button}}):i("span",{staticClass:"_noSourceMedia u-instructions",domProps:{textContent:t._s(t.$t("source_media_missing"))}}),t.can_edit?i("div",{staticClass:"_btnRow"},[(t.is_multiple_medias||"page_by_page"===t.page_template&&!t.single_media_displayed_at_full_ratio)&&e.objectFit&&"cover"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:a,opt:{objectFit:"cover"}})}}},[t._v(" "+t._s(t.$t("object_fit_cover"))+" ")]):t._e(),(t.is_multiple_medias||"page_by_page"===t.page_template&&!t.single_media_displayed_at_full_ratio)&&"contain"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:a,opt:{objectFit:"contain"}})}}},[t._v(" "+t._s(t.$t("object_fit_contain"))+" ")]):t._e(),t.is_multiple_medias?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("removeMediaAtIndex",a)}}},[t._v(" "+t._s(t.$t("remove"))+" ")]):t._e()]):t._e()],1)]})),t.can_edit&&(!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias)?i("div",{staticClass:"_mediaPickerTile"},[i("button",{staticClass:"u-button u-button_transparent u-addBtn",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{attrs:{name:"plus-circle"}})],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias?[i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})]:t._e()],2):t._e()],2)}),l=[],d=i(5512),c={props:{medias_with_linked:Array,context:String,page_template:String,show_fs_button:Boolean,number_of_max_medias:[Boolean,Number],publication_path:String,can_edit:Boolean},components:{MediaPicker:d.Z},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{is_multiple_medias(){return this.medias_with_linked.length>1},single_media_displayed_at_full_ratio(){var t,e,i,a,s;if(this.medias_with_linked.length>1)return!1;const o=null===(t=this.medias_with_linked[0]._linked_media.$infos)||void 0===t?void 0:t.ratio,n=!(null===(e=this.publimodule)||void 0===e||!e.height||null===(i=this.publimodule)||void 0===i||!i.width)&&Math.round((null===(a=this.publimodule)||void 0===a?void 0:a.height)/(null===(s=this.publimodule)||void 0===s?void 0:s.width)*10);return!(!o||!n)&&Math.round(10*o)===n}},methods:{itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e}}},u=c,p=(i(50389),i(1001)),h=(0,p.Z)(u,r,l,!1,null,"4a608771",null),_=h.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_filesList"},[i("DLabel",{attrs:{str:t.$t("source_files")}}),i("SlickList",{staticClass:"_listOfFiles",attrs:{axis:"y",value:t.medias_with_linked.map((function(t){return t.meta_filename_in_project})),useDragHandle:!0},on:{input:function(e){return t.$emit("reorderMedias",e)}}},t._l(t.medias_with_linked,(function(e,a){var s=e._linked_media;return i("SlickItem",{key:s.$path,staticClass:"_reorderedFile",attrs:{index:a}},[t.can_edit?i("span",{directives:[{name:"handle",rawName:"v-handle"}],staticClass:"u-dragHandle"},[i("sl-icon",{attrs:{name:"grip-vertical",label:"Déplacer"}})],1):t._e(),s&&s.$path?i("span",{staticClass:"_link"},[["image","video","audio","pdf","stl","url"].includes(s.$type)?i("MediaContent",{staticClass:"_preview",attrs:{file:s,resolution:220}}):i("div",{staticClass:"_preview _preview--none"},[i("sl-icon",{attrs:{name:"file-earmark-arrow-down"}})],1),i("span",{staticClass:"_link--filename",domProps:{textContent:t._s(s.$media_filename)}}),s.$infos.size?[i("span",{staticClass:"u-instructions _link--filesize",domProps:{textContent:t._s(t.formatBytes(s.$infos.size))}})]:t._e()],2):t._e(),s&&s.$path?i("DownloadFile",{attrs:{file:s}},[i("sl-icon-button",{attrs:{name:"file-earmark-arrow-down-fill"}})],1):t._e(),t.can_edit?i("sl-icon-button",{attrs:{name:"x",size:"small"},on:{click:function(e){return t.$emit("removeMediaAtIndex",a)}}}):t._e()],1)})),1),t.can_edit?i("div",{staticClass:"_addBtnSection"},[i("button",{staticClass:"u-button u-button_transparent u-addBtn",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{attrs:{name:"plus-circle"}}),t._v(" "+t._s(t.$t("add_files"))+" ")],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})],1):t._e()],1)},f=[],g=i(55656),b={props:{medias_with_linked:Array,publication_path:String,can_edit:Boolean},components:{SlickItem:g.SlickItem,SlickList:g.SlickList,MediaPicker:d.Z},directives:{handle:g.HandleDirective},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},v=b,y=(i(66608),(0,p.Z)(v,m,f,!1,null,"6062cc30",null)),w=y.exports,x={props:{publimodule:Object,context:{type:String,default:"full"},page_template:String,number_of_max_medias:[Boolean,Number],show_fs_button:Boolean,can_edit:Boolean},components:{MosaicMediaGrid:_,FilesList:w},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{publication_path(){return this.getParent(this.publimodule.$path)},medias_with_linked(){return this.publimodule.source_medias?this.publimodule.source_medias.map((t=>{const e=this.getSourceMedia({source_media:t,folder_path:this.publication_path});return Object.assign({},t,{_linked_media:e})})):[]}},methods:{addMedias({path_to_source_media_metas:t}){const e=t.map((t=>({meta_filename_in_project:this.getFilename(t)}))),i=this.publimodule.source_medias.slice()||[],a=i.concat(e);this.$emit("updateMeta",{source_medias:a})},removeMediaAtIndex(t){const e=this.publimodule.source_medias.slice();e.splice(t,1),0===e.length?this.$emit("remove"):this.$emit("updateMeta",{source_medias:e})},reorderMedias(t){const e=this.publimodule.source_medias.slice(),i=t.reduce(((t,i)=>{const a=e.find((t=>t.meta_filename_in_project===i));return a&&t.push(a),t}),[]);this.$emit("updateMeta",{source_medias:i})},updateMediaOpt({index:t,opt:e}){const i=this.publimodule.source_medias.slice();Object.assign(i[t],e),this.$emit("updateMeta",{source_medias:i})}}},M=x,$=(i(71624),(0,p.Z)(M,o,n,!1,null,"39ae7987",null)),k=$.exports,C={props:{publimodule:Object,module_position:String,can_edit:Boolean,magnification:Number,borderRadius:Number,context:String,page_template:String,number_of_max_medias:{type:[Boolean,Number],default:!1}},components:{MediasModule:k},data(){return{show_advanced_menu:!1}},created(){},mounted(){this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.enableEditForText),this.$eventHub.$on(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$on(`module.remove.${this.module_meta_filename}`,this.removeModule)},beforeDestroy(){this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.enableEditForText),this.$eventHub.$off(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$off(`module.remove.${this.module_meta_filename}`,this.removeModule)},watch:{},computed:{module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},is_shape(){return["ellipsis","rectangle","line","arrow"].includes(this.publimodule.module_type)},is_mosaic(){return"mosaic"===this.publimodule.module_type},show_fs_button(){return"page_by_page"!==this.page_template||!0===this.publimodule.show_fs_button},first_media(){if(!this.publimodule.source_medias||0===this.publimodule.source_medias.length)return!1;const t=this.publimodule.source_medias[0];if(t){const e=this.getParent(this.publimodule.$path);return this.getSourceMedia({source_media:t,folder_path:e})}return!1},media_styles(){let t=0;return"center"===this.publimodule.align&&(66.6===this.publimodule.size?t=16.6:50===this.publimodule.size?t=25:33.3===this.publimodule.size&&(t=33.3)),"right"===this.publimodule.align&&(66.6===this.publimodule.size?t=33.3:50===this.publimodule.size?t=50:33.3===this.publimodule.size&&(t=66.6)),{"--module-width":this.publimodule.size||100,"--module-margin-left":t}}},methods:{async updateMeta(t){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},enableEditForText(){this.$nextTick((()=>{this.$refs.textBloc&&this.$refs.textBloc.enableEditor()}))},async duplicateModule(){let t={};"page_by_page"===this.page_template&&(t.x=(this.publimodule.x||0)+10,t.y=(this.publimodule.y||0)+10);const e=await this.duplicateModuleWithSourceMedias({og_module:this.publimodule,addtl_meta_to_module:t});this.$emit("duplicate",e)},async removeModule(){await this.$api.deleteItem({path:this.publimodule.$path}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.$emit("remove")}}},S=C,T=(i(78011),(0,p.Z)(S,a,s,!1,null,"439afc1b",null)),P=T.exports},98075:function(t,e,i){"use strict";i.d(e,{Z:function(){return D}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_singlePage",class:{"is--preview":"preview"===t.context,"is--editable":t.can_edit}},[i("div",{staticClass:"_pagecontainer",style:t.page_styles},[i("div",{staticClass:"_pagecontent"},[t.can_edit&&t.show_grid?i("svg",{staticClass:"_grid",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"}},[i("defs",[i("pattern",{attrs:{id:"gridSmall",width:t.gridstep,height:t.gridstep,patternUnits:"userSpaceOnUse"}},[i("path",{attrs:{d:"M "+t.gridstep+" 0 L 0 0 0 "+t.gridstep,fill:"none",stroke:"var(--c-gridlines)",strokeWidth:"1"}})]),i("pattern",{attrs:{id:"grid",width:5*t.gridstep,height:5*t.gridstep,patternUnits:"userSpaceOnUse"}},[i("rect",{attrs:{width:5*t.gridstep,height:5*t.gridstep,fill:"url(#gridSmall)"}}),i("path",{attrs:{d:"M "+5*t.gridstep+" 0 L 0 0 0 "+5*t.gridstep,fill:"none",stroke:"var(--c-gridfiveslines)",strokeWidth:"1"}})])]),i("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})]):t._e(),t._l(t.page_modules,(function(e){return i("MoveableItem",{key:e.$path,staticClass:"_item",attrs:{context:t.context,publimodule:e,magnification:t.magnification,gridstep:t.show_grid&&t.snap_to_grid?t.gridstep:1,scale:t.scale,can_edit:t.can_edit,is_active:t.active_module.$path===e.$path}})})),t.can_edit&&t.l_margins?i("svg",{staticClass:"_margins",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"}},[i("rect",{attrs:{x:t.magnify(t.l_margins.left),y:t.magnify(t.l_margins.top),width:t.magnify(t.page_width-t.l_margins.left-t.l_margins.right),height:t.magnify(t.page_height-t.l_margins.top-t.l_margins.bottom)}})]):t._e(),t.pagination&&!t.hide_pagination&&t.page_number_corrected>0?i("div",{staticClass:"_pagination",style:t.pagination_styles},[t._v(" "+t._s(t.page_number_corrected)+" ")]):t._e(),t.can_edit&&t.l_margins?i("svg",{staticClass:"_pageBorders",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"}},[i("rect",{attrs:{x:"0",y:"0",width:t.magnify(t.page_width),height:t.magnify(t.page_height),stroke:"black"}})]):t._e()],2)])])},s=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DDR",{key:t.component_key,staticClass:"_moveableItem",class:{"is--locked":!0===t.publimodule.locked,"is--editable":t.can_edit,"is--active":t.can_edit&&t.is_active,"is--beingEdited":t.content_is_edited,"panzoom-exclude":t.can_edit},style:t.module_z_index,attrs:{active:t.can_edit&&t.is_active&&!0!==t.publimodule.locked&&!0!==t.content_is_edited,value:t.transform,parent:!1,acceptRatio:t.aspect_ratio,handlerSize:15,grid:t.grid,id:t.publimodule.$path,zoom:t.scale},on:{dragstart:t.dragStart,drag:t.onDrag,dragend:t.dragEnd,resizestart:t.resizeStart,resizeend:t.resizeEnd,rotateend:t.rotateEnd}},[i("span",{staticClass:"_activator",on:{mousedown:t.setActive,dblclick:t.dblClick}},[i("PublicationModule",{staticClass:"_moveableItem--content",style:t.module_styles,attrs:{publimodule:t.publimodule,can_edit:t.can_edit&&t.is_active,borderRadius:t.turnCMtoPX(t.publimodule.border_radius)||0,context:t.context,page_template:"page_by_page",number_of_max_medias:1,magnification:t.magnification},on:{duplicate:t.onDuplicateModule,contentIsEdited:t.contentIsEdited,contentIsNotEdited:t.contentIsNotEdited}})],1),t.can_edit?i("div",{staticClass:"_unlockBtn"},[!0===t.publimodule.locked?i("button",{staticClass:"u-button u-button_orange u-button_small u-button_round u-colorBlack",attrs:{type:"button"},on:{click:function(e){return t.unlock()}}},[i("sl-icon",{attrs:{name:"lock"}})],1):t._e(),!t.can_edit||!t.is_active||t.content_is_edited||t.publimodule.locked&&!1!==t.publimodule.locked?t._e():i("button",{staticClass:"u-button u-button_orange u-button_small u-button_round u-colorBlack",attrs:{type:"button"},on:{click:function(e){return t.lock()}}},[i("sl-icon",{attrs:{name:"unlock"}})],1)]):t._e()])},n=[];i(52262),i(24506),i(26699),i(57658),i(21703),i(85827);class r{constructor(t){this._values=t}toString(){return`Vector(${this._values.join(", ")})`}get length(){return this._values.length}dot(t){if(t instanceof r&&this.length===t.length)return this._values.map(((e,i)=>e*t._values[i])).reduce(((t,e)=>t+e));throw Error("The param `vector` must instance of Vector")}get(t){return this._values[t]}}var l=r;class d{constructor(t){this._values=t}static zeros(t){return new d(new Array(t[0]).fill(null).map((()=>new Array(t[1]).fill(0))))}valueOf(){return JSON.parse(JSON.stringify(this._values))}toString(){return"Matrix ( "+this._values.map((t=>t.join(" "))).join(", ")+" )"}rows(){return this._values.length}cols(){return this._values[0].length}rowVector(t){return new l(this._values[t].slice(0))}colVector(t){let e=new Array(this.rows()).fill(0);return this._values.forEach(((i,a)=>{e[a]=i[t]})),new l(e)}dot(t){if(t instanceof l&&this.cols()===t.length)return new l(new Array(t.length).fill(null).map(((e,i)=>this.rowVector(i).dot(t))));if(t instanceof d&&this.cols()===t.rows()){let e,i=t.cols(),a=t.rows(),s=d.zeros([a,i]);for(let o=0;o<i;o++){e=this.dot(t.colVector(o));for(let t=0;t<a;t++)s._values[t][o]=e.get(t)}return s}throw Error("expected a Vector or Matrix but got "+typeof t)}get(t,e){return this._values[t][e]}T(){return new d(new Array(this.cols()).fill(null).map(((t,e)=>new Array(this.rows()).fill(0).map(((t,i)=>this.get(i,e))))))}}var c=d;const u={br:0,bm:1,bl:2,l:3,tl:4,tm:5,tr:6,r:7},p={tl:0,tm:1,tr:2,r:3,br:4,bm:5,bl:6,l:7},h={br:0,bm:0,bl:2,l:2,tl:4,tm:4,tr:6,r:6},_={l:1,r:1},m={tm:1,bm:1},f={tr:1,bl:1,r:1,l:1};function g(t){return t*Math.PI/180}function b(t){return 180*t/Math.PI}function v({x:t,y:e,width:i,height:a,rotation:s},o){let n=s*Math.PI/180,r=i/2*o,l=a/2*o,d=new c([[Math.cos(n),Math.sin(n)],[-Math.sin(n),Math.cos(n)]]),u=new c([[-r,l],[0,l],[r,l],[r,0],[r,-l],[0,-l],[-r,-l],[-r,0]]);return d.dot(u.T()).T().valueOf().map((i=>({x:i[0]+r+t*o,y:-(i[1]-l)+e*o})))}function y({type:t,x:e,y:i,dis:a,pressAngle:s,startAngle:o}){let n,r,l=b(Math.atan2(i,e)),d=g(s+l-o);return f[t]?(r=Math.cos(d)*a,n=Math.sin(d)*a):(r=Math.sin(d)*a,n=Math.cos(d)*a),{w:n,h:r}}const w=["nw","n","ne","e","se","s","sw","w"],x={tl:0,tm:1,tr:2,r:3,br:4,bm:5,bl:6,l:7};function M(t,e){let i=x[t],a=(i+Math.floor(e/45))%8;return w[a]}var $,k,C={name:"ddr",props:{value:{default:function(){return{x:0,y:0,width:100,height:100,rotation:0}},type:Object},handlerSize:{type:Number,default:11},active:{default:!0,type:Boolean},resizeHandler:{default:function(){return["tl","tm","tr","r","br","bm","bl","l"]},type:Array},resizable:{default:!0,type:Boolean},rotatable:{default:!0,type:Boolean},draggable:{default:!0,type:Boolean},acceptRatio:{default:!1,type:Boolean},minWidth:{type:Number,default:1},minHeight:{type:Number,default:1},maxWidth:{type:Number,default:1e8},maxHeight:{type:Number,default:1e8},parent:{type:Boolean,default:!1},beforeActive:{type:Function,default:()=>!1},id:[Number,String],renderContent:Function,grid:{type:Array,default:()=>[1,1]},stop:{default:!0,type:Boolean},prevent:{default:!0,type:Boolean},zoom:{default:1,type:Number},axis:{type:String,default:"xy"}},data(){return{transform:Object.assign({},this.value),currentRatio:1,isInitialRatio:!1,isDragging:!1,isResizing:!1,isRotating:!1,isReadyToDrag:!1,isReadyToResize:!1,isReadyToRotate:!1}},created(){this.localeTransform={...this.transform}},watch:{value(t){this.transform={...t}}},computed:{rotateHandler(){let t=Math.ceil(this.handlerSize/this.zoom)+"px";return`width:${t};height:${t};top:-25px;margin-left:${-Math.floor(this.handlerSize/2)}px`},style(){let t=this.transform;return`left:${t.x}px;top:${t.y}px;width:${t.width}px;height:${t.height}px;transform:rotate(${t.rotation}deg)`}},methods:{handleDefaultEvent(t){this.stop&&t.stopPropagation(),this.prevent&&t.preventDefault()},getNewHandler(t){let e=M(t,this.transform.rotation),{handlerSize:i}=this,a={},s=-Math.floor(i/2)+"px";switch(t){case"tl":a={top:s,left:s};break;case"tm":a={top:s,"margin-left":s};break;case"tr":a={right:s,top:s};break;case"r":a={right:s,"margin-top":s};break;case"br":a={bottom:s,right:s};break;case"bm":a={"margin-left":s,bottom:s};break;case"bl":a={left:s,bottom:s};break;case"l":a={"margin-top":s,left:s};break}let o={cursor:e+"-resize",width:Math.ceil(i/this.zoom)+"px",height:Math.ceil(i/this.zoom)+"px",...a};return Object.keys(o).map((t=>`${t}:${o[t]}`)).join(";")},emitChange(){this.$emit("input",{...this.transform})},handleMouseDown(t){if(!this.active&&!this.beforeActive(this.id))return;this.handleDefaultEvent(t);let e=t.touches?t.touches[0]:t,{clientX:i,clientY:a}=e;if(this._lastX=i,this._lastY=a,this._activeTarget=t.target,this._parentRect=this.$refs.wrapper.parentNode.getBoundingClientRect(),this._resizeHandler=t.target.dataset.resizetype,this.localeTransform={...this.transform},this.parent){let t=0,e=this._parentRect.width/this.zoom-this.transform.width,i=0,a=this._parentRect.height/this.zoom-this.transform.height,s=this.transform.x+this.transform.width,o=this._parentRect.width/this.zoom-this.transform.x,n=this.transform.y+this.transform.height,r=this._parentRect.height/this.zoom-this.transform.y;this.bounday={minLeft:t,maxLeft:e,minTop:i,maxTop:a,maxLeftWidth:s,maxRightWidth:o,maxTopHeight:n,maxBottomHeight:r}}document.addEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("touchmove",this.handleMouseMove,!1),document.addEventListener("touchend",this.handleMouseUp,!1),document.addEventListener("mouseup",this.handleMouseUp,!1),"rotate"===t.target.dataset.type?(this._handlerType="rotate",this.isReadyToRotate=!0,this.handleRotateStart(t),this.$emit("rotatestart",t,this.transform)):this._activeTarget.dataset.resizetype?(this._handlerType="resize",this.isReadyToResize=!0,this.handleResizeStart(t),this.$emit("resizestart",t,this.transform)):(this._handlerType="drag",this.isReadyToDrag=!0,this.draggable&&this.$emit("dragstart",t,this.transform))},handleMouseMove(t){this.handleDefaultEvent(t);let{clientX:e,clientY:i}=t.touches?t.touches[0]:t;this.isReadyToDrag=!1,this.isReadyToResize=!1,this.isReadyToRotate=!1,this._deltaX=e-this._lastX,this._deltaY=i-this._lastY,this._lastX=e,this._lastY=i,"resize"===this._handlerType?(this.isResizing=!0,this.handleResizeMove(t),this.$emit("resize",t,this.transform)):"drag"===this._handlerType&&this.draggable?(this.isDragging=!0,this.doMove(t),this.$emit("drag",t,this.transform)):"rotate"===this._handlerType&&(this.isRotating=!0,this.handleRotateMove(t),this.$emit("rotate",t,this.transform)),this.emitChange()},doMove(){let[t,e]=this.grid,i=this._deltaX/this.zoom,a=this._deltaY/this.zoom,s=this.localeTransform.x=Math.round(this.localeTransform.x+i),o=this.localeTransform.y=Math.round(this.localeTransform.y+a);this.axis.includes("x")&&(s>this.transform.x?this.transform.x=this.restrictToLeftOfParent(s-s%t):s<this.transform.x&&(this.transform.x=this.restrictToLeftOfParent(s-(s%t-t)))),this.axis.includes("y")&&(o>this.transform.y?this.transform.y=this.restrictToTopOfParent(o-o%e):o<this.transform.y&&(this.transform.y=this.restrictToTopOfParent(o-(o%e-e))))},restrictToLeftOfParent(t){return this.parent?(t=Math.max(this.bounday.minLeft,t),t=Math.min(this.bounday.maxLeft,t),t):t},restrictToTopOfParent(t){return this.parent?(t=Math.max(this.bounday.minTop,t),t=Math.min(this.bounday.maxTop,t),t):t},restrictHeight(t,e){return!this.parent||this.transform.rotation>0?t:["bl","bm","br"].includes(e)?Math.min(this.bounday.maxBottomHeight,t):["tl","tm","tr"].includes(e)?Math.min(this.bounday.maxTopHeight,t):t},restrictWidth(t,e){return!this.parent||this.transform.rotation>0?t:["tl","l","bl"].includes(e)?Math.min(this.bounday.maxLeftWidth,t):["tr","r","br"].includes(e)?Math.min(this.bounday.maxRightWidth,t):t},handleMouseUp(t){this.handleDefaultEvent(t),document.removeEventListener("mousemove",this.handleMouseMove,!1),document.removeEventListener("mouseup",this.handleMouseUp,!1),document.removeEventListener("touchmove",this.handleMouseMove,!1),document.removeEventListener("touchend",this.handleMouseUp,!1);let e={drag:"draggable",resize:"resizable",rotate:"rotatable"};this.isInitialRatio=this.isDragging=this.isResizing=this.isRotating=!1,this.isReadyToDrag=this.isReadyToResize=this.isReadyToRotate=!1,this[e[this._handlerType]]&&this.$emit(this._handlerType+"end",t,this.transform)},handleResizeStart(t){let e,i=this._resizeHandler,a=this.transform,s=v(a,this.zoom),o=s[u[i]],n=s[h[i]],{clientX:r,clientY:l}=t.touches?t.touches[0]:t,d=s[p[i]],c=r-d.x,g=l-d.y,y=r-n.x-c,w=l-n.y-g,x=a.width,M=a.height;e=f[i]?b(Math.atan2(x,_[i]?M/2:M)):b(Math.atan2(M,m[i]?x/2:x));let $=b(Math.atan2(w,y));this._resizeOpt={matrix:s,rect:a,type:i,opposite:o,opp2:n,pressAngle:e,startAngle:$,offsetX:c,offsetY:g}},handleResizeMove(t){let{clientX:e,clientY:i}=t.touches?t.touches[0]:t,{opposite:a,opp2:s,type:o,pressAngle:n,startAngle:r,offsetX:l,offsetY:d}=this._resizeOpt,c=e-s.x-l,p=i-s.y-d,h=Math.hypot(p,c),f=t.shiftKey||this.acceptRatio,[g,b]=this.grid;!this.isInitialRatio&&f&&(this.currentRatio=this.transform.width/this.transform.height,this.isInitialRatio=!0),f||(this.isInitialRatio=!1);let{w:w,h:x}=y({type:o,dis:h,x:c,y:p,startAngle:r,pressAngle:n}),M={...this.localeTransform};this.isInitialRatio&&(_[o]?x=w/this.currentRatio:w=x*this.currentRatio),w/=this.zoom,x/=this.zoom,w=Math.min(Math.max(Math.round(w),this.minWidth),this.maxWidth),x=Math.min(Math.max(Math.round(x),this.minHeight),this.maxHeight),_[o]&&!f?M.width=w:(m[o]&&!f||(M.width=w),M.height=x);let $=this._resizeHandler;M.width%g>0&&(M.width>this.localeTransform.width?M.width=M.width-M.width%g:M.width=M.width-(M.width%g-g)),M.height%b>0&&(M.height>this.localeTransform.height?M.height=M.height-M.height%b:M.height=M.height-(M.height%b-b)),M.height=this.restrictHeight(M.height,$),M.width=this.restrictWidth(M.width,$);let k=v(M,this.zoom),C=k[u[o]],S=-(C.x-a.x)/this.zoom,T=-(C.y-a.y)/this.zoom;M.x=Math.round(M.x+S),M.y=Math.round(M.y+T),this.transform=M},handleRotateStart(t){let{clientX:e,clientY:i}=t.touches?t.touches[0]:t,a=this.$refs.wrapper.getBoundingClientRect(),s=a.left+a.width/2,o=a.top+a.height/2,n=180/Math.PI*Math.atan2(i-o,e-s),r=this.transform.rotation;this._rotateOpt={cx:s,cy:o,startAngle:n,rotation:r}},handleRotateMove(t){let{cx:e,cy:i,startAngle:a,rotation:s}=this._rotateOpt,{clientX:o,clientY:n}=t.touches?t.touches[0]:t,r=o-e,l=n-i,d=180/Math.PI*Math.atan2(l,r),c=d-a,u=s+c;u%=360,u=u<0?u+360:u,u=this.roundRotate(u),this.transform.rotation=Math.floor(u)},roundRotate(t){const e=5;return t>360-e||t<0+e?0:t>90-e&&t<90+e?90:t>180-e&&t<180+e?180:t>270-e&&t<270+e?270:t},getClassNames(){const t=["yoyoo-ddr"];return this.active&&t.push("active"),this.isDragging&&t.push("ddr-dragging"),this.isResizing&&t.push("ddr-resizing"),this.isRotating&&t.push("ddr-rotating"),this.isReadyToDrag&&t.push("ddr-ready-drag"),this.isReadyToResize&&t.push("ddr-ready-resize"),this.isReadyToRotate&&t.push("ddr-ready-rotate"),t}},render(){const t=arguments[0];return t("div",{ref:"wrapper",style:this.style,class:this.getClassNames(),on:{touchstart:this.handleMouseDown,mousedown:this.handleMouseDown}},[this.renderContent?this.renderContent(this):this.$slots.default,this.resizable&&t("div",{class:"resize-handler-wrapper"},[this.resizeHandler.map((e=>t("span",{attrs:{"data-resizetype":e},key:e,style:this.getNewHandler(e),class:`resize-handler ${e}`})))]),this.rotatable&&t("span",{style:this.rotateHandler,attrs:{"data-type":"rotate"},class:"rotate-handler"})])}},S=C,T=(i(52046),i(1001)),P=(0,T.Z)(S,$,k,!1,null,null,null),z=P.exports,I=(i(13382),i(70621)),O={name:"app",props:{context:String,publimodule:Object,can_edit:Boolean,magnification:Number,gridstep:Number,scale:Number,is_active:Boolean},components:{DDR:z,PublicationModule:I.Z},data(){return{transform:{x:0,y:0,width:300,height:300,rotation:0},component_key:1,aspect_ratio:!0,content_is_edited:!1}},created(){this.setTransformFromPubli(),this.setNewComponentKey()},mounted(){this.$eventHub.$on(`module.panTo.${this.module_meta_filename}`,this.panTo),this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.setActive)},beforeDestroy(){this.$eventHub.$off(`module.panTo.${this.module_meta_filename}`,this.panTo),this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.setActive)},watch:{publimodule:{handler(){const t=this.setTransformFromPubli();t&&this.setNewComponentKey()},deep:!0},magnification(){const t=this.setTransformFromPubli();t&&this.setNewComponentKey()},is_active(){this.is_active||this.contentIsNotEdited()}},computed:{module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},grid(){return[this.gridstep,this.gridstep]},module_z_index(){return`\n        z-index: ${this.publimodule.z_index?this.publimodule.z_index:0}\n      `},module_styles(){return{"--set-margins":(this.turnCMtoPX(this.publimodule.margins)||0)+"px","--set-opacity":this.publimodule.opacity||1,"--set-borderRadius":(this.turnCMtoPX(this.publimodule.border_radius)||0)+"px","--set-backgroundColor":this.publimodule.background_color||"transparent","--set-outlineColor":this.publimodule.outline_color||"black","--set-outlineWidth":(this.turnCMtoPX(this.publimodule.outline_width)||0)+"px"}}},methods:{setNewComponentKey(){this.component_key=(new Date).getTime()},setTransformFromPubli(){let t=!1;return Object.keys(this.transform).map((e=>{if("number"===typeof this.publimodule[e])if(["x","y","width","height"].includes(e)){const i=this.turnCMtoPX(this.publimodule[e]);this.transform[e]!==i&&(this.transform[e]=i,t=!0)}else"rotation"===e&&this.transform[e]!==this.publimodule[e]&&(this.transform[e]=this.publimodule[e],t=!0)})),t},turnCMtoPX(t){return!!t&&this.roundToDec(t*this.magnification)},turnPXtoCM(t){return this.roundToDec(t/this.magnification)},contentIsEdited(t){this.$eventHub.$emit("module.text_editing_enabled",t),this.content_is_edited=!0},contentIsNotEdited(){this.$eventHub.$emit("module.text_editing_disabled"),this.content_is_edited=!1},roundToDec(t){return Math.round(100*(t+Number.EPSILON))/100},firstMedia(t){if(!t)return!1;try{const e=t.source_medias[0],i=this.getParent(t.$path);return this.getSourceMedia({source_media:e,folder_path:i})}catch(e){return!1}},dragStart(){},onDrag(t){},dragEnd(t,e){return JSON.stringify(e)!==JSON.stringify(this.transform)&&((this.turnPXtoCM(e.x)!==this.turnPXtoCM(this.transform.x)||this.turnPXtoCM(e.y)!==this.turnPXtoCM(this.transform.y))&&(this.updateTransform(e),void t.stopPropagation()))},resizeStart(t,e){return t.target.classList.contains("br")||t.target.classList.contains("bl")||t.target.classList.contains("tl")||t.target.classList.contains("tr")?this.aspect_ratio=!0:this.aspect_ratio=!1},resizeEnd(t,e){if(JSON.stringify(e)===JSON.stringify(this.transform))return!1;this.updateTransform(e),t.stopPropagation()},rotateEnd(t,e){if(JSON.stringify(e)===JSON.stringify(this.transform))return!1;this.updateTransform(e),t.stopPropagation()},async updateTransform(t){let e=JSON.parse(JSON.stringify(t));Object.keys(e).map((t=>{e[t]!==this.transform[t]?["x","y","width","height"].includes(t)?(e[t]=this.turnPXtoCM(e[t]),this.transform[t]=this.turnCMtoPX(e[t])):this.transform[t]=this.turnCMtoPX(this.turnPXtoCM(e[t])):delete e[t]})),await this.updateModuleMeta({new_meta:e})},panTo(){this.$eventHub.$emit("panzoom.panTo",{x:this.transform.x,y:this.transform.y})},setActive(t){return!this.is_active&&(this.content_is_edited?t.stopPropagation():void(this.can_edit&&!this.is_active&&!0!==this.publimodule.locked&&this.$eventHub.$emit("module.setActive",this.publimodule.$path)))},async dblClick(){if(!this.is_active)return;const t=this.firstMedia(this.publimodule);if(t)if("text"===t.$type)this.editText();else{var e;const i=null===(e=t.$infos)||void 0===e?void 0:e.ratio,a=this.publimodule.width*i;await this.updateModuleMeta({new_meta:{height:a}})}},editText(){const t=this.publimodule.$path.substring(this.publimodule.$path.lastIndexOf("/")+1);this.$eventHub.$emit(`module.enable_edit.${t}`)},async lock(){const t={locked:!0};await this.updateModuleMeta({new_meta:t}),this.$eventHub.$emit("module.setActive",!1)},async unlock(){const t={locked:!1};await this.updateModuleMeta({new_meta:t}),setTimeout((()=>{this.setActive()}),100)},async updateModuleMeta({new_meta:t}){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},onDuplicateModule(t){const e=this.publimodule.$path.substring(0,this.publimodule.$path.lastIndexOf("/")+1)+t;setTimeout((()=>{this.$eventHub.$emit("module.setActive",e)}),100)}}},j=O,E=(i(43865),(0,T.Z)(j,o,n,!1,null,"163601e7",null)),L=E.exports,R={props:{context:String,page_modules:Array,page_width:Number,page_height:Number,layout_mode:{type:String,default:"print"},page_color:String,hide_pagination:Boolean,zoom:{type:Number,default:1},scale:{type:Number,default:1},show_grid:{type:Boolean,default:!1},snap_to_grid:{type:Boolean,default:!1},gridstep_in_mm:Number,margins:Object,page_number:Number,pagination:[Boolean,Object],active_module:[Boolean,Object],page_is_left:Boolean,can_edit:Boolean},components:{MoveableItem:L},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{l_margins(){return 0!==Object.keys(this.margins).length&&(!0===this.page_is_left?{left:this.margins.right,right:this.margins.left,top:this.margins.top,bottom:this.margins.bottom}:this.margins)},gridstep(){return this.gridstep_in_mm?this.magnify(this.gridstep_in_mm):0},magnification(){return"screen"===this.layout_mode?1:this.$root.page_magnification},page_styles(){const t={};return this.page_width&&this.page_height&&(t["--page-width"]=`${this.magnify(this.page_width)}px`,t["--page-height"]=`${this.magnify(this.page_height)}px`),t["--zoom"]=this.zoom,t["--page-color"]=this.page_color||"#fff",t},page_number_corrected(){return this.page_number-this.pagination.pagination_start_on_page+1},pagination_styles(){const t={};return!0===this.page_is_left?t["--pagination-left"]=`${this.magnify(this.pagination.right)}px`:t["--pagination-right"]=`${this.magnify(this.pagination.right)}px`,t["--pagination-bottom"]=`${this.magnify(this.pagination.bottom)}px`,t}},methods:{magnify(t){return t*this.magnification}}},F=R,B=(i(52627),(0,T.Z)(F,a,s,!1,null,"799340e8",null)),D=B.exports},71209:function(t,e,i){"use strict";i.d(e,{Z:function(){return b}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_sectionsList"},[i("SectionsSummary",{attrs:{sections:t.sections,opened_section:t.opened_section,can_edit:t.can_edit},on:{createSection:t.createSection,openSection:t.openSection,updateOrder:t.updateOrder}}),i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.opened_section?i("div",{key:t.opened_section.$path},[i("SingleSection",{ref:"section",attrs:{publication:t.publication,section:t.opened_section,can_edit:t.can_edit},on:{remove:function(e){return t.removeSection(t.opened_section.$path)},close:t.closeSection}}),i("div",{staticClass:"_navBtns"},[i("div",{staticClass:"_navBtns--content"},[t.prev_section?i("span",{staticClass:"_navbtn",on:{click:t.prevSection}},[i("sl-icon",{attrs:{name:"arrow-left-circle"}}),t._v(" "+t._s(t.prev_section.section_title)+" ")],1):t._e(),t.next_section?i("span",{staticClass:"_navbtn",on:{click:t.nextSection}},[t._v(" "+t._s(t.next_section.section_title)+" "),i("sl-icon",{attrs:{name:"arrow-right-circle"}})],1):t._e()])])],1):t._e()])],1)},s=[],o=(i(57658),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_sectionsSummary"},[i("ProjectCard",{ref:"details",attrs:{header:t.$t("summary"),icon:"card-list",has_items:t.sections.length>0&&t.sections.length,is_open_initially:0===t.sections.length}},[i("SlickList",{staticClass:"_list",attrs:{axis:"y",value:t.sections,useDragHandle:!0},on:{input:function(e){return t.$emit("updateOrder",e)}}},t._l(t.sections,(function(e,a){return i("SlickItem",{key:e.$path,staticClass:"_summaryItem",class:{"is--active":t.isActive(e.$path)},attrs:{index:a}},[t.can_edit?i("span",{directives:[{name:"handle",rawName:"v-handle"}],staticClass:"u-dragHandle"},[i("sl-icon",{attrs:{name:"grip-vertical",label:"Déplacer"}})],1):t._e(),i("span",{staticClass:"_clickZone",on:{click:function(i){return t.openSection(e.$path)}}},[i("h4",{staticClass:"_title"},[e.section_title?i("span",[t._v(" "+t._s(e.section_title)+" ")]):i("span",{domProps:{innerHTML:t._s("<i>"+t.$t("untitled")+"</i>")}})])])])})),1),t.can_edit?[t.sections.length>0?[i("hr")]:t._e(),i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("createSection")}}},[t._v(" "+t._s(t.$t("create_section"))+" ")])]:t._e()],2)],1)}),n=[],r=i(68622),l=i(55656),d={props:{sections:Array,opened_section:[Boolean,Object],can_edit:Boolean},components:{ProjectCard:r.Z,SlickItem:l.SlickItem,SlickList:l.SlickList},directives:{handle:l.HandleDirective},data(){return{}},created(){},mounted(){this.$eventHub.$on("sections.open_summary",this.openSummary)},beforeDestroy(){this.$eventHub.$off("sections.open_summary",this.openSummary)},watch:{},computed:{},methods:{openSummary(){this.$refs.details.$el.open=!0},closeSummary(){this.$refs.details.$el.open=!1},openSection(t){this.$emit("openSection",t)},isActive(t){return this.opened_section&&t===this.opened_section.$path}}},c=d,u=(i(51807),i(21148),i(1001)),p=(0,u.Z)(c,o,n,!1,null,"19ef7c4e",null),h=p.exports,_=i(60738),m={props:{publication:Object,section_opened_meta:String,can_edit:Boolean},components:{SectionsSummary:h,SingleSection:_.Z},data(){return{}},provide(){return{$getMetaFilenamesAlreadyPresent:()=>this.meta_filenames_already_present}},created(){},mounted(){this.publication.sections_list&&!this.section_opened_meta&&this.$emit("toggleSection",this.publication.sections_list[0].meta_filename)},beforeDestroy(){},watch:{},computed:{sections_list(){return this.publication.sections_list||[]},sections(){const t=this.publication.$files?this.publication.$files.filter((t=>Object.prototype.hasOwnProperty.call(t,"section_type"))):[];return 0!==t.length&&this.publication.sections_list?this.publication.sections_list.map((({meta_filename:e})=>t.find((t=>t.$path.endsWith("/"+e))))):[]},opened_section(){var t;return null===(t=this.publication.$files)||void 0===t?void 0:t.find((t=>t.$path.endsWith("/"+this.section_opened_meta)))},opened_section_index(){return this.sections.findIndex((t=>t.$path===this.opened_section.$path))},next_section(){return this.opened_section_index<this.sections.length-1&&this.sections[this.opened_section_index+1]},prev_section(){return this.opened_section_index>0&&this.sections[this.opened_section_index-1]},meta_filenames_already_present(){const t=[],e=[];return this.sections.map((i=>{var a;const s=i.$path===(null===(a=this.opened_section)||void 0===a?void 0:a.$path);i.modules_list&&Array.isArray(i.modules_list)&&i.modules_list.map((i=>{const a=this.publication.$files.find((t=>this.getFilename(t.$path)===i));null!==a&&void 0!==a&&a.source_medias&&Array.isArray(a.source_medias)&&a.source_medias.map((i=>{s?t.push(i.meta_filename_in_project):e.push(i.meta_filename_in_project)}))}))})),{current:t,other:e}}},methods:{async createSection(){const t=await this.$api.uploadFile({path:this.publication.$path,additional_meta:{section_type:"-",requested_slug:"section"}}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}));let e=this.sections_list.slice();e.push({meta_filename:t}),await this.updatePubliMeta({sections_list:e}),this.$emit("toggleSection",t)},async removeSection(t){const e=this.getFilename(t);let i=this.sections_list.slice();i=i.filter((t=>t.meta_filename!==e)),this.updatePubliMeta({sections_list:i}),await this.$api.deleteItem({path:t})},async updatePubliMeta(t){return await this.$api.updateMeta({path:this.publication.$path,new_meta:t})},openSection(t){const e=this.getFilename(t);this.$emit("toggleSection",e)},closeSection(){this.$eventHub.$emit("sections.open_summary"),this.$emit("toggleSection",!1)},updateOrder(t){const e=t.map((t=>({meta_filename:this.getFilename(t.$path)})));if(JSON.stringify(e)===JSON.stringify(this.sections_list))return"no_update_necessary";this.updatePubliMeta({sections_list:e})},nextSection(){this.openSection(this.next_section.$path),setTimeout((()=>{this.scrollToTop()}),150)},prevSection(){this.openSection(this.prev_section.$path),setTimeout((()=>{this.scrollToTop()}),150)},scrollToTop(){this.$el.scrollIntoView({behavior:"smooth",inline:"nearest"})}}},f=m,g=(i(46777),(0,u.Z)(f,a,s,!1,null,"2ad91f66",null)),b=g.exports},60738:function(t,e,i){"use strict";i.d(e,{Z:function(){return g}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_singleSection"},[i("div",{staticClass:"_storyContainer"},[i("div",{staticClass:"_storyContent",style:t.story_styles},[i("div",{staticClass:"_topbar"},[i("SectionTitle",{attrs:{section:t.section,can_edit:t.can_edit}}),t.can_edit?i("div",{staticClass:"u-sameRow"},[i("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:function(e){return t.$emit("remove")}}}),i("div",[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[i("sl-icon",{attrs:{name:"x"}}),t._v(" "+t._s(t.$t("close"))+" ")],1)])],1):t._e()],1),i("transition-group",{attrs:{tag:"div",name:"StoryModules",appear:"",duration:700}},[t._l(t.modules_list,(function(e,a){return[i("PublicationModule",{key:e,staticClass:"_mediaPublication",attrs:{publimodule:t.findModuleFromMetaFilename(e),module_position:1===t.modules_list.length?"alone":0===a?"first":a===t.modules_list.length-1?"last":"inbetween",can_edit:t.can_edit},on:{resize:function(i){return t.resize({meta_filename:e,new_size:i})},moveUp:function(i){return t.moveTo({meta_filename:e,dir:-1})},moveDown:function(i){return t.moveTo({meta_filename:e,dir:1})},duplicate:function(i){return t.duplicatePublicationMedia({source_meta_filename:e,copy_meta_filename:i})},remove:function(i){return t.removeModuleFromList(e)}}}),i("div",{key:"mc_"+a,staticClass:"_spacer"},[t.can_edit?i("ModuleCreator",{attrs:{publication_path:t.publication.$path},on:{addModule:function(e){var i=e.meta_filename;return t.insertModuleMetaFilenameToList({meta_filename:i,index:a+1})}}}):t._e()],1)]}))],2),!t.can_edit||t.modules_list&&0!==t.modules_list.length?t._e():i("ModuleCreator",{attrs:{publication_path:t.publication.$path},on:{addModule:t.appendModuleMetaFilenameToList}})],1)])])},s=[],o=(i(85827),i(57658),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_sectionTitle"},[i("TitleField",{attrs:{field_name:"section_title",label:t.can_edit?t.$t("section_title"):"",content:t.section.section_title,path:t.section.$path,maxlength:120,tag:"h3",can_edit:t.can_edit}}),i("TitleField",{attrs:{field_name:"section_description",label:t.can_edit?t.$t("description"):"",content:t.section.section_description,path:t.section.$path,maxlength:1280,input_type:"markdown",can_edit:t.can_edit}})],1)}),n=[],r={props:{section:Object,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},l=r,d=i(1001),c=(0,d.Z)(l,o,n,!1,null,"724f4aa2",null),u=c.exports,p=i(68115),h=i(70621),_={props:{publication:Object,section:Object,can_edit:Boolean},components:{SectionTitle:u,ModuleCreator:p.Z,PublicationModule:h.Z},data(){return{medias:[]}},created(){},async mounted(){},beforeDestroy(){},watch:{},computed:{story_styles(){return""},modules_list(){if(this.section.modules_list&&Array.isArray(this.section.modules_list)){const t=this.section.modules_list.reduce(((t,e)=>{const i=this.findModuleFromMetaFilename(e);return i&&t.push(e),t}),[]);return t}return[]}},methods:{async appendModuleMetaFilenameToList({meta_filename:t}){const e=this.modules_list.slice();e.push(t),await this.updateMeta({modules_list:e}),this.toggleNewModuleEdit({meta_filename:t})},async insertModuleMetaFilenameToList({meta_filename:t,index:e}){const i=this.modules_list.slice();i.splice(e,0,t),await this.updateMeta({modules_list:i}),this.toggleNewModuleEdit({meta_filename:t})},async updateMeta(t){this.fetch_status="pending",this.fetch_error=null;try{this.response=await this.$api.updateMeta({path:this.section.$path,new_meta:t}),this.fetch_status="success"}catch(e){this.fetch_status="error",this.fetch_error=e.response.data}},findModuleFromMetaFilename(t){return this.publication.$files?this.publication.$files.find((e=>{const i=this.getFilename(e.$path);return i===t})):[]},async moveTo({meta_filename:t,dir:e}){let i=this.modules_list.slice();const a=i.findIndex((e=>e===t));return!(a+e<0)&&(!(a+e>i.length-1)&&(i.move(a,a+e),void(this.response=await this.updateMeta({modules_list:i}))))},async duplicatePublicationMedia({source_meta_filename:t,copy_meta_filename:e}){let i=this.modules_list.slice();const a=i.findIndex((e=>e===t));i.splice(a+1,0,e),this.response=await this.updateMeta({modules_list:i})},async removeModuleFromList(t){let e=this.modules_list.slice();e=e.filter((e=>e!==t)),this.response=await this.updateMeta({modules_list:e})},toggleNewModuleEdit({meta_filename:t}){setTimeout((()=>{console.log(`emit module.enable_edit.${t}`),this.$eventHub.$emit(`module.enable_edit.${t}`)}),50)}}},m=_,f=(i(29724),(0,d.Z)(m,a,s,!1,null,"1b77901e",null)),g=f.exports},18432:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return u}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_storyTemplate"},[t.can_edit?i("div",{staticClass:"_settings"},[i("details",[i("summary",[t._v(t._s(t.$t("settings")))]),i("RangeValueInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("story_width"),value:t.publication.story_width,min:0,max:2400,step:1,ticks:[320,480,800,1200,2400],default_value:800,suffix:"px"},on:{save:function(e){return t.updatePubliMeta({story_width:e})}}}),i("ToggleInput",{attrs:{content:!0!==t.publication.story_is_not_responsive,label:t.$t("responsive"),options:{true:t.$t("responsive_instr"),false:t.$t("not_responsive_instr")}},on:{"update:content":function(e){return t.updatePubliMeta({story_is_not_responsive:!e})}}})],1)]):t._e(),i("div",{staticClass:"_storyContainer"},[i("div",{staticClass:"_storyContent",style:t.story_styles},[i("transition-group",{attrs:{tag:"div",name:"StoryModules",appear:"",duration:700}},[t._l(t.modules_list,(function(e,a){return[i("PublicationModule",{key:e,staticClass:"_mediaPublication",attrs:{publimodule:t.findModuleFromMetaFilename(e),module_position:1===t.modules_list.length?"alone":0===a?"first":a===t.modules_list.length-1?"last":"inbetween",can_edit:t.can_edit},on:{resize:function(i){return t.resize({meta_filename:e,new_size:i})},moveUp:function(i){return t.moveTo({meta_filename:e,dir:-1})},moveDown:function(i){return t.moveTo({meta_filename:e,dir:1})},duplicate:function(i){return t.duplicatePublicationMedia({source_meta_filename:e,copy_meta_filename:i})},remove:function(i){return t.removeModuleFromList(e)}}}),i("div",{key:"mc_"+a,staticClass:"_spacer"},[t.can_edit?i("ModuleCreator",{attrs:{publication_path:t.publication.$path},on:{addModule:function(e){var i=e.meta_filename;return t.insertModuleMetaFilenameToList({meta_filename:i,index:a+1})}}}):t._e()],1)]}))],2)],1)]),!t.can_edit||t.modules_list&&0!==t.modules_list.length?t._e():i("ModuleCreator",{attrs:{publication_path:t.publication.$path},on:{addModule:t.appendModuleMetaFilenameToList}})],1)},s=[],o=(i(85827),i(57658),i(68115)),n=i(70621),r={props:{publication:Object,can_edit:Boolean},components:{ModuleCreator:o.Z,PublicationModule:n.Z},data(){return{medias:[],fetch_publication_error:null}},created(){},async mounted(){},beforeDestroy(){},watch:{},computed:{story_styles(){const t=(this.publication.story_width||800)+"px";return!0===this.publication.story_is_not_responsive?{width:t,maxWidth:"none"}:{maxWidth:t}},modules_list(){if(this.publication.modules_list&&Array.isArray(this.publication.modules_list)){const t=this.publication.modules_list.reduce(((t,e)=>{const i=this.findModuleFromMetaFilename(e);return i&&t.push(e),t}),[]);return t}return[]}},methods:{async appendModuleMetaFilenameToList({meta_filename:t}){const e=this.modules_list.slice();e.push(t),await this.updateMeta({new_meta:{modules_list:e}}),this.toggleNewModuleEdit({meta_filename:t})},async insertModuleMetaFilenameToList({meta_filename:t,index:e}){const i=this.modules_list.slice();i.splice(e,0,t),await this.updateMeta({new_meta:{modules_list:i}}),this.toggleNewModuleEdit({meta_filename:t})},async updatePubliMeta(t){return await this.$api.updateMeta({path:this.publication.$path,new_meta:t})},async updateMeta({new_meta:t}){this.fetch_status="pending",this.fetch_error=null;try{this.response=await this.$api.updateMeta({path:this.publication.$path,new_meta:t}),this.fetch_status="success"}catch(e){this.fetch_status="error",this.fetch_error=e.response.data}},findModuleFromMetaFilename(t){return this.publication.$files?this.publication.$files.find((e=>{const i=e.$path.substring(e.$path.lastIndexOf("/")+1);return i===t})):[]},async moveTo({meta_filename:t,dir:e}){let i=this.modules_list.slice();const a=i.findIndex((e=>e===t));return!(a+e<0)&&(!(a+e>i.length-1)&&(i.move(a,a+e),void(this.response=await this.updatePubliMeta({modules_list:i}))))},async duplicatePublicationMedia({source_meta_filename:t,copy_meta_filename:e}){let i=this.modules_list.slice();const a=i.findIndex((e=>e===t));i.splice(a+1,0,e),this.response=await this.updatePubliMeta({modules_list:i})},async removeModuleFromList(t){let e=this.modules_list.slice();e=e.filter((e=>e!==t)),this.response=await this.updatePubliMeta({modules_list:e})},toggleNewModuleEdit({meta_filename:t}){setTimeout((()=>{console.log(`emit module.enable_edit.${t}`),this.$eventHub.$emit(`module.enable_edit.${t}`)}),50)}}},l=r,d=(i(84770),i(1001)),c=(0,d.Z)(l,a,s,!1,null,"759e3c2e",null),u=c.exports},74270:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return S}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationView",class:{"is--serversidepreview":t.is_serversidepreview}},[i("style",{tag:"component"},[t._v(" "+t._s(t.set_print_margins)+" ")]),i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.project&&t.publication?t.fetch_project_error?i("div",{key:"err"},[t._v(" "+t._s(t.fetch_project_error)+" ")]):i("div",{key:"publication",ref:"fsContainer"},[t.is_serversidepreview?t._e():i("div",{staticClass:"_pubTopbar"},[i("PublicationTopbar",{attrs:{publication:t.publication,can_edit:!1}})],1),"page_by_page"===t.publication.template?[i("PageSlides",{attrs:{publication:t.publication,is_serversidepreview:t.is_serversidepreview},on:{toggleFs:t.toggleFs}})]:"story"===t.publication.template?i("div",[i("StoryTemplate",{staticClass:"_storyTemplate",attrs:{publication:t.publication,can_edit:!1}})],1):"story_with_sections"===t.publication.template?i("div",[i("SectionWithPrint",{attrs:{publication:t.publication}})],1):t._e()],2):i("div",{key:"loader",staticClass:"u-divCentered"},[i("LoaderSpinner")],1)])],1)},s=[],o=i(8375),n=i(79),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_pageSlides",class:{"is--slides":"slides"===t.display_mode,"is--serversidepreview":t.is_serversidepreview}},[i("div",{staticClass:"_pages",style:t.pages_style},[t.is_spread?["slides"!==t.display_mode?t._l(t.spreads_to_show,(function(e,a){return i("div",{key:a,staticClass:"_spread"},t._l(e,(function(e,s){return i("div",{key:e.id?e.id:s,staticClass:"_spread--page"},[e?[i("SinglePage",{attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_color:e.page_color,layout_mode:t.publication.layout_mode,hide_pagination:!0===e.hide_pagination,page_number:2*a+s,pagination:t.pagination,can_edit:!1}})]:i("div",{staticClass:"_noPage"})],2)})),0)})):[i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.slide_current_spread?i("div",{key:"spread-"+t.slides_current_page_or_spread_index,staticClass:"_spread"},t._l(t.slide_current_spread,(function(e,a){return i("div",{key:e.id?e.id:a,staticClass:"_spread--page"},[e?[i("SinglePage",{attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_color:e.page_color,layout_mode:t.publication.layout_mode,hide_pagination:!0===e.hide_pagination,page_number:2*(t.slides_current_page_or_spread_index-1)+a,pagination:t.pagination,can_edit:!1}})]:i("div",{staticClass:"_noPage"})],2)})),0):t._e()])]]:["slides"!==t.display_mode?t._l(t.pages_to_show,(function(e,a){return i("div",{key:"page-"+e.id,staticClass:"_page"},[i("SinglePage",{attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_color:e.page_color,layout_mode:t.publication.layout_mode,hide_pagination:!0===e.hide_pagination,page_number:a,pagination:t.pagination,can_edit:!1}})],1)})):[i("transition",{attrs:{name:"fade_fast",mode:"in-out"}},[t.slide_current_page?i("div",{key:"page-"+t.slide_current_page.id,staticClass:"_page"},[i("SinglePage",{attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:t.slide_current_page.id}),page_color:t.slide_current_page.page_color,layout_mode:t.publication.layout_mode,hide_pagination:!0===t.slide_current_page.hide_pagination,page_number:t.slides_current_page_or_spread_index-1,pagination:t.pagination,can_edit:!1}})],1):t._e()])]]],2),"slides"===t.display_mode?i("div",{staticClass:"_navBtns"},[i("span",[i("button",{staticClass:"u-button u-button_transparent u-button_small",attrs:{type:"button",disabled:t.slides_current_page_or_spread_index<=1},on:{click:function(e){return t.updatePageQuery({increment:-1})}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{attrs:{d:"M87.46,49.46,73.39,64.77a65.3,65.3,0,0,1-6.15,6.15A47.8,47.8,0,0,1,61,75.29H131.6V91.14H61A39.1,39.1,0,0,1,67,95.51q2.81,2.46,6.36,6.15L87.46,117,74.48,128,34.17,83.21,74.48,38.39Z"}})])])]),i("span",{staticClass:"_pageInd"},[i("b",[i("select",{domProps:{value:t.slides_current_page_or_spread_index},on:{change:function(e){return t.updatePageQuery({page_number:e.target.value})}}},t._l(t.is_spread?t.spreads.length:t.pages.length,(function(e,a){return i("option",{key:a,domProps:{value:a+1,textContent:t._s(a+1)}})})),0),t._l(t.is_spread?t.spreads.length:t.pages.length,(function(t,e){return i("div",{key:e,attrs:{"v-text":e}})}))],2),t._v(" / "+t._s(t.is_spread?t.spreads.length:t.pages.length))]),i("span",[i("button",{staticClass:"u-button u-button_transparent u-button_small",attrs:{type:"button",disabled:t.slides_current_page_or_spread_index>=(t.is_spread?t.spreads.length:t.pages.length)},on:{click:function(e){return t.updatePageQuery({increment:1})}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{attrs:{d:"M78.31,117l14.07-15.31a65.3,65.3,0,0,1,6.15-6.15,47.52,47.52,0,0,1,6.29-4.37H34.17V75.29h70.65a39.1,39.1,0,0,1-6.08-4.37q-2.8-2.46-6.36-6.15L78.31,49.46l13-11.07L131.6,83.21,91.29,128Z"}})])])])]):t._e()])},l=[],d=(i(26699),i(57658),i(98075)),c={props:{publication:Object,is_serversidepreview:Boolean},components:{SinglePage:d.Z},data(){return{display_mode:"print",page_zoom:100}},created(){},async mounted(){var t;"screen"===this.publication.layout_mode?document.body.style=`\n          --page-width: ${this.publication.page_width}px;\n          --page-height: ${this.publication.page_height}px;\n        `:"print"===this.publication.layout_mode&&(document.body.style=`\n          --page-width: ${this.publication.page_width}mm;\n          --page-height: calc(${this.publication.page_height}mm - 0.4mm);\n        `),document.addEventListener("keydown",this.keyPressed),"slides"===(null===(t=this.$route.query)||void 0===t?void 0:t.display)&&(this.display_mode="slides"),"slides"===this.display_mode&&(this.fitZoomToPage(),window.addEventListener("resize",(()=>{this.fitZoomToPage()})))},beforeDestroy(){document.removeEventListener("keydown",this.keyPressed)},watch:{},computed:{page_dimensions_to_px(){return"print"===this.publication.layout_mode?{width:3.7952*this.publication.page_width,height:3.7952*this.publication.page_height}:{width:this.publication.page_width,height:this.publication.page_height}},pagination(){return this.setPaginationFromPublication(this.publication)},pages_style(){return{"--page-zoom":this.page_zoom/100}},slides_current_page_or_spread_index(){var t;return null!==(t=this.$route.query)&&void 0!==t&&t.page?+this.$route.query.page:1},slide_current_page(){return!!this.pages&&this.pages[this.slides_current_page_or_spread_index-1]},slide_current_spread(){return!!this.spreads&&this.spreads[this.slides_current_page_or_spread_index-1]},pages_to_show(){var t;const e=+(null===(t=this.$route.query)||void 0===t?void 0:t.page);return e?this.pages.slice(e-1,e):this.pages},modules(){return this.publication.$files||[]},pages(){return this.publication.pages?this.publication.pages:[]},is_spread(){return!0===this.publication.page_spreads},spreads(){return!!this.is_spread&&this.makeSpread({pages:this.pages})},spreads_to_show(){var t;const e=+(null===(t=this.$route.query)||void 0===t?void 0:t.page);return e?this.spreads.slice(e-1,e):this.spreads}},methods:{fitZoomToPage(){const t=70;let e=this.page_dimensions_to_px.width;this.is_spread&&(e*=2);let i=window.innerWidth/(e+t),a=window.innerHeight/(this.page_dimensions_to_px.height+t);this.page_zoom=100*Math.min(i,a)},keyPressed(t){if(!(this.$root.modal_is_opened||"select"===t.target.tagName.toLowerCase()||"input"===t.target.tagName.toLowerCase()||"textarea"===t.target.tagName.toLowerCase()||t.target.className.includes("ql-editor")||t.target.hasAttribute("contenteditable"))&&"slides"===this.display_mode)switch(t.key){case"w":case"z":case"ArrowLeft":this.slides_current_page_or_spread_index>1&&this.updatePageQuery({increment:-1});break;case"s":case"ArrowRight":this.slides_current_page_or_spread_index<(this.is_spread?this.spreads.length:this.pages.length)&&this.updatePageQuery({increment:1});break;case"p":this.page_zoom+=6;break;case"m":this.page_zoom-=6;break;case"r":this.fitZoomToPage();break;case"f":this.$emit("toggleFs");break}},updatePageQuery({increment:t,page_number:e}){let i={};this.$route.query&&(i=JSON.parse(JSON.stringify(this.$route.query))),t?i.page=this.slides_current_page_or_spread_index+t:e&&(i.page=e),this.$router.push({query:i})}}},u=c,p=(i(72008),i(5769),i(1001)),h=(0,p.Z)(u,r,l,!1,null,"f35ba7c8",null),_=h.exports,m=i(18432),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["section"===t.display_mode?[i("SectionsList",{attrs:{publication:t.publication,can_edit:!1,section_opened_meta:t.section_opened_meta},on:{toggleSection:function(e){t.section_opened_meta=e}}})]:[i("div",{staticClass:"_allSections"},t._l(t.sections,(function(e){return i("div",{key:e.$path,staticClass:"_section"},[i("SingleSection",{attrs:{publication:t.publication,section:e,can_edit:!1}})],1)})),0)]],2)},g=[],b=i(71209),v=i(60738),y={props:{publication:Object},components:{SectionsList:b.Z,SingleSection:v.Z},data(){return{section_opened_meta:"",display_mode:"all"}},created(){var t;"section"===(null===(t=this.$route.query)||void 0===t?void 0:t.display)&&(this.display_mode="section"),this.publication.sections_list&&(this.section_opened_meta=this.publication.sections_list[0].meta_filename)},mounted(){},beforeDestroy(){},watch:{},computed:{sections_list(){return this.publication.sections_list||[]},sections(){const t=this.publication.$files?this.publication.$files.filter((t=>Object.prototype.hasOwnProperty.call(t,"section_type"))):[];return 0!==t.length&&this.publication.sections_list?this.publication.sections_list.map((({meta_filename:e})=>t.find((t=>t.$path.endsWith("/"+e))))):[]}},methods:{}},w=y,x=(i(22158),(0,p.Z)(w,f,g,!1,null,"8af5b45e",null)),M=x.exports,$={props:{},components:{PublicationTopbar:n.Z,PageSlides:_,StoryTemplate:m["default"],SectionWithPrint:M},data(){return{fetch_project_error:null,project:null,publication:null,is_fullscreen:!1,is_serversidepreview:!1}},created(){},async mounted(){var t;"true"===(null===(t=this.$route.query)||void 0===t?void 0:t.make_preview)&&(this.is_serversidepreview=!0),await this.listProject(),this.$eventHub.$emit("received.project",this.project),await this.listPublication()},beforeDestroy(){},watch:{is_fullscreen(){this.$nextTick((()=>{this.fitZoomToPage()}))}},computed:{project_path(){return this.createPath({space_slug:this.$route.params.space_slug,project_slug:this.$route.params.project_slug})},publication_path(){return`${this.project_path}/publications/${this.$route.params.publication_slug}`},set_print_margins(){let t=15;return this.publication&&"page_by_page"===this.publication.template&&(t=0),`\n      @page {\n        margin: ${t}mm;\n      }\n      `}},methods:{async openFs(){await o.Z.request(this.$refs.fsContainer),this.is_fullscreen=!0,o.Z.onchange((()=>{o.Z.isFullscreen||(this.is_fullscreen=!1)}))},async closeFs(){await o.Z.exit(),this.is_fullscreen=!1},async toggleFs(){this.is_fullscreen?this.closeFs():this.openFs()},async listProject(){const t=await this.$api.getFolder({path:this.project_path}).catch((t=>{this.fetch_project_error=t.response,this.is_loading=!1}));this.project=t},async listPublication(){const t=await this.$api.getFolder({path:this.publication_path}).catch((t=>{this.fetch_publication_error=t.response}));this.publication=t}}},k=$,C=(i(70022),(0,p.Z)(k,a,s,!1,null,null,null)),S=C.exports},71533:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}",""]),e["default"]=r},53024:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._linkPicker[data-v-5f9b4bb8]{width:100%;margin:0 auto}._addMediaBtn[data-v-5f9b4bb8]{text-align:center;padding:calc(var(--spacing)*1)}._selectBtn[data-v-5f9b4bb8]{display:flex;place-items:center;justify-content:center;width:100%;gap:calc(var(--spacing)/1);background:#fff}iframe[data-v-5f9b4bb8]{width:100%;aspect-ratio:4/3}",""]),e["default"]=r},12346:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._topbar[data-v-ed127818]{display:flex;align-items:center;width:100%;background:#fff;padding:calc(var(--spacing)/2) calc(var(--spacing)*1);border-radius:10px;margin:calc(var(--spacing)/2) auto calc(var(--spacing)/1);box-shadow:0 1px 4px rgba(0,0,0,.1)}._buttonRow[data-v-ed127818]{display:flex;justify-content:flex-end;gap:calc(var(--spacing)/2)}._exportBtn[data-v-ed127818]{position:relative}",""]),e["default"]=r},20876:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._filesList[data-v-6062cc30]{position:relative;z-index:0;text-align:center}._listOfFiles[data-v-6062cc30]{padding:0;margin:0;display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/4)}._reorderedFile[data-v-6062cc30]{z-index:10;padding:0;min-height:2em;background:#fff;border:1px solid var(--c-gris);display:flex;flex-flow:row nowrap;justify-content:center;word-break:break-word;align-items:center;padding:0 calc(var(--spacing)/2);gap:calc(var(--spacing)/2);border-radius:2px;justify-content:space-between}._reorderedFile[data-v-6062cc30]:focus-visible,._reorderedFile[data-v-6062cc30]:hover{background:var(--c-gris)}._reorderedFile ._link[data-v-6062cc30]{flex:1 1 auto;overflow:hidden;font-variant:none;font-weight:400;letter-spacing:0;font-size:var(--sl-font-size-x-small);text-decoration:none;display:flex;flex-flow:row nowrap;align-items:center;gap:calc(var(--spacing)/1)}._reorderedFile ._link>*[data-v-6062cc30]{flex:1 1 50px}._reorderedFile ._link ._preview[data-v-6062cc30]{flex:0 0 auto;font-size:100%;width:45px;height:45px;overflow:hidden;border-radius:4px;background:var(--c-gris_clair)}._reorderedFile ._link ._preview[data-v-6062cc30]:focus-visible,._reorderedFile ._link ._preview[data-v-6062cc30]:hover{background:#fff}._reorderedFile ._link ._preview._preview--none[data-v-6062cc30]{display:flex;justify-content:center;align-items:center;font-size:150%}._reorderedFile ._link ._preview[data-v-6062cc30]  ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;max-width:none}._reorderedFile ._link ._link--filename[data-v-6062cc30]{flex:1 1 0;text-align:left;white-space:break-spaces}._reorderedFile ._link ._link--filename[data-v-6062cc30],._reorderedFile ._link ._link--filesize[data-v-6062cc30]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}._reorderedFile ._link ._link--filesize[data-v-6062cc30]{flex:0 0 50px}._addBtnSection[data-v-6062cc30]{padding:calc(var(--spacing)/4)}",""]),e["default"]=r},58613:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._mediasModule[data-v-39ae7987]{--number_of_medias:1;position:relative}._dropzone[data-v-39ae7987]{position:absolute;width:100%;height:100%}._dropzone[data-v-39ae7987]  ._dropNotice{transform:rotate(-90deg)}sl-icon-button[data-v-39ae7987]::part(base){font-size:1.5em;color:var(--c-bleuvert)}",""]),e["default"]=r},89425:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._moduleCreator[data-v-5fe0d5e8]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;pointer-events:none;color:var(--c-bleuvert);border-radius:1rem;--icon-size:1.2rem}._moduleCreator>*[data-v-5fe0d5e8]{pointer-events:auto}._typePicker[data-v-5fe0d5e8]{display:flex;flex-flow:row wrap;justify-content:flex-start;gap:calc(var(--spacing)/4)}._dropNotice[data-v-5fe0d5e8]{pointer-events:none}sl-icon-button[data-v-5fe0d5e8]::part(base){font-size:1.5em;color:var(--c-bleuvert)}._showModuleSelector[data-v-5fe0d5e8]{transition:all .4s cubic-bezier(.19,1,.22,1)}",""]),e["default"]=r},80934:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._mediaGrid[data-v-4a608771]{position:relative;width:100%}._mediaGrid.is--multipleMedias[data-v-4a608771]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/4);transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid>._mediaGrid--item[data-v-4a608771]{position:relative;transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid.is--multipleMedias>._mediaGrid--item[data-v-4a608771]{aspect-ratio:1/1;overflow:hidden;background:var(--c-gris_clair);flex:1 1 calc(100%/var(--number_of_medias))}._mediaGrid.is--multipleMedias[data-v-4a608771]  ._mediaContent{width:100%;height:100%}._mediaGrid.is--multipleMedias[data-v-4a608771]  ._mediaContent img{width:100%;height:100%}._mediaGrid.is--multipleMedias[data-v-4a608771]  ._mediaContent ._mediaContent--iframe,._mediaGrid.is--multipleMedias[data-v-4a608771]  ._mediaContent ._mediaContent--image,._mediaGrid.is--multipleMedias[data-v-4a608771]  ._mediaContent .plyr--video{position:absolute;height:100%;width:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover)}._mediaPickerTile[data-v-4a608771]{position:absolute;top:0;left:100%;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-4a608771]{pointer-events:auto}._btnRow[data-v-4a608771]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);pointer-events:none}._btnRow button[data-v-4a608771]{pointer-events:auto;border-radius:4px;color:#fff;background:var(--c-noir);padding:2px}",""]),e["default"]=r},10498:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._publicationModule[data-v-439afc1b]{position:relative;padding:0 calc(var(--spacing)*2)}._publicationModule.is--shape ._content[data-v-439afc1b],._publicationModule.is--shape svg[data-v-439afc1b]{overflow:visible;stroke-linejoin:arcs;stroke-linecap:round}._publicationModule.is--shape svg[data-v-439afc1b]{width:100%;height:100%}._publicationModule ._content[data-v-439afc1b]{width:calc(var(--module-width)*1%);margin-left:calc(var(--module-margin-left)*1%);transition:all .4s cubic-bezier(.19,1,.22,1)}._sideOptions[data-v-439afc1b]{position:absolute;top:0;height:100%;right:100%;background:var(--active-color);background:rgba(0,0,0,.05);pointer-events:none;display:flex;flex-flow:column nowrap;justify-content:space-between;--side-width:24px;width:var(--side-width);border-radius:calc(var(--side-width)/2)}._sideOptions.is--pageByPage[data-v-439afc1b]{display:none}._sideOptions>*[data-v-439afc1b]{pointer-events:auto}._sideBtns[data-v-439afc1b]{display:block;width:var(--side-width);height:var(--side-width);padding:0;border-radius:calc(var(--side-width)/2);background:transparent}._sideBtns[data-v-439afc1b]:focus,._sideBtns[data-v-439afc1b]:hover{background:rgba(0,0,0,.1)}._advanced_menu[data-v-439afc1b]{position:absolute;z-index:1000;left:100%;top:50%;transform:translateY(-50%);background:#fff;background:var(--active-color);margin:2px;border-radius:4px;flex-flow:column nowrap}._advanced_menu[data-v-439afc1b],._menu[data-v-439afc1b]{padding:calc(var(--spacing)/2);display:flex;gap:calc(var(--spacing)/4)}._menu[data-v-439afc1b]{width:100%;justify-content:flex-end}._menu.is--overlaid[data-v-439afc1b]{position:absolute;top:0;right:0;z-index:10}._options[data-v-439afc1b]{position:relative}._buttonRow[data-v-439afc1b]{display:flex;gap:calc(var(--spacing)/4)}",""]),e["default"]=r},28419:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,'._moveableItem.is--locked[data-v-163601e7]{pointer-events:none}._moveableItem.is--editable[data-v-163601e7]:not(.is--beingEdited):not(.is--locked){cursor:pointer;cursor:grab}._moveableItem.is--editable[data-v-163601e7]:hover:not(.is--locked){outline:2px dotted var(--c-noir)}._moveableItem.is--beingEdited[data-v-163601e7]{outline:2px dotted var(--c-orange)!important}._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-163601e7]{border:none;outline:2px dotted var(--c-orange)!important}._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-163601e7]  .bl,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-163601e7]  .br,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-163601e7]  .tl,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-163601e7]  .tr{background:var(--c-orange)}._moveableItem.yoyoo-ddr:not(.is--beingEdited).ddr-dragging[data-v-163601e7]{cursor:-moz-grabbing;cursor:dragging}._moveableItem--content[data-v-163601e7]{height:100%;padding:0;transition:all .2s cubic-bezier(.19,1,.22,1)}._moveableItem--content[data-v-163601e7]  ._content{height:100%;overflow:hidden}._moveableItem--content[data-v-163601e7]  ._content ._mediasModule{height:100%}._moveableItem--content[data-v-163601e7]  ._content ._mediaGrid,._moveableItem--content[data-v-163601e7]  ._content ._mediaGrid--item{height:100%}._moveableItem--content[data-v-163601e7]  ._content ._mediaGrid ._mediaContent{height:100%}._moveableItem--content[data-v-163601e7]  ._content ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);-o-object-position:center;object-position:center}._moveableItem--content[data-v-163601e7]  ._content .plyr__poster{background-size:var(--object-fit,cover);background-position:50%;background-color:transparent}._moveableItem--content[data-v-163601e7]  ._content .plyr--video,._moveableItem--content[data-v-163601e7]  ._content .plyr__video-wrapper{background-color:transparent}._moveableItem--content[data-v-163601e7]  ._content .plyr__video-wrapper video{-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);-o-object-position:center;object-position:center}._moveableItem--content[data-v-163601e7]  ._content .plyr--video{min-width:50px}._moveableItem[data-v-163601e7]  ._publicationModule.is--mosaic ._mediaContent--image,._moveableItem[data-v-163601e7]  ._publicationModule.is--mosaic ._mediaContent[data-filetype=audio],._moveableItem[data-v-163601e7]  ._publicationModule.is--mosaic ._mediaContent[data-filetype=pdf],._moveableItem[data-v-163601e7]  ._publicationModule.is--mosaic ._mediaContent[data-filetype=url],._moveableItem[data-v-163601e7]  ._publicationModule.is--mosaic ._mediaContent[data-filetype=video],._moveableItem[data-v-163601e7]  ._publicationModule.is--mosaic .ql-editor{padding:var(--set-margins);opacity:var(--set-opacity);aspect-ratio:unset;border-radius:var(--set-borderRadius);overflow:hidden;background:var(--set-backgroundColor);border-color:var(--set-outlineColor);border-width:var(--set-outlineWidth);border-style:solid}._moveableItem[data-v-163601e7]  ._publicationModule.is--shape{padding:var(--set-margins);opacity:var(--set-opacity);fill:var(--set-backgroundColor);stroke:var(--set-outlineColor);stroke-width:var(--set-outlineWidth)}._moveableItem.is--editable:not(.is--beingEdited):not(.is--locked) ._activator[data-v-163601e7]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--c-orange_clair);opacity:0;transition:opacity .4s cubic-bezier(.19,1,.22,1)}._moveableItem.is--editable:not(.is--beingEdited):not(.is--locked) ._activator[data-v-163601e7]:hover:after{opacity:.15}._coords[data-v-163601e7]{bottom:0;background:#fff;margin:calc(var(--spacing)*1)}._coords[data-v-163601e7],._unlockBtn[data-v-163601e7]{position:absolute;left:0}._unlockBtn[data-v-163601e7]{top:0;width:100%;pointer-events:none;padding:calc(var(--spacing)/2);display:flex;justify-content:flex-start}._unlockBtn>*[data-v-163601e7]{pointer-events:auto}',""]),e["default"]=r},35758:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._page[data-v-f35ba7c8],._spread[data-v-f35ba7c8]{page-break-inside:avoid;-webkit-region-break-inside:avoid}._page[data-v-f35ba7c8]:not(:last-child),._spread[data-v-f35ba7c8]:not(:last-child){page-break-after:always}._page[data-v-f35ba7c8]  ._singlePage>._pagecontainer,._spread[data-v-f35ba7c8]  ._singlePage>._pagecontainer{margin:0}._pageSlides.is--serversidepreview ._page[data-v-f35ba7c8]  ._singlePage ._pagecontent,._pageSlides.is--serversidepreview ._spread[data-v-f35ba7c8]  ._singlePage ._pagecontent{box-shadow:none}@media print{._page[data-v-f35ba7c8]  ._singlePage ._pagecontent,._spread[data-v-f35ba7c8]  ._singlePage ._pagecontent{box-shadow:none}}._spread[data-v-f35ba7c8]{display:flex;flex-flow:row nowrap;width:-moz-max-content;width:max-content}._spread>*[data-v-f35ba7c8]{position:relative;flex:1 1 50%}._noPage[data-v-f35ba7c8]{width:calc(var(--page-width));height:calc(var(--page-height))}._pageSlides.is--serversidepreview ._noPage[data-v-f35ba7c8]{display:none}._pageSlides.is--slides ._pages[data-v-f35ba7c8]{display:flex;justify-content:center;flex-flow:column nowrap;align-items:center;gap:calc(var(--spacing)*2);padding:calc(var(--spacing)*2);height:100vh;transform:scale(var(--page-zoom));transition:transform .25s cubic-bezier(.19,1,.22,1)}._pageSlides.is--slides ._page[data-v-f35ba7c8]{position:absolute}._navBtns[data-v-f35ba7c8]{position:fixed;bottom:0;right:0;margin:calc(var(--spacing)/1) calc(var(--spacing)*2);padding:calc(var(--spacing)/4) calc(var(--spacing)/2);display:flex;align-items:center;justify-content:space-between;gap:calc(var(--spacing)/2);border-radius:8px;color:#000;background-color:#fff;transition:all .5s cubic-bezier(.19,1,.22,1)}._navBtns[data-v-f35ba7c8]:hover{background-color:#fff;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}._pageInd[data-v-f35ba7c8]{display:flex;flex-flow:row nowrap;min-width:5ch;text-align:center;align-items:center}._pageInd select[data-v-f35ba7c8]{background-color:hsla(0,0%,80%,.5);width:6ch}",""]),e["default"]=r},15614:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"@media print{body{width:var(--page-width);height:calc(var(--page-height))}}@page{size:var(--page-width) var(--page-height)}",""]),e["default"]=r},25253:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._pagecontainer[data-v-799340e8]{width:calc(var(--page-width));height:calc(var(--page-height));padding:0;transform:scale(var(--zoom));transform-origin:0 0;transition:all .4s cubic-bezier(.19,1,.22,1)}.is--preview ._pagecontainer[data-v-799340e8]{width:calc(var(--page-width)*var(--zoom));height:calc(var(--page-height)*var(--zoom));transform-origin:left top;margin:0 auto;padding:0}._pagecontent[data-v-799340e8]{display:block;position:relative;z-index:0;margin:0;width:var(--page-width,100mm);height:var(--page-height,100mm);background:var(--page-color,#fff);overflow:hidden;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);transition:background .4s cubic-bezier(.19,1,.22,1)}._singlePage.is--editable ._pagecontent[data-v-799340e8]{overflow:visible}._grid[data-v-799340e8]{position:absolute;top:0;width:100%;height:100%;pointer-events:none;opacity:.6;z-index:-10000;--c-gridlines:#aaa;--c-gridfiveslines:#111}._margins[data-v-799340e8],._pageBorders[data-v-799340e8]{position:absolute;top:0;width:100%;height:100%;pointer-events:none;stroke-width:2px}._margins[data-v-799340e8]{stroke:#cb68fd}._pagination[data-v-799340e8]{position:absolute;right:var(--pagination-right);left:var(--pagination-left);bottom:var(--pagination-bottom);font-weight:500;line-height:.5;font-size:var(--sl-font-size-large)}",""]),e["default"]=r},89540:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._section[data-v-8af5b45e]{margin:calc(var(--spacing)*4) 0;page-break-inside:avoid;page-break-after:always}@media print{._section[data-v-8af5b45e]{margin:0}}",""]),e["default"]=r},21555:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._sectionsList[data-v-2ad91f66]{position:relative}._navBtns[data-v-2ad91f66]{justify-content:center;text-decoration:underline;margin-bottom:calc(var(--spacing)*4)}._navBtns[data-v-2ad91f66],._navBtns--content[data-v-2ad91f66]{display:flex;align-items:center}._navBtns--content[data-v-2ad91f66]{gap:calc(var(--spacing)/1)}._navbtn[data-v-2ad91f66]{cursor:pointer;display:flex;align-items:center;gap:calc(var(--spacing)/4);background:#fff;padding:calc(var(--spacing)/4) calc(var(--spacing)/2);border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,.2)}._navbtn[data-v-2ad91f66]:focus-visible,._navbtn[data-v-2ad91f66]:hover{background:var(--c-gris)}",""]),e["default"]=r},44146:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._sectionsSummary[data-v-19ef7c4e]{max-width:60ch;width:100%;margin:calc(var(--spacing)/1) auto}._list[data-v-19ef7c4e]{color:#000}",""]),e["default"]=r},63905:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._summaryItem{z-index:10000;display:flex;flex-flow:row wrap;align-items:center;padding:calc(var(--spacing)/4);gap:calc(var(--spacing)/4)}._summaryItem ._clickZone{text-decoration:underline;cursor:pointer}._summaryItem ._clickZone:focus-visible,._summaryItem ._clickZone:hover{background:var(--c-gris_clair)}._summaryItem ._title{padding:calc(var(--spacing)/8) calc(var(--spacing)/4);border-radius:2px}._summaryItem.is--active ._title{background:var(--c-bleumarine);color:#fff}",""]),e["default"]=r},82745:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._singleSection[data-v-1b77901e]{position:relative;display:flex;justify-content:center;flex-flow:column nowrap;align-items:center;margin:0 auto calc(var(--spacing)*4)}._storyContainer[data-v-1b77901e]{width:100%}._storyContent[data-v-1b77901e]{width:100%;background:#fff;max-width:86ch;padding:calc(var(--spacing)*1) 0;margin:0 auto;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,.2);transition:all .4s cubic-bezier(.19,1,.22,1)}._mediaPublication[data-v-1b77901e]{position:relative;margin-bottom:0}._mediaPublication[data-v-1b77901e]  ._content{min-height:72px}._mediaPublication[data-v-1b77901e]  ._floatingEditBtn[data-action=disable]{display:none}._spacer[data-v-1b77901e]{min-height:3rem;display:flex;align-items:center;justify-content:center;padding:calc(var(--spacing)/4) 0}._topbar[data-v-1b77901e]{display:flex;flex-flow:row wrap;align-items:flex-start;justify-content:space-between;margin:0 calc(var(--spacing)/1) calc(var(--spacing)*1.5);padding-bottom:calc(var(--spacing)/1);border-bottom:2px solid var(--c-gris)}",""]),e["default"]=r},873:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,"._storyTemplate[data-v-759e3c2e]{display:flex;justify-content:center;flex-flow:column nowrap;align-items:center;margin:0 auto calc(var(--spacing)*4)}._settings[data-v-759e3c2e]{position:relative;top:0;right:0;display:flex;justify-content:flex-end;background:#fff;padding:calc(var(--spacing)/8) calc(var(--spacing)/4);margin:calc(var(--spacing)/2) auto 0;max-width:240px}._storyContainer[data-v-759e3c2e]{width:100%}._storyContent[data-v-759e3c2e]{width:100%;background:#fff;max-width:800px;padding:calc(var(--spacing)*1) 0;margin:calc(var(--spacing)/2) auto;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,.2);transition:all .4s cubic-bezier(.19,1,.22,1)}._mediaPublication[data-v-759e3c2e]{position:relative;margin-bottom:0}._mediaPublication[data-v-759e3c2e]  ._content{min-height:72px}._mediaPublication[data-v-759e3c2e]  ._floatingEditBtn[data-action=disable]{display:none}._spacer[data-v-759e3c2e]{min-height:3rem;display:flex;align-items:center;justify-content:center;padding:calc(var(--spacing)/4) 0}",""]),e["default"]=r},76766:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,".alertify-logs{display:none!important}@media print{body,html{background:#fff!important}}._storyTemplate{padding:calc(var(--spacing)/1)}._pubTopbar{margin:0 auto;max-width:86ch}@media print{._pubTopbar,._sectionsSummary{display:none}._storyContent{box-shadow:none!important}}",""]),e["default"]=r},73589:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),o=i(23645),n=i.n(o),r=n()(s());r.push([t.id,".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}",""]),e["default"]=r},55656:function(t,e,i){i(21703),i(57658),i(74916),function(t,i){i(e)}(0,(function(t){"use strict";var e={inject:["manager"],props:{index:{type:Number,required:!0},collection:{type:[String,Number],default:"default"},disabled:{type:Boolean,default:!1}},mounted:function(){var t=this.$props,e=t.collection,i=t.disabled,a=t.index;i||this.setDraggable(e,a)},watch:{index:function(t){this.$el&&this.$el.sortableInfo&&(this.$el.sortableInfo.index=t)},disabled:function(t){t?this.removeDraggable(this.collection):this.setDraggable(this.collection,this.index)},collection:function(t,e){this.removeDraggable(e),this.setDraggable(t,this.index)}},beforeDestroy:function(){var t=this.collection,e=this.disabled;e||this.removeDraggable(t)},methods:{setDraggable:function(t,e){var i=this.$el;i.sortableInfo={index:e,collection:t,manager:this.manager},this.ref={node:i},this.manager.add(t,this.ref)},removeDraggable:function(t){this.manager.remove(t,this.ref)}}},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),s=function(){function t(t,e){var i=[],a=!0,s=!1,o=void 0;try{for(var n,r=t[Symbol.iterator]();!(a=(n=r.next()).done);a=!0)if(i.push(n.value),e&&i.length===e)break}catch(l){s=!0,o=l}finally{try{!a&&r["return"]&&r["return"]()}finally{if(s)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},n=function(){function t(){i(this,t),this.refs={}}return a(t,[{key:"add",value:function(t,e){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(e)}},{key:"remove",value:function(t,e){var i=this.getIndex(t,e);-1!==i&&this.refs[t].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find((function(e){var i=e.node;return i.sortableInfo.index==t.active.index}))}},{key:"getIndex",value:function(t,e){return this.refs[t].indexOf(e)}},{key:"getOrderedRefs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[t].sort((function(t,e){return t.node.sortableInfo.index-e.node.sortableInfo.index}))}}]),t}();function r(t,e,i){var a=t.slice(0);if(i>=a.length){var s=i-a.length;while(1+s--)a.push(void 0)}return a.splice(i,0,a.splice(e,1)[0]),a}var l={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},d=function(){if("undefined"===typeof window||"undefined"===typeof document)return"";var t=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];switch(e){case"ms":return"ms";default:return e&&e.length?e[0].toUpperCase()+e.substr(1):""}}();function c(t,e){while(t){if(e(t))return t;t=t.parentNode}}function u(t,e,i){return i<t?t:i>e?e:i}function p(t){return"px"===t.substr(-2)?parseFloat(t):0}function h(t){var e=window.getComputedStyle(t);return{top:p(e.marginTop),right:p(e.marginRight),bottom:p(e.marginBottom),left:p(e.marginLeft)}}var _={data:function(){return{sorting:!1,sortingIndex:null,manager:new n,events:{start:this.handleStart,move:this.handleMove,end:this.handleEnd}}},props:{value:{type:Array,required:!0},axis:{type:String,default:"y"},distance:{type:Number,default:0},pressDelay:{type:Number,default:0},pressThreshold:{type:Number,default:5},useDragHandle:{type:Boolean,default:!1},useWindowAsScrollContainer:{type:Boolean,default:!1},hideSortableGhost:{type:Boolean,default:!0},lockToContainerEdges:{type:Boolean,default:!1},lockOffset:{type:[String,Number,Array],default:"50%"},transitionDuration:{type:Number,default:300},appendTo:{type:String,default:"body"},draggedSettlingDuration:{type:Number,default:null},lockAxis:String,helperClass:String,contentWindow:Object,shouldCancelStart:{type:Function,default:function(t){var e=["input","textarea","select","option","button"];return-1!==e.indexOf(t.target.tagName.toLowerCase())}},getHelperDimensions:{type:Function,default:function(t){var e=t.node;return{width:e.offsetWidth,height:e.offsetHeight}}}},provide:function(){return{manager:this.manager}},mounted:function(){var t=this;this.container=this.$el,this.document=this.container.ownerDocument||document,this._window=this.contentWindow||window,this.scrollContainer=this.useWindowAsScrollContainer?this.document.body:this.container;var e=function(e){t.events.hasOwnProperty(e)&&l[e].forEach((function(i){return t.container.addEventListener(i,t.events[e],{passive:!0})}))};for(var i in this.events)e(i)},beforeDestroy:function(){var t=this,e=function(e){t.events.hasOwnProperty(e)&&l[e].forEach((function(i){return t.container.removeEventListener(i,t.events[e])}))};for(var i in this.events)e(i)},methods:{handleStart:function(t){var e=this,i=this.$props,a=i.distance,s=i.shouldCancelStart;if(2===t.button||s(t))return!1;this._touched=!0,this._pos=this.getOffset(t);var o=c(t.target,(function(t){return null!=t.sortableInfo}));if(o&&o.sortableInfo&&this.nodeIsChild(o)&&!this.sorting){var n=this.$props.useDragHandle,r=o.sortableInfo,l=r.index,d=r.collection;if(n&&!c(t.target,(function(t){return null!=t.sortableHandle})))return;this.manager.active={index:l,collection:d},"a"===t.target.tagName.toLowerCase()&&t.preventDefault(),a||(0===this.$props.pressDelay?this.handlePress(t):this.pressTimer=setTimeout((function(){return e.handlePress(t)}),this.$props.pressDelay))}},nodeIsChild:function(t){return t.sortableInfo.manager===this.manager},handleMove:function(t){var e=this.$props,i=e.distance,a=e.pressThreshold;if(!this.sorting&&this._touched){var s=this.getOffset(t);this._delta={x:this._pos.x-s.x,y:this._pos.y-s.y};var o=Math.abs(this._delta.x)+Math.abs(this._delta.y);i||a&&!(a&&o>=a)?i&&o>=i&&this.manager.isActive()&&this.handlePress(t):(clearTimeout(this.cancelTimer),this.cancelTimer=setTimeout(this.cancel,0))}},handleEnd:function(){var t=this.$props.distance;this._touched=!1,t||this.cancel()},cancel:function(){this.sorting||(clearTimeout(this.pressTimer),this.manager.active=null)},handlePress:function(t){var e=this;t.stopPropagation();var i=this.manager.getActive();if(i){var a=this.$props,s=a.axis,n=a.getHelperDimensions,r=a.helperClass,d=a.hideSortableGhost,c=a.useWindowAsScrollContainer,u=a.appendTo,p=i.node,_=i.collection,m=p.sortableInfo.index,f=h(p),g=this.container.getBoundingClientRect(),b=n({index:m,node:p,collection:_});this.node=p,this.margin=f,this.width=b.width,this.height=b.height,this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this.boundingClientRect=p.getBoundingClientRect(),this.containerBoundingRect=g,this.index=m,this.newIndex=m,this._axis={x:s.indexOf("x")>=0,y:s.indexOf("y")>=0},this.offsetEdge=this.getEdgeOffset(p),this.initialOffset=this.getOffset(t),this.initialScroll={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var v,y=p.querySelectorAll("input, textarea, select"),w=p.cloneNode(!0),x=[].concat(o(w.querySelectorAll("input, textarea, select")));if(x.forEach((function(t,e){"file"!==t.type&&y[e]&&(t.value=y[e].value)})),this.helper=this.document.querySelector(u).appendChild(w),this.helper.style.position="fixed",this.helper.style.top=this.boundingClientRect.top-f.top+"px",this.helper.style.left=this.boundingClientRect.left-f.left+"px",this.helper.style.width=this.width+"px",this.helper.style.height=this.height+"px",this.helper.style.boxSizing="border-box",this.helper.style.pointerEvents="none",d&&(this.sortableGhost=p,p.style.visibility="hidden",p.style.opacity=0),this.translate={},this.minTranslate={},this.maxTranslate={},this._axis.x&&(this.minTranslate.x=(c?0:g.left)-this.boundingClientRect.left-this.width/2,this.maxTranslate.x=(c?this._window.innerWidth:g.left+g.width)-this.boundingClientRect.left-this.width/2),this._axis.y&&(this.minTranslate.y=(c?0:g.top)-this.boundingClientRect.top-this.height/2,this.maxTranslate.y=(c?this._window.innerHeight:g.top+g.height)-this.boundingClientRect.top-this.height/2),r)(v=this.helper.classList).add.apply(v,o(r.split(" ")));this.listenerNode=t.touches?p:this._window,l.move.forEach((function(t){return e.listenerNode.addEventListener(t,e.handleSortMove,!1)})),l.end.forEach((function(t){return e.listenerNode.addEventListener(t,e.handleSortEnd,!1)})),this.sorting=!0,this.sortingIndex=m,this.$emit("sort-start",{event:t,node:p,index:m,collection:_})}},handleSortMove:function(t){t.preventDefault(),this.updatePosition(t),this.animateNodes(),this.autoscroll(),this.$emit("sort-move",{event:t})},handleSortEnd:function(t){var e=this,i=this.manager.active.collection;this.listenerNode&&(l.move.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortMove)})),l.end.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortEnd)})));var a=this.manager.refs[i],s=function(){e.helper.parentNode.removeChild(e.helper),e.hideSortableGhost&&e.sortableGhost&&(e.sortableGhost.style.visibility="",e.sortableGhost.style.opacity="");for(var s=0,o=a.length;s<o;s++){var n=a[s],l=n.node;n.edgeOffset=null,l.style[d+"Transform"]="",l.style[d+"TransitionDuration"]=""}clearInterval(e.autoscrollInterval),e.autoscrollInterval=null,e.manager.active=null,e.sorting=!1,e.sortingIndex=null,e.$emit("sort-end",{event:t,oldIndex:e.index,newIndex:e.newIndex,collection:i}),e.$emit("input",r(e.value,e.index,e.newIndex)),e._touched=!1};this.$props.transitionDuration||this.$props.draggedSettlingDuration?this.transitionHelperIntoPlace(a).then((function(){return s()})):s()},transitionHelperIntoPlace:function(t){var e=this;if(0===this.$props.draggedSettlingDuration||0===t.length)return Promise.resolve();var i={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},a=t[this.index].node,s=t[this.newIndex].node,o=-i.left;this.translate&&this.translate.x>0?o+=s.offsetLeft+s.offsetWidth-(a.offsetLeft+a.offsetWidth):o+=s.offsetLeft-a.offsetLeft;var n=-i.top;this.translate&&this.translate.y>0?n+=s.offsetTop+s.offsetHeight-(a.offsetTop+a.offsetHeight):n+=s.offsetTop-a.offsetTop;var r=null!==this.$props.draggedSettlingDuration?this.$props.draggedSettlingDuration:this.$props.transitionDuration;return this.helper.style[d+"Transform"]="translate3d("+o+"px,"+n+"px, 0)",this.helper.style[d+"TransitionDuration"]=r+"ms",new Promise((function(t){var i=function(i){i&&"transform"!==i.propertyName||(clearTimeout(a),e.helper.style[d+"Transform"]="",e.helper.style[d+"TransitionDuration"]="",t())},a=setTimeout(i,r+10);e.helper.addEventListener("transitionend",i,!1)}))},getEdgeOffset:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(t){var i={top:e.top+t.offsetTop,left:e.left+t.offsetLeft};return t.parentNode!==this.container?this.getEdgeOffset(t.parentNode,i):i}},getOffset:function(t){var e=t.touches?t.touches[0]:t,i=e.pageX,a=e.pageY;return{x:i,y:a}},getLockPixelOffsets:function(){var t=this.$props.lockOffset;if(Array.isArray(this.lockOffset)||(t=[t,t]),2!==t.length)throw new Error("lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given "+t);var e=t,i=s(e,2),a=i[0],o=i[1];return[this.getLockPixelOffset(a),this.getLockPixelOffset(o)]},getLockPixelOffset:function(t){var e=t,i=t,a="px";if("string"===typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);if(null===s)throw new Error('lockOffset value should be a number or a string of a number followed by "px" or "%". Given '+t);e=i=parseFloat(t),a=s[1]}if(!isFinite(e)||!isFinite(i))throw new Error("lockOffset value should be a finite. Given "+t);return"%"===a&&(e=e*this.width/100,i=i*this.height/100),{x:e,y:i}},updatePosition:function(t){var e=this.$props,i=e.lockAxis,a=e.lockToContainerEdges,o=this.getOffset(t),n={x:o.x-this.initialOffset.x,y:o.y-this.initialOffset.y};if(n.y-=window.pageYOffset-this.initialWindowScroll.top,n.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=n,a){var r=this.getLockPixelOffsets(),l=s(r,2),c=l[0],p=l[1],h={x:this.width/2-c.x,y:this.height/2-c.y},_={x:this.width/2-p.x,y:this.height/2-p.y};n.x=u(this.minTranslate.x+h.x,this.maxTranslate.x-_.x,n.x),n.y=u(this.minTranslate.y+h.y,this.maxTranslate.y-_.y,n.y)}"x"===i?n.y=0:"y"===i&&(n.x=0),this.helper.style[d+"Transform"]="translate3d("+n.x+"px,"+n.y+"px, 0)"},animateNodes:function(){var t=this.$props,e=t.transitionDuration,i=t.hideSortableGhost,a=this.manager.getOrderedRefs(),s={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},o={left:this.offsetEdge.left+this.translate.x+s.left,top:this.offsetEdge.top+this.translate.y+s.top},n={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(var r=0,l=a.length;r<l;r++){var c=a[r].node,u=c.sortableInfo.index,p=c.offsetWidth,h=c.offsetHeight,_={width:this.width>p?p/2:this.width/2,height:this.height>h?h/2:this.height/2},m={x:0,y:0},f=a[r].edgeOffset;f||(a[r].edgeOffset=f=this.getEdgeOffset(c));var g=r<a.length-1&&a[r+1],b=r>0&&a[r-1];g&&!g.edgeOffset&&(g.edgeOffset=this.getEdgeOffset(g.node)),u!==this.index?(e&&(c.style[d+"TransitionDuration"]=e+"ms"),this._axis.x?this._axis.y?u<this.index&&(o.left+n.left-_.width<=f.left&&o.top+n.top<=f.top+_.height||o.top+n.top+_.height<=f.top)?(m.x=this.width+this.marginOffset.x,f.left+m.x>this.containerBoundingRect.width-_.width&&(m.x=g.edgeOffset.left-f.left,m.y=g.edgeOffset.top-f.top),null===this.newIndex&&(this.newIndex=u)):u>this.index&&(o.left+n.left+_.width>=f.left&&o.top+n.top+_.height>=f.top||o.top+n.top+_.height>=f.top+h)&&(m.x=-(this.width+this.marginOffset.x),f.left+m.x<this.containerBoundingRect.left+_.width&&(m.x=b.edgeOffset.left-f.left,m.y=b.edgeOffset.top-f.top),this.newIndex=u):u>this.index&&o.left+n.left+_.width>=f.left?(m.x=-(this.width+this.marginOffset.x),this.newIndex=u):u<this.index&&o.left+n.left<=f.left+_.width&&(m.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=u)):this._axis.y&&(u>this.index&&o.top+n.top+_.height>=f.top?(m.y=-(this.height+this.marginOffset.y),this.newIndex=u):u<this.index&&o.top+n.top<=f.top+_.height&&(m.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=u))),c.style[d+"Transform"]="translate3d("+m.x+"px,"+m.y+"px,0)"):i&&(this.sortableGhost=c,c.style.visibility="hidden",c.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)},autoscroll:function(){var t=this,e=this.translate,i={x:0,y:0},a={x:1,y:1},s={x:10,y:10};e.y>=this.maxTranslate.y-this.height/2?(i.y=1,a.y=s.y*Math.abs((this.maxTranslate.y-this.height/2-e.y)/this.height)):e.x>=this.maxTranslate.x-this.width/2?(i.x=1,a.x=s.x*Math.abs((this.maxTranslate.x-this.width/2-e.x)/this.width)):e.y<=this.minTranslate.y+this.height/2?(i.y=-1,a.y=s.y*Math.abs((e.y-this.height/2-this.minTranslate.y)/this.height)):e.x<=this.minTranslate.x+this.width/2&&(i.x=-1,a.x=s.x*Math.abs((e.x-this.width/2-this.minTranslate.x)/this.width)),this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null,this.isAutoScrolling=!1),0===i.x&&0===i.y||(this.autoscrollInterval=setInterval((function(){t.isAutoScrolling=!0;var e={left:1*a.x*i.x,top:1*a.y*i.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()}),5))}}},m={bind:function(t){t.sortableHandle=!0}};function f(t,e){return{name:t,mixins:[e],props:{tag:{type:String,default:"div"}},render:function(t){return t(this.tag,this.$slots.default)}}}var g=f("slick-list",_),b=f("slick-item",e);t.ElementMixin=e,t.ContainerMixin=_,t.HandleDirective=m,t.SlickList=g,t.SlickItem=b,t.arrayMove=r,Object.defineProperty(t,"__esModule",{value:!0})}))},13382:function(t,e,i){var a=i(71533);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("9124acb2",a,!0,{sourceMap:!1,shadowMode:!1})},70586:function(t,e,i){var a=i(53024);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("652c5b6c",a,!0,{sourceMap:!1,shadowMode:!1})},32099:function(t,e,i){var a=i(12346);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("b5e9331c",a,!0,{sourceMap:!1,shadowMode:!1})},66608:function(t,e,i){var a=i(20876);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("409840a6",a,!0,{sourceMap:!1,shadowMode:!1})},71624:function(t,e,i){var a=i(58613);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("57007799",a,!0,{sourceMap:!1,shadowMode:!1})},65006:function(t,e,i){var a=i(89425);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("289fd354",a,!0,{sourceMap:!1,shadowMode:!1})},50389:function(t,e,i){var a=i(80934);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("e894ced4",a,!0,{sourceMap:!1,shadowMode:!1})},78011:function(t,e,i){var a=i(10498);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("41cb9b11",a,!0,{sourceMap:!1,shadowMode:!1})},43865:function(t,e,i){var a=i(28419);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("12f39b5a",a,!0,{sourceMap:!1,shadowMode:!1})},72008:function(t,e,i){var a=i(35758);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("989d6622",a,!0,{sourceMap:!1,shadowMode:!1})},5769:function(t,e,i){var a=i(15614);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("60259cc4",a,!0,{sourceMap:!1,shadowMode:!1})},52627:function(t,e,i){var a=i(25253);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("19bfc455",a,!0,{sourceMap:!1,shadowMode:!1})},22158:function(t,e,i){var a=i(89540);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("0f37ab7a",a,!0,{sourceMap:!1,shadowMode:!1})},46777:function(t,e,i){var a=i(21555);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("06efd739",a,!0,{sourceMap:!1,shadowMode:!1})},51807:function(t,e,i){var a=i(44146);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("b1fcb424",a,!0,{sourceMap:!1,shadowMode:!1})},21148:function(t,e,i){var a=i(63905);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("011eeee4",a,!0,{sourceMap:!1,shadowMode:!1})},29724:function(t,e,i){var a=i(82745);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("c1c4f83c",a,!0,{sourceMap:!1,shadowMode:!1})},84770:function(t,e,i){var a=i(873);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("635719d9",a,!0,{sourceMap:!1,shadowMode:!1})},70022:function(t,e,i){var a=i(76766);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("5ea50c42",a,!0,{sourceMap:!1,shadowMode:!1})},52046:function(t,e,i){var a=i(73589);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("7060f4ae",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=PublicationView.js.map