(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[359],{18359:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return x}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_eventsSection"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.opened_event?a("OpenedEvent",{key:"event",attrs:{event_slug:t.opened_event}}):a("EventsList",{key:"list"})],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_eventsList"},[a("div",{staticClass:"u-sameRow u-spacingBottom"},[a("DLabel",{attrs:{str:t.$t("events")}}),t.is_instance_admin||t.is_instance_contributor?a("button",{staticClass:"u-button u-button_orange u-button_small",attrs:{type:"button"},on:{click:function(e){t.show_create_modal=!0}}},[a("svg",{staticStyle:{"enable-background":"new 0 0 168 168"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 168 168","xml:space":"preserve"}},[a("path",{staticStyle:{fill:"#ffbe32"},attrs:{d:"M24.6,24.4c-32.8,32.8-32.8,86.1,0,119c32.8,32.8,85.9,32.8,118.7,0c32.8-32.8,32.8-85.9,0-118.7\n\t\tC110.5-8.2,57.5-8.2,24.6,24.4z"}}),a("polygon",{staticStyle:{fill:"#ffffff"},attrs:{points:"132.3,73.4 132.3,94.4 94.6,94.4 94.6,132.1 73.6,132.1 73.6,94.4 35.9,94.4 35.9,73.4 \n\t\t73.6,73.4 73.6,35.7 94.6,35.7 94.6,73.4 \t\t"}})]),t._v(" Â  "+t._s(t.$t("create"))+" ")]):t._e(),t.show_create_modal?a("CreateFolder",{attrs:{modal_name:t.$t("create_an_event"),path:"events"},on:{close:function(e){t.show_create_modal=!1},openNew:t.openNewEvent}}):t._e()],1),a("div",{staticClass:"_list"},t._l(t.sorted_events,(function(e){return a("div",{key:e.$path,staticClass:"_list--item"},[a("CoverField",{staticClass:"_cover",attrs:{context:"preview",cover:e.$cover,path:e.$path,can_edit:!1}}),a("div",{},[a("h3",[t._v(" "+t._s(e.title)+" ")]),a("div",{staticClass:"_openEvent"},[a("router-link",{staticClass:"u-buttonLink",attrs:{to:{path:t.createURLFromPath(e.$path)}}},[a("div",{staticClass:"_clickZone"})])],1)])],1)})),0)])},o=[],r=(a(57658),{props:{},components:{},data(){return{events:void 0,path:"events",fetch_events_error:void 0,show_create_modal:!1}},created(){},async mounted(){this.events=await this.$api.getFolders({path:this.path}).catch((t=>{this.fetch_events_error=t.response})),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{sorted_events(){return this.events?this.events.slice().filter((t=>this.canLoggedinSeeFolder({folder:t}))).sort(((t,e)=>+new Date(e.$date_created)-+new Date(t.$date_created))):[]}},methods:{openNewEvent(t){this.show_create_modal=!1;const e=this.createURLFromPath(this.path+"/"+t);this.$router.push(e)}}}),l=r,c=(a(24386),a(1001)),d=(0,c.Z)(l,i,o,!1,null,"5971ba1b",null),v=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_openedEvent"},[a("div",{staticClass:"_openedEvent--cont"},[t.is_loading?a("div",{key:"loader",staticClass:"_spinner"},[a("LoaderSpinner")],1):[t.event?t._e():a("div",[a("router-link",{staticClass:"u-buttonLink",attrs:{to:"/"}},[a("sl-icon",{attrs:{name:"arrow-left-short"}}),t._v(" "+t._s(t.$t("other_events"))+" ")],1)],1),a("CoverField",{staticClass:"_cover",attrs:{context:"full",cover:t.event.$cover,path:t.event.$path,can_edit:t.can_edit_event}}),a("div",{staticClass:"_text"},[a("div",{staticClass:"_backBtn"},[a("router-link",{staticClass:"u-buttonLink",attrs:{to:"/"}},[a("sl-icon",{attrs:{name:"arrow-left-short"}}),t._v(" "+t._s(t.$t("other_events"))+" ")],1)],1),a("div",{staticClass:"u-spacingBottom"},[a("TitleField",{staticClass:"_title",attrs:{field_name:"title",label:t.can_edit_event&&!t.event.title?t.$t("title"):"",content:t.event.title,path:t.event.$path,required:!0,maxlength:40,tag:"h1",can_edit:t.can_edit_event}})],1),a("div",{staticClass:"u-spacingBottom"},[a("TitleField",{staticClass:"_presentation",attrs:{field_name:"presentation",label:t.can_edit_event&&!t.event.description?t.$t("presentation"):"",content:t.event.presentation,path:t.event.$path,maxlength:1280,input_type:"markdown",can_edit:t.can_edit_event}})],1),t.can_edit_event?a("div",{staticClass:"u-mediaOptions"},[a("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:t.removeEvent}})],1):t._e()])]],2)])},_=[],h=(a(74916),a(15306),{props:{event_slug:String},components:{},data(){return{event:void 0,is_loading:!0}},async created(){await this.getEvent().catch((t=>{var e;404===(null===(e=t.response)||void 0===e?void 0:e.status)&&this.$alertify.delay(4e3).error("notifications.event_does_not_exit"),this.$router.replace("/")})),this.$api.join({room:this.event_path}),this.is_loading=!1},mounted(){},beforeDestroy(){this.$api.leave({room:this.event_path})},watch:{},computed:{event_path(){return this.createPath({event_slug:this.event_slug})},can_edit_event(){return this.canLoggedinEditFolder({folder:this.event})}},methods:{async getEvent(){this.event=await this.$api.getFolder({path:this.event_path})},async removeEvent(){await this.$api.deleteItem({path:this.event_path}),this.$router.push("/")}}}),u=h,m=(a(722),(0,c.Z)(u,p,_,!1,null,"843194cc",null)),f=m.exports,b={props:{},components:{EventsList:v,OpenedEvent:f},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{opened_event:{handler(){this.opened_event&&this.$nextTick((()=>{this.$el.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}))},immediate:!0}},computed:{opened_event(){return this.$route.hash.substring(1)||!1}},methods:{}},g=b,w=(a(45486),(0,c.Z)(g,n,s,!1,null,"0a1de936",null)),x=w.exports},52762:function(t,e,a){"use strict";a.r(e);var n=a(8081),s=a.n(n),i=a(23645),o=a.n(i),r=o()(s());r.push([t.id,"._eventsList[data-v-5971ba1b]{margin:0 auto;max-width:var(--max-column-width);padding:calc(var(--spacing)*1)}._list[data-v-5971ba1b]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr))}._list[data-v-5971ba1b],._list--item[data-v-5971ba1b]{gap:calc(var(--spacing)/1)}._list--item[data-v-5971ba1b]{position:relative;display:flex;align-items:center;border:1px solid var(--c-gris);transition:all .2s cubic-bezier(.19,1,.22,1)}._list--item[data-v-5971ba1b]:focus-visible,._list--item[data-v-5971ba1b]:hover{transform:translateY(-4px);box-shadow:0 3px 6px rgba(0,0,0,.16)}._cover[data-v-5971ba1b]{position:relative;aspect-ratio:3/2;flex:0 0 100px}._openEvent[data-v-5971ba1b]{display:flex;justify-content:center}._openEvent[data-v-5971ba1b],._openEvent ._clickZone[data-v-5971ba1b]{position:absolute;top:0;left:0;width:100%;height:100%}",""]),e["default"]=r},82770:function(t,e,a){"use strict";a.r(e);var n=a(8081),s=a.n(n),i=a(23645),o=a.n(i),r=o()(s());r.push([t.id,"",""]),e["default"]=r},67169:function(t,e,a){"use strict";a.r(e);var n=a(8081),s=a.n(n),i=a(23645),o=a.n(i),r=o()(s());r.push([t.id,"._openedEvent[data-v-843194cc]{width:100%;position:relative;min-height:5em;padding:calc(var(--spacing)*1);margin:0 auto;max-width:var(--max-column-width);overflow:hidden}._openedEvent ._openedEvent--cont[data-v-843194cc]{position:relative;display:flex;flex-flow:row wrap;align-items:center}._openedEvent ._openedEvent--cont ._cover[data-v-843194cc]{position:relative;flex:1 0 300px;aspect-ratio:3/2}._openedEvent ._openedEvent--cont ._text[data-v-843194cc]{flex:1 1 400px;padding:calc(var(--spacing)/1)}",""]),e["default"]=r},24386:function(t,e,a){var n=a(52762);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(31982).Z;s("66fcdfdf",n,!0,{sourceMap:!1,shadowMode:!1})},45486:function(t,e,a){var n=a(82770);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(31982).Z;s("6a55eb30",n,!0,{sourceMap:!1,shadowMode:!1})},722:function(t,e,a){var n=a(67169);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(31982).Z;s("44d82cfc",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=359.js.map